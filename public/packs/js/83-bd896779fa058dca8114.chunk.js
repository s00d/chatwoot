(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{2660:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return a}));r(51);var n=function(t){var e=window.chatwootConfig,r=e.hostURL,n=e.helpCenterURL;return"".concat(n||r||"","/hc/").concat(t)},a=function(t,e,r,a){var o=n(t);return"".concat(o,"/articles/").concat(a)}},2722:function(t,e,r){"use strict";var n={__name:"SettingsLayout",props:{title:{type:String,default:null}},setup:function(t){return{__sfc:!0}}},a=r(8),o=Object(a.a)(n,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"flex-grow-0 flex-shrink-0 w-full h-full max-w-full bg-white border border-transparent border-solid dark:bg-slate-900 dark:border-transparent md:max-w-2xl"},[t.$slots.title||t.title?e("h3",{staticClass:"text-lg text-black-900 dark:text-slate-200"},[t._t("title",(function(){return[t._v(t._s(t.title))]}))],2):t._e(),t._v(" "),e("div",{staticClass:"mx-0 my-4 border-b border-solid border-slate-25 dark:border-slate-800"},[t._t("default")],2),t._v(" "),e("div",{staticClass:"flex justify-between"},[e("div",[t._t("footer-left")],2),t._v(" "),e("div",[t._t("footer-right")],2)])])}),[],!1,null,null,null);e.a=o.exports},2968:function(t,e,r){"use strict";r(35),r(43),r(10),r(27);var n=r(2735),a=r(2736),o=r(6),i=r(1778),l=r(369),s=r(326),u=r(2660),c=r(148),E=r(17),m=r(1921),d=r(364),p=r(246),b=r(2722);function _(t,e,r,n,a,o,i){try{var l=t[o](i),s=l.value}catch(u){return void r(u)}l.done?e(s):Promise.resolve(s).then(n,a)}function f(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){_(o,n,a,i,l,"next",t)}function l(t){_(o,n,a,i,l,"throw",t)}i(void 0)}))}}var v={__name:"PortalSettingsBasicForm",props:{portal:{type:Object,default:function(){}},isSubmitting:{type:Boolean,default:!1},submitButtonText:{type:String,default:""}},emits:["submit","delete-logo"],setup:function(t,e){var r=e.emit,_=t,v=c.b.EXAMPLE_URL,O=Object(i.a)().t;Object(o.defineComponent)({name:"PortalSettingsBasicForm"});var A=Object(o.reactive)({name:"",slug:"",domain:"",logoUrl:"",avatarBlobId:""}),R={name:{required:a.b,minLength:Object(a.a)(2)},slug:{required:a.b},domain:{isDomain:p.a}},g=Object(n.a)(R,A),L=Object(o.computed)((function(){return g.value.name.$error?O("HELP_CENTER.CATEGORY.ADD.NAME.ERROR"):""})),P=Object(o.computed)((function(){return g.value.slug.$error?O("HELP_CENTER.CATEGORY.ADD.SLUG.ERROR"):""})),T=Object(o.computed)((function(){return g.value.domain.$error?O("HELP_CENTER.PORTAL.ADD.DOMAIN.ERROR"):""})),h=Object(o.computed)((function(){return Object(u.b)(A.slug)})),C=Object(o.computed)((function(){return O("HELP_CENTER.PORTAL.ADD.DOMAIN.HELP_TEXT",{exampleURL:v})})),D=Object(o.computed)((function(){return Object(E.e)(A.logoUrl)}));function S(){return(S=f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:A.logoUrl="",A.avatarBlobId="",r("delete-logo");case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t){return w.apply(this,arguments)}function w(){return(w=f(regeneratorRuntime.mark((function t(e){var r,n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(d.a)(e);case 3:r=t.sent,n=r.fileUrl,a=r.blobId,n&&(A.logoUrl=n,A.avatarBlobId=a),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),Object(l.a)(O("HELP_CENTER.PORTAL.ADD.LOGO.IMAGE_UPLOAD_ERROR"));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}return Object(o.onMounted)((function(){var t=_.portal||{};if(A.name=t.name||"",A.slug=t.slug||"",A.domain=t.custom_domain||"",t.logo){var e=t.logo,r=e.file_url,n=e.blob_id;A.logoUrl=r,A.avatarBlobId=n}})),{__sfc:!0,EXAMPLE_URL:v,MAXIMUM_FILE_UPLOAD_SIZE:4,t:O,props:_,state:A,rules:R,v$:g,nameError:L,slugError:P,domainError:T,domainHelpText:h,domainExampleHelpText:C,showDeleteButton:D,emit:r,onNameChange:function(){A.slug=Object(s.b)(A.name)},onSubmitClick:function(){if(g.value.$touch(),!g.value.$invalid){var t={name:A.name,slug:A.slug,custom_domain:A.domain,blob_id:A.avatarBlobId||null};r("submit",t)}},deleteAvatar:function(){return S.apply(this,arguments)},uploadLogoToStorage:x,onFileChange:function(t){var e=t.file;if(Object(m.a)(e,4))x(e);else{Object(l.a)(O("PROFILE_SETTINGS.FORM.MESSAGE_SIGNATURE_SECTION.IMAGE_UPLOAD_SIZE_ERROR",{size:4}))}},SettingsLayout:b.a}}},O=v,A=r(8),R=Object(A.a)(O,(function(){var t=this,e=t._self._c,r=t._self._setupProxy;return e(r.SettingsLayout,{attrs:{title:t.$t("HELP_CENTER.PORTAL.ADD.CREATE_FLOW_PAGE.BASIC_SETTINGS_PAGE.TITLE")},scopedSlots:t._u([{key:"footer-right",fn:function(){return[e("woot-button",{attrs:{"is-loading":t.isSubmitting,"is-disabled":r.v$.$invalid},on:{click:r.onSubmitClick}},[t._v("\n      "+t._s(t.submitButtonText)+"\n    ")])]},proxy:!0}])},[e("div",[e("div",{staticClass:"mb-4"},[e("div",{staticClass:"flex flex-row items-center"},[e("woot-avatar-uploader",{attrs:{label:t.$t("HELP_CENTER.PORTAL.ADD.LOGO.LABEL"),src:r.state.logoUrl},on:{change:r.onFileChange}}),t._v(" "),r.showDeleteButton?e("div",{staticClass:"avatar-delete-btn"},[e("woot-button",{attrs:{type:"button","color-scheme":"alert",variant:"hollow",size:"small"},on:{click:r.deleteAvatar}},[t._v("\n            "+t._s(t.$t("PROFILE_SETTINGS.DELETE_AVATAR"))+"\n          ")])],1):t._e()],1),t._v(" "),e("p",{staticClass:"mt-1 mb-0 text-xs not-italic text-slate-600 dark:text-slate-400"},[t._v("\n        "+t._s(t.$t("HELP_CENTER.PORTAL.ADD.LOGO.HELP_TEXT"))+"\n      ")])]),t._v(" "),e("div",{staticClass:"mb-4"},[e("woot-input",{class:{error:r.v$.name.$error},attrs:{error:r.nameError,label:t.$t("HELP_CENTER.PORTAL.ADD.NAME.LABEL"),placeholder:t.$t("HELP_CENTER.PORTAL.ADD.NAME.PLACEHOLDER"),"help-text":t.$t("HELP_CENTER.PORTAL.ADD.NAME.HELP_TEXT")},on:{blur:r.v$.name.$touch,input:r.onNameChange},model:{value:r.state.name,callback:function(e){t.$set(r.state,"name",e)},expression:"state.name"}})],1),t._v(" "),e("div",{staticClass:"mb-4"},[e("woot-input",{class:{error:r.v$.slug.$error},attrs:{error:r.slugError,label:t.$t("HELP_CENTER.PORTAL.ADD.SLUG.LABEL"),placeholder:t.$t("HELP_CENTER.PORTAL.ADD.SLUG.PLACEHOLDER"),"help-text":r.domainHelpText},on:{blur:r.v$.slug.$touch},model:{value:r.state.slug,callback:function(e){t.$set(r.state,"slug",e)},expression:"state.slug"}})],1),t._v(" "),e("div",{staticClass:"mb-4"},[e("woot-input",{class:{error:r.v$.domain.$error},attrs:{label:t.$t("HELP_CENTER.PORTAL.ADD.DOMAIN.LABEL"),placeholder:t.$t("HELP_CENTER.PORTAL.ADD.DOMAIN.PLACEHOLDER"),"help-text":r.domainExampleHelpText,error:r.domainError},on:{blur:r.v$.domain.$touch},model:{value:r.state.domain,callback:function(e){t.$set(r.state,"domain",e)},expression:"state.domain"}})],1)])])}),[],!1,null,null,null);e.a=R.exports},3394:function(t,e,r){"use strict";r.r(e);r(13),r(9),r(11),r(15),r(12),r(16),r(10),r(27),r(35);var n=r(32),a=r(79),o=r(2968),i=r(96);function l(t,e,r,n,a,o,i){try{var l=t[o](i),s=l.value}catch(u){return void r(u)}l.done?e(s):Promise.resolve(s).then(n,a)}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c={components:{PortalSettingsBasicForm:o.a},mixins:[a.a],data:function(){return{name:"",slug:"",domain:"",alertMessage:""}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(n.mapGetters)({uiFlags:"portals/uiFlagsIn"})),methods:{createPortal:function(t){var e,r=this;return(e=regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.blob_id,e.next=4,r.$store.dispatch("portals/create",{portal:t,blob_id:n});case 4:r.alertMessage=r.$t("HELP_CENTER.PORTAL.ADD.API.SUCCESS_MESSAGE_FOR_BASIC"),r.$router.push({name:"portal_customization",params:{portalSlug:t.slug}}),a={has_custom_domain:""!==t.domain},r.$track(i.i.ONBOARD_BASIC_INFORMATION,a),r.$track(i.i.CREATE_PORTAL,a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r.alertMessage=(null===e.t0||void 0===e.t0?void 0:e.t0.message)||r.$t("HELP_CENTER.PORTAL.ADD.API.ERROR_MESSAGE_FOR_BASIC");case 14:return e.prev=14,r.showAlert(r.alertMessage),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(t){l(o,n,a,i,s,"next",t)}function s(t){l(o,n,a,i,s,"throw",t)}i(void 0)}))})()}}},E=c,m=r(8),d=Object(m.a)(E,(function(){var t=this;return(0,t._self._c)("PortalSettingsBasicForm",{attrs:{"is-submitting":t.uiFlags.isCreating,"submit-button-text":t.$t("HELP_CENTER.PORTAL.ADD.CREATE_FLOW_PAGE.BASIC_SETTINGS_PAGE.CREATE_BASIC_SETTING_BUTTON")},on:{submit:t.createPortal}})}),[],!1,null,null,null);e.default=d.exports}}]);
//# sourceMappingURL=83-bd896779fa058dca8114.chunk.js.map