(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{144:function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return s})),r.d(e,"c",(function(){return a})),r.d(e,"d",(function(){return i}));var n=function(t,e,r){var n;return function(){var a=null,s=arguments,i=function(){n=null,r||t.apply(a,s)},o=r&&!n;clearTimeout(n),n=window.setTimeout(i,e),o&&t.apply(a,s)}},a=function(t){var e=t.replace("#","");return.299*parseInt(e.slice(0,2),16)+.587*parseInt(e.slice(2,4),16)+.114*parseInt(e.slice(4,6),16)>186?"#000000":"#FFFFFF"},s=function(t){var e="";if(t>=60&&t<3600){var r=Math.floor(t/60);e=r+" Min";var n=60===r?0:Math.floor(t%60);return e+(n>0?" "+n+" Sec":"")}if(t>=3600&&t<86400){var a=Math.floor(t/3600);e=a+" Hr";var s=t%3600<60||24===a?0:Math.floor(t%3600/60);return e+(s>0?" "+s+" Min":"")}if(t>=86400){var i=Math.floor(t/86400);e=i+" Day";var o=t%86400<3600||i>=364?0:Math.floor(t%86400/3600);return e+(o>0?" "+o+" Hr":"")}return Math.floor(t)+" Sec"},i=function(t,e,r){void 0===t&&(t=""),void 0===e&&(e=1024),void 0===r&&(r=!1);var n=t;return t.length>e&&(n=t.substring(0,e)),r&&(n+="..."),n}},1795:function(t,e,r){"use strict";r(599)},1796:function(t,e,r){"use strict";r(600)},1797:function(t,e,r){var n=r(29),a=r(282);t.exports=function(t){return n((function(){return!!a[t]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[t]()||a[t].name!==t}))}},2592:function(t,e,r){"use strict";r.r(e);r(5),r(2),r(4),r(10),r(7),r(11);var n=r(280),a=r(3),s=r(144),i=(r(38),r(42),r(20),{name:"GroupedAvatars",components:{Thumbnail:r(55).a},props:{users:{type:Array,default:function(){return[]}}}}),o=r(0),l={name:"AvailableAgents",components:{GroupedAvatars:Object(o.a)(i,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex"},t._l(t.users,(function(t,e){return r("span",{key:t.id,class:(e?"-ml-4":"")+" inline-block rounded-full text-white shadow-solid"},[r("thumbnail",{attrs:{size:"40px",username:t.name,src:t.avatar,"has-border":""}})],1)})),0)}),[],!1,null,null,null).exports},props:{agents:{type:Array,default:function(){return[]}}},computed:{users:function(){return this.agents.slice(0,5).map((function(t){return{id:t.id,avatar:t.avatar_url,name:t.name}}))}}},c=Object(o.a)(l,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("grouped-avatars",{attrs:{users:t.users}})}),[],!1,null,null,null).exports,u=r(601),d=r(552),f=r(223);function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var h={name:"TeamAvailability",components:{AvailableAgents:c,CustomButton:u.a},mixins:[n.a,d.a,f.a],props:{availableAgents:{type:Array,default:function(){}},hasConversation:{type:Boolean,default:!1}},computed:b(b({},Object(a.mapGetters)({widgetColor:"appConfig/getWidgetColor"})),{},{textColor:function(){return Object(s.c)(this.widgetColor)},isOnline:function(){var t=this.channelConfig.workingHoursEnabled,e=this.availableAgents.length>0;return t?this.isInBetweenTheWorkingHours:e},replyWaitMessage:function(){var t=this.channelConfig.workingHoursEnabled;return this.isOnline?this.replyTimeStatus:t?this.outOfOfficeMessage:""}}),methods:{startConversation:function(){this.$emit("start-conversation")}}},m=Object(o.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"px-5"},[r("div",{staticClass:"flex items-center justify-between mb-4"},[r("div",{staticClass:"max-w-xs",class:t.$dm("text-black-700","dark:text-slate-50")},[r("div",{staticClass:"text-base leading-5 font-medium mb-1"},[t._v("\n        "+t._s(t.isOnline?t.$t("TEAM_AVAILABILITY.ONLINE"):t.$t("TEAM_AVAILABILITY.OFFLINE"))+"\n      ")]),t._v(" "),r("div",{staticClass:"text-xs leading-4 mt-1"},[t._v("\n        "+t._s(t.replyWaitMessage)+"\n      ")])]),t._v(" "),t.isOnline?r("available-agents",{attrs:{agents:t.availableAgents}}):t._e()],1),t._v(" "),r("custom-button",{staticClass:"font-medium",attrs:{block:"","bg-color":t.widgetColor,"text-color":t.textColor},on:{click:t.startConversation}},[t._v("\n    "+t._s(t.hasConversation?t.$t("CONTINUE_CONVERSATION"):t.$t("START_CONVERSATION"))+"\n  ")])],1)}),[],!1,null,null,null).exports,v=r(528);function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function O(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var C={name:"Home",components:{TeamAvailability:m},mixins:[n.a,v.a],props:{hasFetched:{type:Boolean,default:!1},isCampaignViewClicked:{type:Boolean,default:!1}},data:function(){return{}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){O(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(a.mapGetters)({availableAgents:"agent/availableAgents",activeCampaign:"campaign/getActiveCampaign",conversationSize:"conversation/getConversationSize"})),methods:{startConversation:function(){return this.preChatFormEnabled&&!this.conversationSize?this.replaceRoute("prechat-form"):this.replaceRoute("messages")}}},w=C,S=Object(o.a)(w,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex flex-1 flex-col justify-end"},[r("div",{staticClass:"flex flex-1 overflow-auto"}),t._v(" "),r("team-availability",{attrs:{"available-agents":t.availableAgents,"has-conversation":!!t.conversationSize},on:{"start-conversation":t.startConversation}})],1)}),[],!1,null,null,null);e.default=S.exports},526:function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return a}));r(562),r(40),r(60);var n=function(){var t=12*(window.devicePixelRatio||1),e=document.createElement("canvas");if(!e.getContext||!e.getContext("2d")||"function"!==typeof e.getContext("2d").fillText)return!1;var r=e.getContext("2d");return r.fillStyle="#f00",r.textBaseline="top",r.font="32px Arial",r.fillText("\ud83d\udc28",0,0),0!==r.getImageData(t,t,1,1).data[0]},a=function(t){return t?t.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,"").replace(/\s+/g," ").trim():""}},55:function(t,e,r){"use strict";r(30),r(40),r(60),r(27),r(211),r(143),r(5),r(2),r(4),r(10),r(7),r(11);function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var i={name:"Avatar",props:{username:{type:String,default:""},backgroundColor:{type:String,default:"#c2e1ff"},color:{type:String,default:"#1976cc"},customStyle:{type:Object,default:void 0},size:{type:Number,default:40},src:{type:String,default:""},rounded:{type:Boolean,default:!0},variant:{type:String,default:"circle"}},computed:{style:function(){var t={width:"".concat(this.size,"px"),height:"".concat(this.size,"px"),borderRadius:"square"===this.variant?"var(--border-radius-large)":"50%",lineHeight:"".concat(this.size+Math.floor(this.size/20),"px"),fontSize:"".concat(Math.floor(this.size/2.5),"px")};return this.backgroundColor&&(t=a(a({},t),{},{backgroundColor:this.backgroundColor})),this.color&&(t=a(a({},t),{},{color:this.color})),t},userInitial:function(){return this.initials||this.initial(this.username)}},methods:{initial:function(t){for(var e=t?t.split(/[ -]/):[],r="",n=0;n<e.length;n+=1)r+=e[n].charAt(0);return r.length>2&&-1!==r.search(/[A-Z]/)&&(r=r.replace(/[a-z]+/g,"")),r=r.substring(0,2).toUpperCase()}}},o=(r(1795),r(0)),l=Object(o.a)(i,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"avatar-container",style:[t.style,t.customStyle],attrs:{"aria-hidden":"true"}},[r("span",[t._v(t._s(t.userInitial))])])}),[],!1,null,"523373d1",null).exports,c=r(526),u={components:{Avatar:l},props:{src:{type:String,default:""},size:{type:String,default:"40px"},badge:{type:String,default:"fb"},username:{type:String,default:""},status:{type:String,default:""},hasBorder:{type:Boolean,default:!1},shouldShowStatusAlways:{type:Boolean,default:!1},variant:{type:String,default:"circle"}},data:function(){return{imgError:!1}},computed:{userNameWithoutEmoji:function(){return Object(c.b)(this.username)},showStatusIndicator:function(){return!!this.shouldShowStatusAlways||("online"===this.status||"busy"===this.status)},avatarSize:function(){return Number(this.size.replace(/\D+/g,""))},badgeStyle:function(){var t=Math.floor(this.avatarSize/3),e="".concat(t+2,"px");return{width:e,height:e,borderRadius:"".concat(t/2,"px")}},statusStyle:function(){var t="".concat(this.avatarSize/4,"px");return{width:t,height:t}},thumbnailClass:function(){var t=this.hasBorder?"border":"",e="circle"===this.variant?"thumbnail-rounded":"thumbnail-square";return"user-thumbnail ".concat(t," ").concat(e)}},watch:{src:{handler:function(t,e){t!==e&&this.imgError&&(this.imgError=!1)}}},methods:{onImgError:function(){this.imgError=!0}}},d=(r(1796),Object(o.a)(u,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"user-thumbnail-box",style:{height:t.size,width:t.size}},[!t.imgError&&Boolean(t.src)?r("img",{class:t.thumbnailClass,attrs:{id:"image",src:t.src},on:{error:function(e){return t.onImgError()}}}):r("Avatar",{class:t.thumbnailClass,attrs:{username:t.userNameWithoutEmoji,size:t.avatarSize,variant:t.variant}}),t._v(" "),"instagram_direct_message"===t.badge?r("img",{staticClass:"source-badge",style:t.badgeStyle,attrs:{id:"badge",src:"/integrations/channels/badges/instagram-dm.png"}}):"facebook"===t.badge?r("img",{staticClass:"source-badge",style:t.badgeStyle,attrs:{id:"badge",src:"/integrations/channels/badges/messenger.png"}}):"twitter-tweet"===t.badge?r("img",{staticClass:"source-badge",style:t.badgeStyle,attrs:{id:"badge",src:"/integrations/channels/badges/twitter-tweet.png"}}):"twitter-dm"===t.badge?r("img",{staticClass:"source-badge",style:t.badgeStyle,attrs:{id:"badge",src:"/integrations/channels/badges/twitter-dm.png"}}):"whatsapp"===t.badge?r("img",{staticClass:"source-badge",style:t.badgeStyle,attrs:{id:"badge",src:"/integrations/channels/badges/whatsapp.png"}}):"sms"===t.badge?r("img",{staticClass:"source-badge",style:t.badgeStyle,attrs:{id:"badge",src:"/integrations/channels/badges/sms.png"}}):"Channel::Line"===t.badge?r("img",{staticClass:"source-badge",style:t.badgeStyle,attrs:{id:"badge",src:"/integrations/channels/badges/line.png"}}):"Channel::Telegram"===t.badge?r("img",{staticClass:"source-badge",style:t.badgeStyle,attrs:{id:"badge",src:"/integrations/channels/badges/telegram.png"}}):t._e(),t._v(" "),t.showStatusIndicator?r("div",{class:"source-badge user-online-status user-online-status--"+t.status,style:t.statusStyle}):t._e()],1)}),[],!1,null,"45592b56",null));e.a=d.exports},562:function(t,e,r){"use strict";var n=r(33),a=r(281).trim;n({target:"String",proto:!0,forced:r(1797)("trim")},{trim:function(){return a(this)}})},599:function(t,e,r){},600:function(t,e,r){},601:function(t,e,r){"use strict";r(5);var n={props:{block:{type:Boolean,default:!1},type:{type:String,default:"blue"},bgColor:{type:String,default:""},textColor:{type:String,default:""},disabled:{type:Boolean,default:!1}},computed:{buttonClassName:function(){var t="text-white py-3 px-4 rounded shadow-sm";return"clear"===this.type&&(t="flex mx-auto mt-4 text-xs w-auto text-black-600"),"blue"!==this.type||Object.keys(this.buttonStyles).length||(t="".concat(t," bg-woot-500 hover:bg-woot-700")),this.block&&(t="".concat(t," w-full")),t},buttonStyles:function(){var t={};return this.bgColor&&(t.backgroundColor=this.bgColor),this.textColor&&(t.color=this.textColor),t}},methods:{onClick:function(t){this.$emit("click",t)}}},a=r(0),s=Object(a.a)(n,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{class:t.buttonClassName,style:t.buttonStyles,attrs:{disabled:t.disabled},on:{click:t.onClick}},[t._t("default")],2)}),[],!1,null,null,null);e.a=s.exports}}]);
//# sourceMappingURL=14-16d3eea3fcdda1d3f369.chunk.js.map