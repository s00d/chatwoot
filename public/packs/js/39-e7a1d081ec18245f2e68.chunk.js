(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{2779:function(t,e,n){},2791:function(t,e,n){"use strict";n(2779)},2869:function(t,e,n){"use strict";n.r(e);n(19),n(22),n(3),n(27),n(6),n(18);var r=n(16),o=n(14),a=n(166),s=n(50);function i(t,e,n,r,o,a,s){try{var i=t[a](s),E=i.value}catch(l){return void n(l)}i.done?e(E):Promise.resolve(E).then(r,o)}var E={mixins:[r.a],props:{show:{type:Boolean,default:!0},portalName:{type:String,default:""},locale:{type:String,default:""},category:{type:Object,default:function(){}},selectedPortalSlug:{type:String,default:""}},data:function(){return{id:this.category.id,name:"",slug:"",description:""}},validations:{name:{required:o.required,minLength:Object(o.minLength)(2)},slug:{required:o.required}},computed:{nameError:function(){return this.$v.name.$error?this.$t("HELP_CENTER.CATEGORY.ADD.NAME.ERROR"):""},slugError:function(){return this.$v.slug.$error?this.$t("HELP_CENTER.CATEGORY.ADD.SLUG.ERROR"):""}},mounted:function(){this.updateDataFromStore()},methods:{updateDataFromStore:function(){var t=this.category;this.name=t.name,this.slug=t.slug,this.description=t.description},onNameChange:function(){this.slug=Object(a.b)(this.name)},onUpdate:function(){this.$emit("update")},onClose:function(){this.$emit("cancel")},editCategory:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,r,o,a,i,E;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.id,r=e.name,o=e.slug,a=e.description,i={id:n,name:r,slug:o,description:a},e.$v.$touch(),!e.$v.$invalid){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,t.next=8,e.$store.dispatch("categories/update",{portalSlug:e.selectedPortalSlug,categoryId:n,categoryObj:i});case 8:e.alertMessage=e.$t("HELP_CENTER.CATEGORY.EDIT.API.SUCCESS_MESSAGE"),e.$track(s.f.EDIT_CATEGORY),e.onClose(),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(5),E=null===t.t0||void 0===t.t0?void 0:t.t0.message,e.alertMessage=E||e.$t("HELP_CENTER.CATEGORY.EDIT.API.ERROR_MESSAGE");case 17:return t.prev=17,e.showAlert(e.alertMessage),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[5,13,17,20]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function s(t){i(a,r,o,s,E,"next",t)}function E(t){i(a,r,o,s,E,"throw",t)}s(void 0)}))})()}}},l=E,u=(n(2791),n(1)),c=Object(u.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("woot-modal",{attrs:{show:t.show,"on-close":t.onClose},on:{"update:show":function(e){t.show=e}}},[n("woot-modal-header",{attrs:{"header-title":t.$t("HELP_CENTER.CATEGORY.EDIT.TITLE"),"header-content":t.$t("HELP_CENTER.CATEGORY.EDIT.SUB_TITLE")}}),t._v(" "),n("form",{staticClass:"row",on:{submit:function(e){return e.preventDefault(),t.onUpdate(e)}}},[n("div",{staticClass:"medium-12 columns"},[n("div",{staticClass:"row article-info"},[n("div",{staticClass:"columns medium-6"},[n("label",[n("span",[t._v(t._s(t.$t("HELP_CENTER.CATEGORY.EDIT.PORTAL")))]),t._v(" "),n("p",{staticClass:"value"},[t._v(t._s(t.portalName))])])]),t._v(" "),n("div",{staticClass:"columns medium-6"},[n("label",[n("span",[t._v(t._s(t.$t("HELP_CENTER.CATEGORY.EDIT.LOCALE")))]),t._v(" "),n("p",{staticClass:"value"},[t._v(t._s(t.locale))])])])]),t._v(" "),n("woot-input",{staticClass:"medium-12 columns",class:{error:t.$v.name.$error},attrs:{error:t.nameError,label:t.$t("HELP_CENTER.CATEGORY.EDIT.NAME.LABEL"),placeholder:t.$t("HELP_CENTER.CATEGORY.EDIT.NAME.PLACEHOLDER"),"help-text":t.$t("HELP_CENTER.CATEGORY.EDIT.NAME.HELP_TEXT")},on:{input:t.onNameChange},model:{value:t.name,callback:function(e){t.name="string"===typeof e?e.trim():e},expression:"name"}}),t._v(" "),n("woot-input",{staticClass:"medium-12 columns",class:{error:t.$v.slug.$error},attrs:{error:t.slugError,label:t.$t("HELP_CENTER.CATEGORY.EDIT.SLUG.LABEL"),placeholder:t.$t("HELP_CENTER.CATEGORY.EDIT.SLUG.PLACEHOLDER"),"help-text":t.$t("HELP_CENTER.CATEGORY.EDIT.SLUG.HELP_TEXT")},on:{input:t.$v.slug.$touch},model:{value:t.slug,callback:function(e){t.slug="string"===typeof e?e.trim():e},expression:"slug"}}),t._v(" "),n("label",[t._v("\n        "+t._s(t.$t("HELP_CENTER.CATEGORY.EDIT.DESCRIPTION.LABEL"))+"\n        "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{rows:"3",type:"text",placeholder:t.$t("HELP_CENTER.CATEGORY.EDIT.DESCRIPTION.PLACEHOLDER")},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"medium-12 columns"},[n("div",{staticClass:"modal-footer justify-content-end w-full"},[n("woot-button",{staticClass:"button clear",on:{click:function(e){return e.preventDefault(),t.onClose(e)}}},[t._v("\n            "+t._s(t.$t("HELP_CENTER.CATEGORY.EDIT.BUTTONS.CANCEL"))+"\n          ")]),t._v(" "),n("woot-button",{on:{click:t.editCategory}},[t._v("\n            "+t._s(t.$t("HELP_CENTER.CATEGORY.EDIT.BUTTONS.CREATE"))+"\n          ")])],1)])],1)])],1)}),[],!1,null,"1cb8cf30",null);e.default=c.exports}}]);
//# sourceMappingURL=39-e7a1d081ec18245f2e68.chunk.js.map