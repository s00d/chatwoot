{"version":3,"sources":["webpack:///./app/javascript/dashboard/components/widgets/UserAvatarWithName.vue?7c08","webpack:///./app/javascript/dashboard/components/widgets/UserAvatarWithName.vue?392e","webpack:///app/javascript/dashboard/components/widgets/UserAvatarWithName.vue","webpack:///./app/javascript/dashboard/components/widgets/UserAvatarWithName.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/reports/components/ReportMetricCard.vue?64a5","webpack:///./app/javascript/dashboard/routes/dashboard/settings/reports/components/ReportMetricCard.vue?1611","webpack:///./app/javascript/dashboard/routes/dashboard/settings/reports/components/ReportMetricCard.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatTable.vue?970c","webpack:///./app/javascript/dashboard/routes/dashboard/settings/reports/CsatResponses.vue?ad75","webpack:///app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatMetrics.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatMetrics.vue?f9f1","webpack:///./app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatMetrics.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatMetrics.vue?7968","webpack:///app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatTable.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatTable.vue?1b74","webpack:///./app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatTable.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatTable.vue?9d7a","webpack:///app/javascript/dashboard/routes/dashboard/settings/reports/CsatResponses.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/reports/CsatResponses.vue?8786","webpack:///./app/javascript/dashboard/routes/dashboard/settings/reports/CsatResponses.vue"],"names":["component","_vm","this","_c","_self","staticClass","attrs","user","thumbnail","size","name","availability_status","_v","class","textClass","_s","_setupProxy","ref","disabled","label","directives","rawName","value","expression","$t","responseCount","ratingFilterEnabled","formatToPercent","satisfactionScore","responseRate","metrics","totalResponseCount","_l","rating","key","index","ratingToEmoji","chartData","_e","columns","tableData","length","pageIndex","on","onPageNumberChange","isTeamsEnabled","onFilterChange","downloadReports","requestPayload"],"mappings":"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","file":"js/77-4432f911e14aa31a40f6.chunk.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex items-center gap-1.5 text-left\"},[_c('thumbnail',{attrs:{\"src\":_vm.user.thumbnail,\"size\":_vm.size,\"username\":_vm.user.name,\"status\":_vm.user.availability_status}}),_vm._v(\" \"),_c('h6',{staticClass:\"my-0 dark:text-slate-100 overflow-hidden whitespace-nowrap text-ellipsis text-capitalize\",class:_vm.textClass},[_vm._v(\"\\n    \"+_vm._s(_vm.user.name)+\"\\n  \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAvatarWithName.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAvatarWithName.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"flex items-center gap-1.5 text-left\">\n    <thumbnail\n      :src=\"user.thumbnail\"\n      :size=\"size\"\n      :username=\"user.name\"\n      :status=\"user.availability_status\"\n    />\n    <h6\n      class=\"my-0 dark:text-slate-100 overflow-hidden whitespace-nowrap text-ellipsis text-capitalize\"\n      :class=\"textClass\"\n    >\n      {{ user.name }}\n    </h6>\n  </div>\n</template>\n<script>\nimport Thumbnail from 'dashboard/components/widgets/Thumbnail.vue';\n\nexport default {\n  components: {\n    Thumbnail,\n  },\n  props: {\n    user: {\n      type: Object,\n      default: () => {},\n    },\n    size: {\n      type: String,\n      default: '20px',\n    },\n    textClass: {\n      type: String,\n      default: 'text-xs text-slate-600',\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./UserAvatarWithName.vue?vue&type=template&id=b19a8be4&\"\nimport script from \"./UserAvatarWithName.vue?vue&type=script&lang=js&\"\nexport * from \"./UserAvatarWithName.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{ref:\"reportMetricContainer\",staticClass:\"m-0 p-4\",class:{\n    'grayscale pointer-events-none opacity-30': _vm.disabled,\n  }},[_c('h3',{staticClass:\"flex items-center text-sm font-medium m-0 text-slate-800 dark:text-slate-100\"},[_c('span',{ref:\"reportMetricLabel\"},[_vm._v(_vm._s(_vm.label))]),_vm._v(\" \"),_c('fluent-icon',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.infoText),expression:\"infoText\"}],ref:\"reportMetricInfo\",staticClass:\"text-slate-500 dark:text-slate-200 my-0 mx-1 mt-0.5\",attrs:{\"size\":\"14\",\"icon\":\"info\"}})],1),_vm._v(\" \"),_c('h4',{ref:\"reportMetricValue\",staticClass:\"text-slate-700 dark:text-slate-100 mb-0 mt-1 font-thin text-3xl\"},[_vm._v(\"\\n    \"+_vm._s(_vm.value)+\"\\n  \")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportMetricCard.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportMetricCard.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./ReportMetricCard.vue?vue&type=template&id=1515d57f&\"\nimport script from \"./ReportMetricCard.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./ReportMetricCard.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsatTable.vue?vue&type=style&index=0&id=5efee445&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex-1 overflow-auto p-4\"},[_c('report-filter-selector',{attrs:{\"show-agents-filter\":true,\"show-inbox-filter\":true,\"show-rating-filter\":true,\"show-team-filter\":_vm.isTeamsEnabled,\"show-business-hours-switch\":false},on:{\"filter-change\":_vm.onFilterChange}}),_vm._v(\" \"),_c('woot-button',{attrs:{\"color-scheme\":\"success\",\"class-names\":\"button--fixed-top\",\"icon\":\"arrow-download\"},on:{\"click\":_vm.downloadReports}},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('CSAT_REPORTS.DOWNLOAD'))+\"\\n  \")]),_vm._v(\" \"),_c('csat-metrics',{attrs:{\"filters\":_vm.requestPayload}}),_vm._v(\" \"),_c('csat-table',{attrs:{\"page-index\":_vm.pageIndex},on:{\"page-change\":_vm.onPageNumberChange}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"flex-col lg:flex-row flex flex-wrap mx-0 bg-white dark:bg-slate-800 rounded-[4px] p-4 mb-5 border border-solid border-slate-75 dark:border-slate-700\"\n  >\n    <csat-metric-card\n      :label=\"$t('CSAT_REPORTS.METRIC.TOTAL_RESPONSES.LABEL')\"\n      :info-text=\"$t('CSAT_REPORTS.METRIC.TOTAL_RESPONSES.TOOLTIP')\"\n      :value=\"responseCount\"\n      class=\"xs:w-full sm:max-w-[50%] lg:w-1/6 lg:max-w-[16%]\"\n    />\n    <csat-metric-card\n      :disabled=\"ratingFilterEnabled\"\n      :label=\"$t('CSAT_REPORTS.METRIC.SATISFACTION_SCORE.LABEL')\"\n      :info-text=\"$t('CSAT_REPORTS.METRIC.SATISFACTION_SCORE.TOOLTIP')\"\n      :value=\"ratingFilterEnabled ? '--' : formatToPercent(satisfactionScore)\"\n      class=\"xs:w-full sm:max-w-[50%] lg:w-1/6 lg:max-w-[16%]\"\n    />\n    <csat-metric-card\n      :label=\"$t('CSAT_REPORTS.METRIC.RESPONSE_RATE.LABEL')\"\n      :info-text=\"$t('CSAT_REPORTS.METRIC.RESPONSE_RATE.TOOLTIP')\"\n      :value=\"formatToPercent(responseRate)\"\n      class=\"xs:w-full sm:max-w-[50%] lg:w-1/6 lg:max-w-[16%]\"\n    />\n\n    <div\n      v-if=\"metrics.totalResponseCount && !ratingFilterEnabled\"\n      ref=\"csatHorizontalBarChart\"\n      class=\"w-full md:w-1/2 md:max-w-[50%] flex-1 rtl:[direction:initial] p-4\"\n    >\n      <h3\n        class=\"flex items-center text-xs md:text-sm font-medium m-0 text-slate-800 dark:text-slate-100\"\n      >\n        <div class=\"flex justify-end flex-row-reverse\">\n          <div\n            v-for=\"(rating, key, index) in ratingPercentage\"\n            :key=\"rating + key + index\"\n            class=\"ltr:pr-4 rtl:pl-4\"\n          >\n            <span class=\"my-0 mx-0.5\">{{ ratingToEmoji(key) }}</span>\n            <span>{{ formatToPercent(rating) }}</span>\n          </div>\n        </div>\n      </h3>\n      <div class=\"mt-2\">\n        <woot-horizontal-bar :collection=\"chartData\" :height=\"24\" />\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapGetters } from 'vuex';\nimport CsatMetricCard from './ReportMetricCard.vue';\nimport { CSAT_RATINGS } from 'shared/constants/messages';\n\nexport default {\n  components: {\n    CsatMetricCard,\n  },\n  props: {\n    filters: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      csatRatings: CSAT_RATINGS,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      metrics: 'csat/getMetrics',\n      ratingPercentage: 'csat/getRatingPercentage',\n      satisfactionScore: 'csat/getSatisfactionScore',\n      responseRate: 'csat/getResponseRate',\n    }),\n    ratingFilterEnabled() {\n      return Boolean(this.filters.rating);\n    },\n    chartData() {\n      const sortedRatings = [...CSAT_RATINGS].sort((a, b) => b.value - a.value);\n      return {\n        labels: ['Rating'],\n        datasets: sortedRatings.map(rating => ({\n          label: rating.emoji,\n          data: [this.ratingPercentage[rating.value]],\n          backgroundColor: rating.color,\n        })),\n      };\n    },\n    responseCount() {\n      return this.metrics.totalResponseCount\n        ? this.metrics.totalResponseCount.toLocaleString()\n        : '--';\n    },\n  },\n  methods: {\n    formatToPercent(value) {\n      return value ? `${value}%` : '--';\n    },\n    ratingToEmoji(value) {\n      return CSAT_RATINGS.find(rating => rating.value === Number(value)).emoji;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsatMetrics.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsatMetrics.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CsatMetrics.vue?vue&type=template&id=cdbc978c&\"\nimport script from \"./CsatMetrics.vue?vue&type=script&lang=js&\"\nexport * from \"./CsatMetrics.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex-col lg:flex-row flex flex-wrap mx-0 bg-white dark:bg-slate-800 rounded-[4px] p-4 mb-5 border border-solid border-slate-75 dark:border-slate-700\"},[_c('csat-metric-card',{staticClass:\"xs:w-full sm:max-w-[50%] lg:w-1/6 lg:max-w-[16%]\",attrs:{\"label\":_vm.$t('CSAT_REPORTS.METRIC.TOTAL_RESPONSES.LABEL'),\"info-text\":_vm.$t('CSAT_REPORTS.METRIC.TOTAL_RESPONSES.TOOLTIP'),\"value\":_vm.responseCount}}),_vm._v(\" \"),_c('csat-metric-card',{staticClass:\"xs:w-full sm:max-w-[50%] lg:w-1/6 lg:max-w-[16%]\",attrs:{\"disabled\":_vm.ratingFilterEnabled,\"label\":_vm.$t('CSAT_REPORTS.METRIC.SATISFACTION_SCORE.LABEL'),\"info-text\":_vm.$t('CSAT_REPORTS.METRIC.SATISFACTION_SCORE.TOOLTIP'),\"value\":_vm.ratingFilterEnabled ? '--' : _vm.formatToPercent(_vm.satisfactionScore)}}),_vm._v(\" \"),_c('csat-metric-card',{staticClass:\"xs:w-full sm:max-w-[50%] lg:w-1/6 lg:max-w-[16%]\",attrs:{\"label\":_vm.$t('CSAT_REPORTS.METRIC.RESPONSE_RATE.LABEL'),\"info-text\":_vm.$t('CSAT_REPORTS.METRIC.RESPONSE_RATE.TOOLTIP'),\"value\":_vm.formatToPercent(_vm.responseRate)}}),_vm._v(\" \"),(_vm.metrics.totalResponseCount && !_vm.ratingFilterEnabled)?_c('div',{ref:\"csatHorizontalBarChart\",staticClass:\"w-full md:w-1/2 md:max-w-[50%] flex-1 rtl:[direction:initial] p-4\"},[_c('h3',{staticClass:\"flex items-center text-xs md:text-sm font-medium m-0 text-slate-800 dark:text-slate-100\"},[_c('div',{staticClass:\"flex justify-end flex-row-reverse\"},_vm._l((_vm.ratingPercentage),function(rating,key,index){return _c('div',{key:rating + key + index,staticClass:\"ltr:pr-4 rtl:pl-4\"},[_c('span',{staticClass:\"my-0 mx-0.5\"},[_vm._v(_vm._s(_vm.ratingToEmoji(key)))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.formatToPercent(rating)))])])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"mt-2\"},[_c('woot-horizontal-bar',{attrs:{\"collection\":_vm.chartData,\"height\":24}})],1)]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"csat--table-container\">\n    <ve-table\n      max-height=\"calc(100vh - 21.875rem)\"\n      :fixed-header=\"true\"\n      :border-around=\"true\"\n      :columns=\"columns\"\n      :table-data=\"tableData\"\n    />\n    <div v-show=\"!tableData.length\" class=\"csat--empty-records\">\n      {{ $t('CSAT_REPORTS.NO_RECORDS') }}\n    </div>\n    <div v-if=\"metrics.totalResponseCount\" class=\"table-pagination\">\n      <ve-pagination\n        :total=\"metrics.totalResponseCount\"\n        :page-index=\"pageIndex\"\n        :page-size=\"25\"\n        :page-size-option=\"[25]\"\n        @on-page-number-change=\"onPageNumberChange\"\n      />\n    </div>\n  </div>\n</template>\n<script>\nimport { VeTable, VePagination } from 'vue-easytable';\nimport UserAvatarWithName from 'dashboard/components/widgets/UserAvatarWithName.vue';\nimport { CSAT_RATINGS } from 'shared/constants/messages';\nimport { mapGetters } from 'vuex';\nimport timeMixin from 'dashboard/mixins/time';\nimport rtlMixin from 'shared/mixins/rtlMixin';\n\nexport default {\n  components: {\n    VeTable,\n    VePagination,\n  },\n  mixins: [timeMixin, rtlMixin],\n  props: {\n    pageIndex: {\n      type: Number,\n      default: 1,\n    },\n  },\n  computed: {\n    ...mapGetters({\n      uiFlags: 'csat/getUIFlags',\n      csatResponses: 'csat/getCSATResponses',\n      metrics: 'csat/getMetrics',\n    }),\n    columns() {\n      return [\n        {\n          field: 'contact',\n          key: 'contact',\n          title: this.$t('CSAT_REPORTS.TABLE.HEADER.CONTACT_NAME'),\n          align: this.isRTLView ? 'right' : 'left',\n          width: 200,\n          renderBodyCell: ({ row }) => {\n            if (row.contact) {\n              return (\n                <UserAvatarWithName\n                  textClass=\"text-sm text-slate-800\"\n                  size=\"24px\"\n                  user={row.contact}\n                />\n              );\n            }\n            return '---';\n          },\n        },\n        {\n          field: 'assignedAgent',\n          key: 'assignedAgent',\n          title: this.$t('CSAT_REPORTS.TABLE.HEADER.AGENT_NAME'),\n          align: this.isRTLView ? 'right' : 'left',\n          width: 200,\n          renderBodyCell: ({ row }) => {\n            if (row.assignedAgent) {\n              return (\n                <UserAvatarWithName size=\"24px\" user={row.assignedAgent} />\n              );\n            }\n            return '---';\n          },\n        },\n        {\n          field: 'rating',\n          key: 'rating',\n          title: this.$t('CSAT_REPORTS.TABLE.HEADER.RATING'),\n          align: 'center',\n          width: 80,\n          renderBodyCell: ({ row }) => {\n            const [ratingObject = {}] = CSAT_RATINGS.filter(\n              rating => rating.value === row.rating\n            );\n            return (\n              <span class=\"emoji-response\">{ratingObject.emoji || '---'}</span>\n            );\n          },\n        },\n        {\n          field: 'feedbackText',\n          key: 'feedbackText',\n          title: this.$t('CSAT_REPORTS.TABLE.HEADER.FEEDBACK_TEXT'),\n          align: this.isRTLView ? 'right' : 'left',\n          width: 400,\n        },\n        {\n          field: 'conversationId',\n          key: 'conversationId',\n          title: '',\n          align: this.isRTLView ? 'right' : 'left',\n          width: 100,\n          renderBodyCell: ({ row }) => {\n            const routerParams = {\n              name: 'inbox_conversation',\n              params: { conversation_id: row.conversationId },\n            };\n            return (\n              <div class=\"text-right\">\n                <router-link to={routerParams}>\n                  {`#${row.conversationId}`}\n                </router-link>\n                <div class=\"csat--timestamp\" v-tooltip={row.createdAt}>\n                  {row.createdAgo}\n                </div>\n              </div>\n            );\n          },\n        },\n      ];\n    },\n    tableData() {\n      return this.csatResponses.map(response => ({\n        contact: response.contact,\n        assignedAgent: response.assigned_agent,\n        rating: response.rating,\n        feedbackText: response.feedback_message || '---',\n        conversationId: response.conversation_id,\n        createdAgo: this.dynamicTime(response.created_at),\n        createdAt: this.messageStamp(response.created_at, 'LLL d yyyy, kk:mm'),\n      }));\n    },\n  },\n  methods: {\n    onPageNumberChange(pageIndex) {\n      this.$emit('page-change', pageIndex);\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.csat--table-container {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n\n  .ve-table {\n    @apply bg-white dark:bg-slate-900;\n\n    &::v-deep {\n      .ve-table-container {\n        border-radius: var(--border-radius-normal);\n      }\n\n      th.ve-table-header-th {\n        font-size: var(--font-size-mini) !important;\n        padding: var(--space-normal) !important;\n      }\n\n      td.ve-table-body-td {\n        padding: var(--space-small) var(--space-normal) !important;\n      }\n    }\n  }\n\n  &::v-deep .ve-pagination {\n    background-color: transparent;\n  }\n\n  &::v-deep .ve-pagination-select {\n    display: none;\n  }\n\n  .emoji-response {\n    font-size: var(--font-size-large);\n  }\n\n  .table-pagination {\n    margin-top: var(--space-normal);\n    text-align: right;\n  }\n}\n\n.csat--empty-records {\n  align-items: center;\n  // border: 1px solid var(--color-border);\n  border-top: 0;\n  display: flex;\n  font-size: var(--font-size-small);\n  height: 12.5rem;\n  justify-content: center;\n  margin-top: -1px;\n  width: 100%;\n  @apply text-slate-600 dark:text-slate-200 bg-white dark:bg-slate-900 border border-t-0 border-solid border-slate-75 dark:border-slate-700;\n}\n\n.csat--timestamp {\n  @apply text-slate-600 dark:text-slate-200 text-sm;\n}\n</style>\n","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsatTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsatTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CsatTable.vue?vue&type=template&id=5efee445&scoped=true&\"\nimport script from \"./CsatTable.vue?vue&type=script&lang=js&\"\nexport * from \"./CsatTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CsatTable.vue?vue&type=style&index=0&id=5efee445&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5efee445\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"csat--table-container\"},[_c('ve-table',{attrs:{\"max-height\":\"calc(100vh - 21.875rem)\",\"fixed-header\":true,\"border-around\":true,\"columns\":_vm.columns,\"table-data\":_vm.tableData}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.tableData.length),expression:\"!tableData.length\"}],staticClass:\"csat--empty-records\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('CSAT_REPORTS.NO_RECORDS'))+\"\\n  \")]),_vm._v(\" \"),(_vm.metrics.totalResponseCount)?_c('div',{staticClass:\"table-pagination\"},[_c('ve-pagination',{attrs:{\"total\":_vm.metrics.totalResponseCount,\"page-index\":_vm.pageIndex,\"page-size\":25,\"page-size-option\":[25]},on:{\"on-page-number-change\":_vm.onPageNumberChange}})],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"flex-1 overflow-auto p-4\">\n    <report-filter-selector\n      :show-agents-filter=\"true\"\n      :show-inbox-filter=\"true\"\n      :show-rating-filter=\"true\"\n      :show-team-filter=\"isTeamsEnabled\"\n      :show-business-hours-switch=\"false\"\n      @filter-change=\"onFilterChange\"\n    />\n    <woot-button\n      color-scheme=\"success\"\n      class-names=\"button--fixed-top\"\n      icon=\"arrow-download\"\n      @click=\"downloadReports\"\n    >\n      {{ $t('CSAT_REPORTS.DOWNLOAD') }}\n    </woot-button>\n    <csat-metrics :filters=\"requestPayload\" />\n    <csat-table :page-index=\"pageIndex\" @page-change=\"onPageNumberChange\" />\n  </div>\n</template>\n<script>\nimport CsatMetrics from './components/CsatMetrics.vue';\nimport CsatTable from './components/CsatTable.vue';\nimport ReportFilterSelector from './components/FilterSelector.vue';\nimport { generateFileName } from '../../../../helper/downloadHelper';\nimport { REPORTS_EVENTS } from '../../../../helper/AnalyticsHelper/events';\nimport { mapGetters } from 'vuex';\nimport { FEATURE_FLAGS } from '../../../../featureFlags';\nimport alertMixin from '../../../../../shared/mixins/alertMixin';\n\nexport default {\n  name: 'CsatResponses',\n  components: {\n    CsatMetrics,\n    CsatTable,\n    ReportFilterSelector,\n  },\n  mixins: [alertMixin],\n  data() {\n    return {\n      pageIndex: 1,\n      from: 0,\n      to: 0,\n      userIds: [],\n      inbox: null,\n      team: null,\n      rating: null,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      accountId: 'getCurrentAccountId',\n      isFeatureEnabledOnAccount: 'accounts/isFeatureEnabledonAccount',\n    }),\n    requestPayload() {\n      return {\n        from: this.from,\n        to: this.to,\n        user_ids: this.userIds,\n        inbox_id: this.inbox,\n        team_id: this.team,\n        rating: this.rating,\n      };\n    },\n    isTeamsEnabled() {\n      return this.isFeatureEnabledOnAccount(\n        this.accountId,\n        FEATURE_FLAGS.TEAM_MANAGEMENT\n      );\n    },\n  },\n  methods: {\n    getAllData() {\n      try {\n        this.$store.dispatch('csat/getMetrics', this.requestPayload);\n        this.getResponses();\n      } catch {\n        this.showAlert(this.$t('REPORT.DATA_FETCHING_FAILED'));\n      }\n    },\n    getResponses() {\n      this.$store.dispatch('csat/get', {\n        page: this.pageIndex,\n        ...this.requestPayload,\n      });\n    },\n    downloadReports() {\n      const type = 'csat';\n      try {\n        this.$store.dispatch('csat/downloadCSATReports', {\n          fileName: generateFileName({ type, to: this.to }),\n          ...this.requestPayload,\n        });\n      } catch (error) {\n        this.showAlert(this.$t('REPORT.CSAT_REPORTS.DOWNLOAD_FAILED'));\n      }\n    },\n    onPageNumberChange(pageIndex) {\n      this.pageIndex = pageIndex;\n      this.getResponses();\n    },\n    onFilterChange({\n      from,\n      to,\n      selectedAgents,\n      selectedInbox,\n      selectedTeam,\n      selectedRating,\n    }) {\n      // do not track filter change on inital load\n      if (this.from !== 0 && this.to !== 0) {\n        this.$track(REPORTS_EVENTS.FILTER_REPORT, {\n          filterType: 'date',\n          reportType: 'csat',\n        });\n      }\n\n      this.from = from;\n      this.to = to;\n      this.userIds = selectedAgents.map(el => el.id);\n      this.inbox = selectedInbox?.id;\n      this.team = selectedTeam?.id;\n      this.rating = selectedRating?.value;\n\n      this.getAllData();\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsatResponses.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsatResponses.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CsatResponses.vue?vue&type=template&id=203139b1&\"\nimport script from \"./CsatResponses.vue?vue&type=script&lang=js&\"\nexport * from \"./CsatResponses.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}