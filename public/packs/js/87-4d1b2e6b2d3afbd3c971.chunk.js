(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{2951:function(e,t,n){},3195:function(e,t,n){"use strict";n(2951)},3378:function(e,t,n){"use strict";n.r(t);n(34),n(41),n(11),n(7),n(9),n(13),n(10),n(14),n(8),n(25);var o=n(27),s=n(78),r=n(310),a={components:{Thumbnail:n(272).a},mixins:[r.a],props:{macro:{type:Object,required:!0}},computed:{createdByName:function(){var e,t,n=this.macro.created_by;return null!==(e=null!==(t=n.available_name)&&void 0!==t?t:n.email)&&void 0!==e?e:""},updatedByName:function(){var e,t,n=this.macro.updated_by;return null!==(e=null!==(t=n.available_name)&&void 0!==t?t:n.email)&&void 0!==e?e:""},visibilityLabel:function(){return"global"===this.macro.visibility?this.$t("MACROS.EDITOR.VISIBILITY.GLOBAL.LABEL"):this.$t("MACROS.EDITOR.VISIBILITY.PERSONAL.LABEL")}}},i=(n(3195),n(6));function c(e,t,n,o,s,r,a){try{var i=e[r](a),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(o,s)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={components:{MacrosTableRow:Object(i.a)(a,(function(){var e=this,t=e._self._c;return t("tr",[t("td",[e._v(e._s(e.macro.name))]),e._v(" "),t("td",[e.macro.created_by?t("div",{staticClass:"avatar-container"},[t("thumbnail",{attrs:{username:e.createdByName,size:"24px"}}),e._v(" "),t("span",[e._v(e._s(e.createdByName))])],1):e._e()]),e._v(" "),t("td",[e.macro.updated_by?t("div",{staticClass:"avatar-container"},[t("thumbnail",{attrs:{username:e.updatedByName,size:"24px"}}),e._v(" "),t("span",[e._v(e._s(e.updatedByName))])],1):e._e()]),e._v(" "),t("td",[e._v(e._s(e.visibilityLabel))]),e._v(" "),t("td",{staticClass:"button-wrapper"},[t("router-link",{attrs:{to:e.addAccountScoping(`settings/macros/${e.macro.id}/edit`)}},[t("woot-button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:e.$t("MACROS.EDIT.TOOLTIP"),expression:"$t('MACROS.EDIT.TOOLTIP')",modifiers:{top:!0}}],attrs:{variant:"smooth",size:"tiny","color-scheme":"secondary","class-names":"grey-btn",icon:"edit"}})],1),e._v(" "),t("woot-button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:e.$t("MACROS.DELETE.TOOLTIP"),expression:"$t('MACROS.DELETE.TOOLTIP')",modifiers:{top:!0}}],attrs:{variant:"smooth","color-scheme":"alert",size:"tiny",icon:"dismiss-circle","class-names":"grey-btn"},on:{click:function(t){return e.$emit("delete")}}})],1)])}),[],!1,null,"190a563a",null).exports},mixins:[s.a,r.a],data:function(){return{showDeleteConfirmationPopup:!1,selectedResponse:{},loading:{}}},computed:u(u({},Object(o.mapGetters)({records:["macros/getMacros"],uiFlags:"macros/getUIFlags"})),{},{deleteMessage:function(){return" ".concat(this.selectedResponse.name,"?")}}),mounted:function(){this.$store.dispatch("macros/get")},methods:{openDeletePopup:function(e){this.showDeleteConfirmationPopup=!0,this.selectedResponse=e},closeDeletePopup:function(){this.showDeleteConfirmationPopup=!1},confirmDeletion:function(){this.loading[this.selectedResponse.id]=!0,this.closeDeletePopup(),this.deleteMacro(this.selectedResponse.id)},deleteMacro:function(e){var t,n=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.$store.dispatch("macros/delete",e);case 3:n.showAlert(n.$t("MACROS.DELETE.API.SUCCESS_MESSAGE")),n.loading[n.selectedResponse.id]=!1,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n.showAlert(n.$t("MACROS.DELETE.API.ERROR_MESSAGE"));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})),function(){var e=this,n=arguments;return new Promise((function(o,s){var r=t.apply(e,n);function a(e){c(r,o,s,a,i,"next",e)}function i(e){c(r,o,s,a,i,"throw",e)}a(void 0)}))})()}}},m=d,v=Object(i.a)(m,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex-1 overflow-auto"},[t("router-link",{staticClass:"button success button--fixed-top button success button--fixed-top px-3.5 py-1 rounded-[5px] flex gap-2",attrs:{to:e.addAccountScoping("settings/macros/new")}},[t("fluent-icon",{attrs:{icon:"add-circle"}}),e._v(" "),t("span",{staticClass:"button__content"},[e._v("\n      "+e._s(e.$t("MACROS.HEADER_BTN_TXT"))+"\n    ")])],1),e._v(" "),t("div",{staticClass:"flex flex-row gap-4 p-8"},[t("div",{staticClass:"w-full lg:w-3/5"},[e.uiFlags.isFetching||e.records.length?e._e():t("div",{staticClass:"p-3"},[t("p",{staticClass:"flex h-full items-center flex-col justify-center"},[e._v("\n          "+e._s(e.$t("MACROS.LIST.404"))+"\n        ")])]),e._v(" "),e.uiFlags.isFetching?t("woot-loading-state",{attrs:{message:e.$t("MACROS.LOADING")}}):e._e(),e._v(" "),!e.uiFlags.isFetching&&e.records.length?t("table",{staticClass:"woot-table"},[t("thead",e._l(e.$t("MACROS.LIST.TABLE_HEADER"),(function(n){return t("th",{key:n},[e._v("\n            "+e._s(n)+"\n          ")])})),0),e._v(" "),t("tbody",e._l(e.records,(function(n,o){return t("macros-table-row",{key:o,attrs:{macro:n},on:{delete:function(t){return e.openDeletePopup(n,o)}}})})),1)]):e._e()],1),e._v(" "),t("div",{staticClass:"hidden lg:block w-1/3"},[t("span",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:e.$t("MACROS.SIDEBAR_TXT"),expression:"$t('MACROS.SIDEBAR_TXT')"}]})])]),e._v(" "),t("woot-delete-modal",{attrs:{show:e.showDeleteConfirmationPopup,"on-close":e.closeDeletePopup,"on-confirm":e.confirmDeletion,title:e.$t("LABEL_MGMT.DELETE.CONFIRM.TITLE"),message:e.$t("MACROS.DELETE.CONFIRM.MESSAGE"),"message-value":e.deleteMessage,"confirm-text":e.$t("MACROS.DELETE.CONFIRM.YES"),"reject-text":e.$t("MACROS.DELETE.CONFIRM.NO")},on:{"update:show":function(t){e.showDeleteConfirmationPopup=t}}})],1)}),[],!1,null,null,null);t.default=v.exports}}]);
//# sourceMappingURL=87-4d1b2e6b2d3afbd3c971.chunk.js.map