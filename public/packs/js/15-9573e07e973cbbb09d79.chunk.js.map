{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./app/javascript/shared/helpers/markdownIt/link.js","webpack:///./app/javascript/shared/helpers/MessageFormatter.js","webpack:///./app/javascript/shared/mixins/messageFormatterMixin.js","webpack:///./node_modules/markdown-it-link-attributes/index.js","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///(webpack)/buildin/module.js","webpack:///./app/javascript/dashboard/assets/images/chatwoot_bot.png","webpack:///./app/javascript/widget/components/UnreadMessageList.vue?d57e","webpack:///./app/javascript/widget/components/UnreadMessage.vue?829b","webpack:///app/javascript/widget/components/UnreadMessage.vue","webpack:///./app/javascript/widget/components/UnreadMessage.vue","webpack:///./app/javascript/widget/components/UnreadMessage.vue?23e3","webpack:///app/javascript/widget/components/UnreadMessageList.vue","webpack:///./app/javascript/widget/components/UnreadMessageList.vue?4033","webpack:///./app/javascript/widget/components/UnreadMessageList.vue","webpack:///./app/javascript/widget/components/UnreadMessage.vue?0234","webpack:///./app/javascript/widget/components/UnreadMessageList.vue?345f","webpack:///./node_modules/color2k/dist/index.module.es.js","webpack:///./app/javascript/shared/helpers/colorHelper.js"],"names":["$","$trim","trim","target","proto","forced","forcedStringTrimMethod","this","USER_MENTIONS_REGEX","processInlineToken","blockToken","children","forEach","inlineToken","type","imgSrc","attrGet","height","URL","searchParams","get","attrSet","setImageHeight","md","require","html","xhtmlOut","breaks","langPrefix","linkify","typographer","quotes","maxNesting","use","renderer","rules","mention","tokens","idx","content","inline","ruler","before","state","silent","label","labelEnd","labelStart","pos","res","token","href","max","posMax","src","charCodeAt","helpers","parseLinkLabel","slice","parseLinkDestination","ok","normalizeLink","str","validateLink","match","RegExp","push","core","after","mila","attrs","class","rel","TWITTER_USERNAME_REGEX","TWITTER_HASH_REGEX","MessageFormatter","message","isATweet","isAPrivateNote","updatedMessage","replace","render","formatMessage","DOMParser","parseFromString","formattedMessage","body","textContent","methods","getPlainText","plainText","truncateMessage","description","length","highlightContent","searchTerm","highlightClass","plainTextContent","escapedSearchTerm","markdownitLinkAttributes","configs","Array","isArray","Object","freeze","defaultRender","link_open","options","env","self","config","link","i","attrIndex","matcher","findFirstMatchingConfig","attributes","keys","attr","value","attrPush","applyAttributes","renderToken","module","exports","fails","whitespaces","METHOD_NAME","name","webpackPolyfill","deprecate","paths","defineProperty","enumerable","l","_vm","_c","_self","staticClass","$dm","on","onClickMessage","avatarUrl","agentName","availabilityStatus","_v","directives","rawName","expression","_e","closeFullView","_s","$t","_l","index","key","id","messageType","sender","getMessageContent","campaignId","openConversationView","isBackgroundLighter","style","color","widgetColor","_typeof","obj","Symbol","iterator","constructor","prototype","_slicedToArray","arr","_arrayWithHoles","_i","_arr","_n","_d","call","next","done","err","_iterableToArrayLimit","_unsupportedIterableToArray","TypeError","_nonIterableRest","_toConsumableArray","_arrayLikeToArray","_arrayWithoutHoles","iter","from","_iterableToArray","_nonIterableSpread","o","minLen","n","toString","test","len","arr2","_possibleConstructorReturn","ReferenceError","_assertThisInitialized","_wrapNativeSuper","Class","_cache","Map","undefined","fn","Function","indexOf","has","set","Wrapper","_construct","arguments","_getPrototypeOf","create","writable","configurable","_setPrototypeOf","Parent","args","_isNativeReflectConstruct","Reflect","construct","a","apply","instance","bind","sham","Proxy","Boolean","valueOf","e","p","setPrototypeOf","__proto__","getPrototypeOf","guard","low","high","Math","min","ColorError","_Error","subClass","superClass","_inherits","Derived","hasNativeReflectConstruct","_super","result","Super","NewTarget","Constructor","_classCallCheck","concat","Error","ColorError$1","parseToRgba","toLowerCase","normalizedColor","namedColorRegex","normalizedColorName","compressedColorMap","hash","nameToHex","reducedHexMatch","reducedHexRegex","exec","map","x","parseInt","r","hexMatch","hexRegex","rgbaMatch","rgbaRegex","_arr2","parseFloat","hslaMatch","hslaRegex","_Array$from$slice$map2","h","s","hslToRgb","Number","isNaN","colorToInt","split","reduce","acc","substring","hex","prefix","amount","join","roundColor","round","hue","saturation","lightness","huePrime","chroma","abs","secondComponent","red","green","blue","lightnessModification","getLuminance","f","channel","pow","_parseToRgba2","g","b","getContrast","color1","color2","luminance1","luminance2","rgba","alpha","toFixed","mix","weight","normalize","_parseToRgba$map4","r1","g1","b1","a1","_parseToRgba$map6","r2","g2","b2","a2","alphaDelta","normalizedWeight","weight2","weight1","isWidgetColorLighter","colorToCheck","substr","adjustColorForContrast","backgroundColor","adjustedColor","iteration","_parseToRgba6","toHex"],"mappings":"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","file":"js/15-9573e07e973cbbb09d79.chunk.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","// Process [@mention](mention://user/1/Pranav)\nconst USER_MENTIONS_REGEX = /mention:\\/\\/(user|team)\\/(\\d+)\\/(.+)/gm;\n\nconst buildMentionTokens = () => (state, silent) => {\n  var label;\n  var labelEnd;\n  var labelStart;\n  var pos;\n  var res;\n  var token;\n  var href = '';\n  var max = state.posMax;\n\n  if (state.src.charCodeAt(state.pos) !== 0x5b /* [ */) {\n    return false;\n  }\n\n  labelStart = state.pos + 1;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos, true);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) {\n    return false;\n  }\n\n  label = state.src.slice(labelStart, labelEnd);\n  pos = labelEnd + 1;\n\n  if (pos < max && state.src.charCodeAt(pos) === 0x28 /* ( */) {\n    pos += 1;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n    }\n    pos += 1;\n  }\n\n  if (!href.match(new RegExp(USER_MENTIONS_REGEX))) {\n    return false;\n  }\n\n  if (!silent) {\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    token = state.push('mention', '');\n    token.href = href;\n    token.content = label;\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n\n  return true;\n};\n\nconst renderMentions = () => (tokens, idx) => {\n  return `<span class=\"prosemirror-mention-node\">${tokens[idx].content}</span>`;\n};\n\nexport default function mentionPlugin(md) {\n  md.renderer.rules.mention = renderMentions(md);\n  md.inline.ruler.before('link', 'mention', buildMentionTokens(md));\n}\n","import mila from 'markdown-it-link-attributes';\nimport mentionPlugin from './markdownIt/link';\n\nconst setImageHeight = inlineToken => {\n  const imgSrc = inlineToken.attrGet('src');\n  if (!imgSrc) return;\n  const url = new URL(imgSrc);\n  const height = url.searchParams.get('cw_image_height');\n  if (!height) return;\n  inlineToken.attrSet('style', `height: ${height};`);\n};\n\nconst processInlineToken = blockToken => {\n  blockToken.children.forEach(inlineToken => {\n    if (inlineToken.type === 'image') {\n      setImageHeight(inlineToken);\n    }\n  });\n};\n\nconst imgResizeManager = md => {\n  // Custom rule for image resize in markdown\n  // If the image url has a query param cw_image_height, then add a style attribute to the image\n  md.core.ruler.after('inline', 'add-image-height', state => {\n    state.tokens.forEach(blockToken => {\n      if (blockToken.type === 'inline') {\n        processInlineToken(blockToken);\n      }\n    });\n  });\n};\n\nconst md = require('markdown-it')({\n  html: false,\n  xhtmlOut: true,\n  breaks: true,\n  langPrefix: 'language-',\n  linkify: true,\n  typographer: true,\n  quotes: '\\u201c\\u201d\\u2018\\u2019',\n  maxNesting: 20,\n})\n  .use(mentionPlugin)\n  .use(imgResizeManager)\n  .use(mila, {\n    attrs: {\n      class: 'link',\n      rel: 'noreferrer noopener nofollow',\n      target: '_blank',\n    },\n  });\n\nconst TWITTER_USERNAME_REGEX = /(^|[^@\\w])@(\\w{1,15})\\b/g;\nconst TWITTER_USERNAME_REPLACEMENT = '$1[@$2](http://twitter.com/$2)';\nconst TWITTER_HASH_REGEX = /(^|\\s)#(\\w+)/g;\nconst TWITTER_HASH_REPLACEMENT = '$1[#$2](https://twitter.com/hashtag/$2)';\n\nclass MessageFormatter {\n  constructor(message, isATweet = false, isAPrivateNote = false) {\n    this.message = message || '';\n    this.isAPrivateNote = isAPrivateNote;\n    this.isATweet = isATweet;\n  }\n\n  formatMessage() {\n    let updatedMessage = this.message;\n    if (this.isATweet && !this.isAPrivateNote) {\n      updatedMessage = updatedMessage.replace(\n        TWITTER_USERNAME_REGEX,\n        TWITTER_USERNAME_REPLACEMENT\n      );\n      updatedMessage = updatedMessage.replace(\n        TWITTER_HASH_REGEX,\n        TWITTER_HASH_REPLACEMENT\n      );\n    }\n    return md.render(updatedMessage);\n  }\n\n  get formattedMessage() {\n    return this.formatMessage();\n  }\n\n  get plainText() {\n    const strippedOutHtml = new DOMParser().parseFromString(\n      this.formattedMessage,\n      'text/html'\n    );\n    return strippedOutHtml.body.textContent || '';\n  }\n}\n\nexport default MessageFormatter;\n","import MessageFormatter from '../helpers/MessageFormatter';\n\nexport default {\n  methods: {\n    formatMessage(message, isATweet, isAPrivateNote) {\n      const messageFormatter = new MessageFormatter(\n        message,\n        isATweet,\n        isAPrivateNote\n      );\n      return messageFormatter.formattedMessage;\n    },\n    getPlainText(message, isATweet) {\n      const messageFormatter = new MessageFormatter(message, isATweet);\n      return messageFormatter.plainText;\n    },\n    truncateMessage(description = '') {\n      if (description.length < 100) {\n        return description;\n      }\n\n      return `${description.slice(0, 97)}...`;\n    },\n\n    highlightContent(content = '', searchTerm = '', highlightClass = '') {\n      const plainTextContent = this.getPlainText(content);\n\n      // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#escaping\n      const escapedSearchTerm = searchTerm.replace(\n        /[.*+?^${}()|[\\]\\\\]/g,\n        '\\\\$&'\n      );\n\n      return plainTextContent.replace(\n        new RegExp(`(${escapedSearchTerm})`, 'ig'),\n        `<span class=\"${highlightClass}\">$1</span>`\n      );\n    },\n  },\n};\n","\"use strict\"; // Adapted from https://github.com/markdown-it/markdown-it/blob/fbc6b0fed563ba7c00557ab638fd19752f8e759d/docs/architecture.md\n\nfunction findFirstMatchingConfig(link, configs) {\n  var i, config;\n  var href = link.attrs[link.attrIndex(\"href\")][1];\n\n  for (i = 0; i < configs.length; ++i) {\n    config = configs[i]; // If there is a matcher function defined then call it\n    // Matcher Function should return a boolean indicating\n    // whether or not it matched. If it matched, use that\n    // configuration, otherwise, try the next one.\n\n    if (typeof config.matcher === \"function\") {\n      if (config.matcher(href, config)) {\n        return config;\n      } else {\n        continue;\n      }\n    }\n\n    return config;\n  }\n}\n\nfunction applyAttributes(idx, tokens, attributes) {\n  Object.keys(attributes).forEach(function (attr) {\n    var attrIndex;\n    var value = attributes[attr];\n\n    if (attr === \"className\") {\n      // when dealing with applying classes\n      // programatically, some programmers\n      // may prefer to use the className syntax\n      attr = \"class\";\n    }\n\n    attrIndex = tokens[idx].attrIndex(attr);\n\n    if (attrIndex < 0) {\n      // attr doesn't exist, add new attribute\n      tokens[idx].attrPush([attr, value]);\n    } else {\n      // attr already exists, overwrite it\n      tokens[idx].attrs[attrIndex][1] = value; // replace value of existing attr\n    }\n  });\n}\n\nfunction markdownitLinkAttributes(md, configs) {\n  if (!configs) {\n    configs = [];\n  } else {\n    configs = Array.isArray(configs) ? configs : [configs];\n  }\n\n  Object.freeze(configs);\n  var defaultRender = md.renderer.rules.link_open || this.defaultRender;\n\n  md.renderer.rules.link_open = function (tokens, idx, options, env, self) {\n    var config = findFirstMatchingConfig(tokens[idx], configs);\n    var attributes = config && config.attrs;\n\n    if (attributes) {\n      applyAttributes(idx, tokens, attributes);\n    } // pass token to default renderer.\n\n\n    return defaultRender(tokens, idx, options, env, self);\n  };\n}\n\nmarkdownitLinkAttributes.defaultRender = function (tokens, idx, options, env, self) {\n  return self.renderToken(tokens, idx, options);\n};\n\nmodule.exports = markdownitLinkAttributes;","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","module.exports = function (module) {\n  if (!module.webpackPolyfill) {\n    module.deprecate = function () {};\n\n    module.paths = []; // module.parent = undefined by default\n\n    if (!module.children) module.children = [];\n    Object.defineProperty(module, \"loaded\", {\n      enumerable: true,\n      get: function get() {\n        return module.l;\n      }\n    });\n    Object.defineProperty(module, \"id\", {\n      enumerable: true,\n      get: function get() {\n        return module.i;\n      }\n    });\n    module.webpackPolyfill = 1;\n  }\n\n  return module;\n};","module.exports = __webpack_public_path__ + \"media/dashboard/assets/images/chatwoot_bot-905112376e6493b37e2cecea8f9dc50c.png\";","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"unread-wrap\"},[_c('div',{staticClass:\"close-unread-wrap\"},[_c('button',{staticClass:\"button small close-unread-button\",on:{\"click\":_vm.closeFullView}},[_c('span',{staticClass:\"flex items-center\"},[_c('fluent-icon',{staticClass:\"mr-1\",attrs:{\"icon\":\"dismiss\",\"size\":\"12\"}}),_vm._v(\"\\n        \"+_vm._s(_vm.$t('UNREAD_VIEW.CLOSE_MESSAGES_BUTTON'))+\"\\n      \")],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"unread-messages\"},_vm._l((_vm.messages),function(message,index){return _c('unread-message',{key:message.id,attrs:{\"message-type\":message.messageType,\"message-id\":message.id,\"show-sender\":!index,\"sender\":message.sender,\"message\":_vm.getMessageContent(message),\"campaign-id\":message.campaignId}})}),1),_vm._v(\" \"),_c('div',{staticClass:\"open-read-view-wrap\"},[(_vm.unreadMessageCount)?_c('button',{staticClass:\"button clear-button\",on:{\"click\":_vm.openConversationView}},[_c('span',{staticClass:\"flex items-center\",class:{\n          'is-background-light': _vm.isBackgroundLighter,\n        },style:({\n          color: _vm.widgetColor,\n        })},[_c('fluent-icon',{staticClass:\"mr-2\",attrs:{\"size\":\"16\",\"icon\":\"arrow-right\"}}),_vm._v(\"\\n        \"+_vm._s(_vm.$t('UNREAD_VIEW.VIEW_MESSAGES_BUTTON'))+\"\\n      \")],1)]):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnreadMessage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnreadMessage.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"chat-bubble-wrap\">\n    <button\n      class=\"chat-bubble agent\"\n      :class=\"$dm('bg-white', 'dark:bg-slate-50')\"\n      @click=\"onClickMessage\"\n    >\n      <div v-if=\"showSender\" class=\"row--agent-block\">\n        <thumbnail\n          :src=\"avatarUrl\"\n          size=\"20px\"\n          :username=\"agentName\"\n          :status=\"availabilityStatus\"\n        />\n        <span v-dompurify-html=\"agentName\" class=\"agent--name\" />\n        <span v-dompurify-html=\"companyName\" class=\"company--name\" />\n      </div>\n      <div\n        v-dompurify-html=\"formatMessage(message, false)\"\n        class=\"message-content\"\n      />\n    </button>\n  </div>\n</template>\n\n<script>\nimport messageFormatterMixin from 'shared/mixins/messageFormatterMixin';\nimport Thumbnail from 'dashboard/components/widgets/Thumbnail.vue';\nimport configMixin from '../mixins/configMixin';\nimport { isEmptyObject } from 'widget/helpers/utils';\nimport {\n  ON_CAMPAIGN_MESSAGE_CLICK,\n  ON_UNREAD_MESSAGE_CLICK,\n} from '../constants/widgetBusEvents';\nimport darkModeMixin from 'widget/mixins/darkModeMixin';\nexport default {\n  name: 'UnreadMessage',\n  components: { Thumbnail },\n  mixins: [messageFormatterMixin, configMixin, darkModeMixin],\n  props: {\n    message: {\n      type: String,\n      default: '',\n    },\n    showSender: {\n      type: Boolean,\n      default: false,\n    },\n    sender: {\n      type: Object,\n      default: () => {},\n    },\n    campaignId: {\n      type: Number,\n      default: null,\n    },\n  },\n  computed: {\n    companyName() {\n      return `${this.$t('UNREAD_VIEW.COMPANY_FROM')} ${\n        this.channelConfig.websiteName\n      }`;\n    },\n    avatarUrl() {\n      // eslint-disable-next-line\n      const BotImage = require('dashboard/assets/images/chatwoot_bot.png');\n      const displayImage = this.useInboxAvatarForBot\n        ? this.inboxAvatarUrl\n        : BotImage;\n      if (this.isSenderExist(this.sender)) {\n        const { avatar_url: avatarUrl } = this.sender;\n        return avatarUrl;\n      }\n      return displayImage;\n    },\n    agentName() {\n      if (this.isSenderExist(this.sender)) {\n        const { available_name: availableName } = this.sender;\n        return availableName;\n      }\n      if (this.useInboxAvatarForBot) {\n        return this.channelConfig.websiteName;\n      }\n      return this.$t('UNREAD_VIEW.BOT');\n    },\n    availabilityStatus() {\n      if (this.isSenderExist(this.sender)) {\n        const { availability_status: availabilityStatus } = this.sender;\n        return availabilityStatus;\n      }\n      return null;\n    },\n  },\n  methods: {\n    isSenderExist(sender) {\n      return sender && !isEmptyObject(sender);\n    },\n    onClickMessage() {\n      if (this.campaignId) {\n        this.$emitter.emit(ON_CAMPAIGN_MESSAGE_CLICK, this.campaignId);\n      } else {\n        this.$emitter.emit(ON_UNREAD_MESSAGE_CLICK);\n      }\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n@import '~widget/assets/scss/variables.scss';\n.chat-bubble {\n  max-width: 85%;\n  padding: $space-normal;\n  cursor: pointer;\n}\n\n.row--agent-block {\n  align-items: center;\n  display: flex;\n  text-align: left;\n  padding-bottom: $space-small;\n  font-size: $font-size-small;\n  .agent--name {\n    font-weight: $font-weight-medium;\n    margin-left: $space-smaller;\n  }\n  .company--name {\n    color: $color-light-gray;\n    margin-left: $space-smaller;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./UnreadMessage.vue?vue&type=template&id=19750f4a&scoped=true&\"\nimport script from \"./UnreadMessage.vue?vue&type=script&lang=js&\"\nexport * from \"./UnreadMessage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UnreadMessage.vue?vue&type=style&index=0&id=19750f4a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"19750f4a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"chat-bubble-wrap\"},[_c('button',{staticClass:\"chat-bubble agent\",class:_vm.$dm('bg-white', 'dark:bg-slate-50'),on:{\"click\":_vm.onClickMessage}},[(_vm.showSender)?_c('div',{staticClass:\"row--agent-block\"},[_c('thumbnail',{attrs:{\"src\":_vm.avatarUrl,\"size\":\"20px\",\"username\":_vm.agentName,\"status\":_vm.availabilityStatus}}),_vm._v(\" \"),_c('span',{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:(_vm.agentName),expression:\"agentName\"}],staticClass:\"agent--name\"}),_vm._v(\" \"),_c('span',{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:(_vm.companyName),expression:\"companyName\"}],staticClass:\"company--name\"})],1):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:(_vm.formatMessage(_vm.message, false)),expression:\"formatMessage(message, false)\"}],staticClass:\"message-content\"})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"unread-wrap\">\n    <div class=\"close-unread-wrap\">\n      <button class=\"button small close-unread-button\" @click=\"closeFullView\">\n        <span class=\"flex items-center\">\n          <fluent-icon class=\"mr-1\" icon=\"dismiss\" size=\"12\" />\n          {{ $t('UNREAD_VIEW.CLOSE_MESSAGES_BUTTON') }}\n        </span>\n      </button>\n    </div>\n    <div class=\"unread-messages\">\n      <unread-message\n        v-for=\"(message, index) in messages\"\n        :key=\"message.id\"\n        :message-type=\"message.messageType\"\n        :message-id=\"message.id\"\n        :show-sender=\"!index\"\n        :sender=\"message.sender\"\n        :message=\"getMessageContent(message)\"\n        :campaign-id=\"message.campaignId\"\n      />\n    </div>\n\n    <div class=\"open-read-view-wrap\">\n      <button\n        v-if=\"unreadMessageCount\"\n        class=\"button clear-button\"\n        @click=\"openConversationView\"\n      >\n        <span\n          class=\"flex items-center\"\n          :class=\"{\n            'is-background-light': isBackgroundLighter,\n          }\"\n          :style=\"{\n            color: widgetColor,\n          }\"\n        >\n          <fluent-icon class=\"mr-2\" size=\"16\" icon=\"arrow-right\" />\n          {{ $t('UNREAD_VIEW.VIEW_MESSAGES_BUTTON') }}\n        </span>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport configMixin from '../mixins/configMixin';\nimport { ON_UNREAD_MESSAGE_CLICK } from '../constants/widgetBusEvents';\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\nimport UnreadMessage from 'widget/components/UnreadMessage.vue';\nimport { isWidgetColorLighter } from 'shared/helpers/colorHelper';\n\nexport default {\n  name: 'Unread',\n  components: {\n    FluentIcon,\n    UnreadMessage,\n  },\n  mixins: [configMixin],\n  props: {\n    messages: {\n      type: Array,\n      required: true,\n    },\n  },\n  computed: {\n    ...mapGetters({\n      unreadMessageCount: 'conversation/getUnreadMessageCount',\n      widgetColor: 'appConfig/getWidgetColor',\n    }),\n    sender() {\n      const [firstMessage] = this.messages;\n      return firstMessage.sender || {};\n    },\n    isBackgroundLighter() {\n      return isWidgetColorLighter(this.widgetColor);\n    },\n  },\n  methods: {\n    openConversationView() {\n      this.$emitter.emit(ON_UNREAD_MESSAGE_CLICK);\n    },\n    closeFullView() {\n      this.$emit('close');\n    },\n    getMessageContent(message) {\n      const { attachments, content } = message;\n      const hasAttachments = attachments && attachments.length;\n\n      if (content) return content;\n\n      if (hasAttachments) return `ðŸ“‘`;\n\n      return '';\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n@import '~widget/assets/scss/variables';\n\n.unread-wrap {\n  width: 100%;\n  height: auto;\n  max-height: 100vh;\n  background: transparent;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  overflow: hidden;\n\n  .unread-messages {\n    padding-bottom: $space-small;\n  }\n\n  .clear-button {\n    background: transparent;\n    color: $color-woot;\n    border: 0;\n    font-weight: $font-weight-bold;\n    font-size: $font-size-medium;\n    transition: all 0.3s var(--ease-in-cubic);\n    margin-left: $space-smaller;\n    padding: 0 $space-one 0 0;\n\n    &:hover {\n      transform: translateX($space-smaller);\n      color: $color-primary-dark;\n    }\n  }\n\n  .close-unread-button {\n    background: $color-background;\n    color: $color-light-gray;\n    border: 0;\n    font-weight: $font-weight-medium;\n    font-size: $font-size-mini;\n    transition: all 0.3s var(--ease-in-cubic);\n    margin-bottom: $space-slab;\n    border-radius: $space-normal;\n\n    &:hover {\n      color: $color-body;\n    }\n  }\n  .is-background-light {\n    color: $color-body !important;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnreadMessageList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnreadMessageList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UnreadMessageList.vue?vue&type=template&id=38679e35&scoped=true&\"\nimport script from \"./UnreadMessageList.vue?vue&type=script&lang=js&\"\nexport * from \"./UnreadMessageList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UnreadMessageList.vue?vue&type=style&index=0&id=38679e35&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38679e35\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnreadMessage.vue?vue&type=style&index=0&id=19750f4a&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnreadMessageList.vue?vue&type=style&index=0&id=38679e35&prod&lang=scss&scoped=true&\"","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]); if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n/**\n * A simple guard function:\n *\n * ```js\n * Math.min(Math.max(low, value), high)\n * ```\n */\nfunction guard(low, high, value) {\n  return Math.min(Math.max(low, value), high);\n}\n\nvar ColorError = /*#__PURE__*/function (_Error) {\n  _inherits(ColorError, _Error);\n\n  var _super = _createSuper(ColorError);\n\n  function ColorError(color) {\n    _classCallCheck(this, ColorError);\n\n    return _super.call(this, \"Failed to parse color: \\\"\".concat(color, \"\\\"\"));\n  }\n\n  return ColorError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar ColorError$1 = ColorError;\n/**\n * Parses a color into red, gree, blue, alpha parts\n *\n * @param color the input color. Can be a RGB, RBGA, HSL, HSLA, or named color\n */\n\nfunction parseToRgba(color) {\n  if (typeof color !== 'string') throw new ColorError$1(color);\n  if (color.trim().toLowerCase() === 'transparent') return [0, 0, 0, 0];\n  var normalizedColor = color.trim();\n  normalizedColor = namedColorRegex.test(color) ? nameToHex(color) : color;\n  var reducedHexMatch = reducedHexRegex.exec(normalizedColor);\n\n  if (reducedHexMatch) {\n    var arr = Array.from(reducedHexMatch).slice(1);\n    return [].concat(_toConsumableArray(arr.slice(0, 3).map(function (x) {\n      return parseInt(r(x, 2), 16);\n    })), [parseInt(r(arr[3] || 'f', 2), 16) / 255]);\n  }\n\n  var hexMatch = hexRegex.exec(normalizedColor);\n\n  if (hexMatch) {\n    var _arr = Array.from(hexMatch).slice(1);\n\n    return [].concat(_toConsumableArray(_arr.slice(0, 3).map(function (x) {\n      return parseInt(x, 16);\n    })), [parseInt(_arr[3] || 'ff', 16) / 255]);\n  }\n\n  var rgbaMatch = rgbaRegex.exec(normalizedColor);\n\n  if (rgbaMatch) {\n    var _arr2 = Array.from(rgbaMatch).slice(1);\n\n    return [].concat(_toConsumableArray(_arr2.slice(0, 3).map(function (x) {\n      return parseInt(x, 10);\n    })), [parseFloat(_arr2[3] || '1')]);\n  }\n\n  var hslaMatch = hslaRegex.exec(normalizedColor);\n\n  if (hslaMatch) {\n    var _Array$from$slice$map = Array.from(hslaMatch).slice(1).map(parseFloat),\n        _Array$from$slice$map2 = _slicedToArray(_Array$from$slice$map, 4),\n        h = _Array$from$slice$map2[0],\n        s = _Array$from$slice$map2[1],\n        l = _Array$from$slice$map2[2],\n        a = _Array$from$slice$map2[3];\n\n    if (guard(0, 100, s) !== s) throw new ColorError$1(color);\n    if (guard(0, 100, l) !== l) throw new ColorError$1(color);\n    return [].concat(_toConsumableArray(hslToRgb(h, s, l)), [Number.isNaN(a) ? 1 : a]);\n  }\n\n  throw new ColorError$1(color);\n}\n\nfunction hash(str) {\n  var hash = 5381;\n  var i = str.length;\n\n  while (i) {\n    hash = hash * 33 ^ str.charCodeAt(--i);\n  }\n  /* JavaScript does bitwise operations (like XOR, above) on 32-bit signed\n   * integers. Since we want the results to be always positive, convert the\n   * signed int to an unsigned by doing an unsigned bitshift. */\n\n\n  return (hash >>> 0) % 2341;\n}\n\nvar colorToInt = function colorToInt(x) {\n  return parseInt(x.replace(/_/g, ''), 36);\n};\n\nvar compressedColorMap = '1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm'.split(' ').reduce(function (acc, next) {\n  var key = colorToInt(next.substring(0, 3));\n  var hex = colorToInt(next.substring(3)).toString(16); // NOTE: padStart could be used here but it breaks Node 6 compat\n  // https://github.com/ricokahler/color2k/issues/351\n\n  var prefix = '';\n\n  for (var i = 0; i < 6 - hex.length; i++) {\n    prefix += '0';\n  }\n\n  acc[key] = \"\".concat(prefix).concat(hex);\n  return acc;\n}, {});\n/**\n * Checks if a string is a CSS named color and returns its equivalent hex value, otherwise returns the original color.\n */\n\nfunction nameToHex(color) {\n  var normalizedColorName = color.toLowerCase().trim();\n  var result = compressedColorMap[hash(normalizedColorName)];\n  if (!result) throw new ColorError$1(color);\n  return \"#\".concat(result);\n}\n\nvar r = function r(str, amount) {\n  return Array.from(Array(amount)).map(function () {\n    return str;\n  }).join('');\n};\n\nvar reducedHexRegex = new RegExp(\"^#\".concat(r('([a-f0-9])', 3), \"([a-f0-9])?$\"), 'i');\nvar hexRegex = new RegExp(\"^#\".concat(r('([a-f0-9]{2})', 3), \"([a-f0-9]{2})?$\"), 'i');\nvar rgbaRegex = new RegExp(\"^rgba?\\\\(\\\\s*(\\\\d+)\\\\s*\".concat(r(',\\\\s*(\\\\d+)\\\\s*', 2), \"(?:,\\\\s*([\\\\d.]+))?\\\\s*\\\\)$\"), 'i');\nvar hslaRegex = /^hsla?\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)%\\s*,\\s*([\\d.]+)%(?:\\s*,\\s*([\\d.]+))?\\s*\\)$/i;\nvar namedColorRegex = /^[a-z]+$/i;\n\nvar roundColor = function roundColor(color) {\n  return Math.round(color * 255);\n};\n\nvar hslToRgb = function hslToRgb(hue, saturation, lightness) {\n  var l = lightness / 100;\n\n  if (saturation === 0) {\n    // achromatic\n    return [l, l, l].map(roundColor);\n  } // formulae from https://en.wikipedia.org/wiki/HSL_and_HSV\n\n\n  var huePrime = (hue % 360 + 360) % 360 / 60;\n  var chroma = (1 - Math.abs(2 * l - 1)) * (saturation / 100);\n  var secondComponent = chroma * (1 - Math.abs(huePrime % 2 - 1));\n  var red = 0;\n  var green = 0;\n  var blue = 0;\n\n  if (huePrime >= 0 && huePrime < 1) {\n    red = chroma;\n    green = secondComponent;\n  } else if (huePrime >= 1 && huePrime < 2) {\n    red = secondComponent;\n    green = chroma;\n  } else if (huePrime >= 2 && huePrime < 3) {\n    green = chroma;\n    blue = secondComponent;\n  } else if (huePrime >= 3 && huePrime < 4) {\n    green = secondComponent;\n    blue = chroma;\n  } else if (huePrime >= 4 && huePrime < 5) {\n    red = secondComponent;\n    blue = chroma;\n  } else if (huePrime >= 5 && huePrime < 6) {\n    red = chroma;\n    blue = secondComponent;\n  }\n\n  var lightnessModification = l - chroma / 2;\n  var finalRed = red + lightnessModification;\n  var finalGreen = green + lightnessModification;\n  var finalBlue = blue + lightnessModification;\n  return [finalRed, finalGreen, finalBlue].map(roundColor);\n}; // taken from:\n// https://github.com/styled-components/polished/blob/a23a6a2bb26802b3d922d9c3b67bac3f3a54a310/src/internalHelpers/_rgbToHsl.js\n\n/**\n * Parses a color in hue, saturation, lightness, and the alpha channel.\n *\n * Hue is a number between 0 and 360, saturation, lightness, and alpha are\n * decimal percentages between 0 and 1\n */\n\n\nfunction parseToHsla(color) {\n  var _parseToRgba$map = parseToRgba(color).map(function (value, index) {\n    return (// 3rd index is alpha channel which is already normalized\n      index === 3 ? value : value / 255\n    );\n  }),\n      _parseToRgba$map2 = _slicedToArray(_parseToRgba$map, 4),\n      red = _parseToRgba$map2[0],\n      green = _parseToRgba$map2[1],\n      blue = _parseToRgba$map2[2],\n      alpha = _parseToRgba$map2[3];\n\n  var max = Math.max(red, green, blue);\n  var min = Math.min(red, green, blue);\n  var lightness = (max + min) / 2; // achromatic\n\n  if (max === min) return [0, 0, lightness, alpha];\n  var delta = max - min;\n  var saturation = lightness > 0.5 ? delta / (2 - max - min) : delta / (max + min);\n  var hue = 60 * (red === max ? (green - blue) / delta + (green < blue ? 6 : 0) : green === max ? (blue - red) / delta + 2 : (red - green) / delta + 4);\n  return [hue, saturation, lightness, alpha];\n}\n/**\n * Takes in hsla parts and constructs an hsla string\n *\n * @param hue The color circle (from 0 to 360) - 0 (or 360) is red, 120 is green, 240 is blue\n * @param saturation Percentage of saturation, given as a decimal between 0 and 1\n * @param lightness Percentage of lightness, given as a decimal between 0 and 1\n * @param alpha Percentage of opacity, given as a decimal between 0 and 1\n */\n\n\nfunction hsla(hue, saturation, lightness, alpha) {\n  return \"hsla(\".concat((hue % 360).toFixed(), \", \").concat(guard(0, 100, saturation * 100).toFixed(), \"%, \").concat(guard(0, 100, lightness * 100).toFixed(), \"%, \").concat(parseFloat(guard(0, 1, alpha).toFixed(3)), \")\");\n}\n/**\n * Adjusts the current hue of the color by the given degrees. Wraps around when\n * over 360.\n *\n * @param color input color\n * @param degrees degrees to adjust the input color, accepts degree integers\n * (0 - 360) and wraps around on overflow\n */\n\n\nfunction adjustHue(color, degrees) {\n  var _parseToHsla = parseToHsla(color),\n      _parseToHsla2 = _slicedToArray(_parseToHsla, 4),\n      h = _parseToHsla2[0],\n      s = _parseToHsla2[1],\n      l = _parseToHsla2[2],\n      a = _parseToHsla2[3];\n\n  return hsla(h + degrees, s, l, a);\n}\n/**\n * Darkens using lightness. This is equivalent to subtracting the lightness\n * from the L in HSL.\n *\n * @param amount The amount to darken, given as a decimal between 0 and 1\n */\n\n\nfunction darken(color, amount) {\n  var _parseToHsla3 = parseToHsla(color),\n      _parseToHsla4 = _slicedToArray(_parseToHsla3, 4),\n      hue = _parseToHsla4[0],\n      saturation = _parseToHsla4[1],\n      lightness = _parseToHsla4[2],\n      alpha = _parseToHsla4[3];\n\n  return hsla(hue, saturation, lightness - amount, alpha);\n}\n/**\n * Desaturates the input color by the given amount via subtracting from the `s`\n * in `hsla`.\n *\n * @param amount The amount to desaturate, given as a decimal between 0 and 1\n */\n\n\nfunction desaturate(color, amount) {\n  var _parseToHsla5 = parseToHsla(color),\n      _parseToHsla6 = _slicedToArray(_parseToHsla5, 4),\n      h = _parseToHsla6[0],\n      s = _parseToHsla6[1],\n      l = _parseToHsla6[2],\n      a = _parseToHsla6[3];\n\n  return hsla(h, s - amount, l, a);\n} // taken from:\n// https://github.com/styled-components/polished/blob/0764c982551b487469043acb56281b0358b3107b/src/color/getLuminance.js\n\n/**\n * Returns a number (float) representing the luminance of a color.\n */\n\n\nfunction getLuminance(color) {\n  if (color === 'transparent') return 0;\n\n  function f(x) {\n    var channel = x / 255;\n    return channel <= 0.04045 ? channel / 12.92 : Math.pow((channel + 0.055) / 1.055, 2.4);\n  }\n\n  var _parseToRgba = parseToRgba(color),\n      _parseToRgba2 = _slicedToArray(_parseToRgba, 3),\n      r = _parseToRgba2[0],\n      g = _parseToRgba2[1],\n      b = _parseToRgba2[2];\n\n  return 0.2126 * f(r) + 0.7152 * f(g) + 0.0722 * f(b);\n} // taken from:\n// https://github.com/styled-components/polished/blob/0764c982551b487469043acb56281b0358b3107b/src/color/getContrast.js\n\n/**\n * Returns the contrast ratio between two colors based on\n * [W3's recommended equation for calculating contrast](http://www.w3.org/TR/WCAG20/#contrast-ratiodef).\n */\n\n\nfunction getContrast(color1, color2) {\n  var luminance1 = getLuminance(color1);\n  var luminance2 = getLuminance(color2);\n  return luminance1 > luminance2 ? (luminance1 + 0.05) / (luminance2 + 0.05) : (luminance2 + 0.05) / (luminance1 + 0.05);\n}\n/**\n * Takes in rgba parts and returns an rgba string\n *\n * @param red The amount of red in the red channel, given in a number between 0 and 255 inclusive\n * @param green The amount of green in the red channel, given in a number between 0 and 255 inclusive\n * @param blue The amount of blue in the red channel, given in a number between 0 and 255 inclusive\n * @param alpha Percentage of opacity, given as a decimal between 0 and 1\n */\n\n\nfunction rgba(red, green, blue, alpha) {\n  return \"rgba(\".concat(guard(0, 255, red).toFixed(), \", \").concat(guard(0, 255, green).toFixed(), \", \").concat(guard(0, 255, blue).toFixed(), \", \").concat(parseFloat(guard(0, 1, alpha).toFixed(3)), \")\");\n}\n/**\n * Mixes two colors together. Taken from sass's implementation.\n */\n\n\nfunction mix(color1, color2, weight) {\n  var normalize = function normalize(n, index) {\n    return (// 3rd index is alpha channel which is already normalized\n      index === 3 ? n : n / 255\n    );\n  };\n\n  var _parseToRgba$map3 = parseToRgba(color1).map(normalize),\n      _parseToRgba$map4 = _slicedToArray(_parseToRgba$map3, 4),\n      r1 = _parseToRgba$map4[0],\n      g1 = _parseToRgba$map4[1],\n      b1 = _parseToRgba$map4[2],\n      a1 = _parseToRgba$map4[3];\n\n  var _parseToRgba$map5 = parseToRgba(color2).map(normalize),\n      _parseToRgba$map6 = _slicedToArray(_parseToRgba$map5, 4),\n      r2 = _parseToRgba$map6[0],\n      g2 = _parseToRgba$map6[1],\n      b2 = _parseToRgba$map6[2],\n      a2 = _parseToRgba$map6[3]; // The formula is copied from the original Sass implementation:\n  // http://sass-lang.com/documentation/Sass/Script/Functions.html#mix-instance_method\n\n\n  var alphaDelta = a2 - a1;\n  var normalizedWeight = weight * 2 - 1;\n  var combinedWeight = normalizedWeight * alphaDelta === -1 ? normalizedWeight : normalizedWeight + alphaDelta / (1 + normalizedWeight * alphaDelta);\n  var weight2 = (combinedWeight + 1) / 2;\n  var weight1 = 1 - weight2;\n  var r = (r1 * weight1 + r2 * weight2) * 255;\n  var g = (g1 * weight1 + g2 * weight2) * 255;\n  var b = (b1 * weight1 + b2 * weight2) * 255;\n  var a = a2 * weight + a1 * (1 - weight);\n  return rgba(r, g, b, a);\n}\n/**\n * Given a series colors, this function will return a `scale(x)` function that\n * accepts a percentage as a decimal between 0 and 1 and returns the color at\n * that percentage in the scale.\n *\n * ```js\n * const scale = getScale('red', 'yellow', 'green');\n * console.log(scale(0)); // rgba(255, 0, 0, 1)\n * console.log(scale(0.5)); // rgba(255, 255, 0, 1)\n * console.log(scale(1)); // rgba(0, 128, 0, 1)\n * ```\n *\n * If you'd like to limit the domain and range like chroma-js, we recommend\n * wrapping scale again.\n *\n * ```js\n * const _scale = getScale('red', 'yellow', 'green');\n * const scale = x => _scale(x / 100);\n *\n * console.log(scale(0)); // rgba(255, 0, 0, 1)\n * console.log(scale(50)); // rgba(255, 255, 0, 1)\n * console.log(scale(100)); // rgba(0, 128, 0, 1)\n * ```\n */\n\n\nfunction getScale() {\n  for (var _len = arguments.length, colors = new Array(_len), _key = 0; _key < _len; _key++) {\n    colors[_key] = arguments[_key];\n  }\n\n  return function (n) {\n    var lastIndex = colors.length - 1;\n    var lowIndex = guard(0, lastIndex, Math.floor(n * lastIndex));\n    var highIndex = guard(0, lastIndex, Math.ceil(n * lastIndex));\n    var color1 = colors[lowIndex];\n    var color2 = colors[highIndex];\n    var unit = 1 / lastIndex;\n    var weight = (n - unit * lowIndex) / unit;\n    return mix(color1, color2, weight);\n  };\n}\n\nvar guidelines = {\n  decorative: 1.5,\n  readable: 3,\n  aa: 4.5,\n  aaa: 7\n};\n/**\n * Returns whether or not a color has bad contrast against a background\n * according to a given standard.\n */\n\nfunction hasBadContrast(color) {\n  var standard = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'aa';\n  var background = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '#fff';\n  return getContrast(color, background) < guidelines[standard];\n}\n/**\n * Lightens a color by a given amount. This is equivalent to\n * `darken(color, -amount)`\n *\n * @param amount The amount to darken, given as a decimal between 0 and 1\n */\n\n\nfunction lighten(color, amount) {\n  return darken(color, -amount);\n}\n/**\n * Takes in a color and makes it more transparent by convert to `rgba` and\n * decreasing the amount in the alpha channel.\n *\n * @param amount The amount to increase the transparency by, given as a decimal between 0 and 1\n */\n\n\nfunction transparentize(color, amount) {\n  var _parseToRgba3 = parseToRgba(color),\n      _parseToRgba4 = _slicedToArray(_parseToRgba3, 4),\n      r = _parseToRgba4[0],\n      g = _parseToRgba4[1],\n      b = _parseToRgba4[2],\n      a = _parseToRgba4[3];\n\n  return rgba(r, g, b, a - amount);\n}\n/**\n * Takes a color and un-transparentizes it. Equivalent to\n * `transparentize(color, -amount)`\n *\n * @param amount The amount to increase the opacity by, given as a decimal between 0 and 1\n */\n\n\nfunction opacify(color, amount) {\n  return transparentize(color, -amount);\n}\n/**\n * An alternative function to `readableColor`. Returns whether or not the \n * readable color (i.e. the color to be place on top the input color) should be\n * black.\n */\n\n\nfunction readableColorIsBlack(color) {\n  return getLuminance(color) > 0.179;\n}\n/**\n * Returns black or white for best contrast depending on the luminosity of the\n * given color.\n */\n\n\nfunction readableColor(color) {\n  return readableColorIsBlack(color) ? '#000' : '#fff';\n}\n/**\n * Saturates a color by converting it to `hsl` and increasing the saturation\n * amount. Equivalent to `desaturate(color, -amount)`\n * \n * @param color Input color\n * @param amount The amount to darken, given as a decimal between 0 and 1\n */\n\n\nfunction saturate(color, amount) {\n  return desaturate(color, -amount);\n}\n/**\n * Takes in any color and returns it as a hex code.\n */\n\n\nfunction toHex(color) {\n  var _parseToRgba5 = parseToRgba(color),\n      _parseToRgba6 = _slicedToArray(_parseToRgba5, 4),\n      r = _parseToRgba6[0],\n      g = _parseToRgba6[1],\n      b = _parseToRgba6[2],\n      a = _parseToRgba6[3];\n\n  var hex = function hex(x) {\n    var h = guard(0, 255, x).toString(16); // NOTE: padStart could be used here but it breaks Node 6 compat\n    // https://github.com/ricokahler/color2k/issues/351\n\n    return h.length === 1 ? \"0\".concat(h) : h;\n  };\n\n  return \"#\".concat(hex(r)).concat(hex(g)).concat(hex(b)).concat(a < 1 ? hex(Math.round(a * 255)) : '');\n}\n/**\n * Takes in any color and returns it as an rgba string.\n */\n\n\nfunction toRgba(color) {\n  return rgba.apply(void 0, _toConsumableArray(parseToRgba(color)));\n}\n/**\n * Takes in any color and returns it as an hsla string.\n */\n\n\nfunction toHsla(color) {\n  return hsla.apply(void 0, _toConsumableArray(parseToHsla(color)));\n}\n\nexport { ColorError$1 as ColorError, adjustHue, darken, desaturate, getContrast, getLuminance, getScale, guard, hasBadContrast, hsla, lighten, mix, opacify, parseToHsla, parseToRgba, readableColor, readableColorIsBlack, rgba, saturate, toHex, toHsla, toRgba, transparentize };","import { toHex, mix, getLuminance, getContrast } from 'color2k';\n\nexport const isWidgetColorLighter = color => {\n  const colorToCheck = color.replace('#', '');\n  const c_r = parseInt(colorToCheck.substr(0, 2), 16);\n  const c_g = parseInt(colorToCheck.substr(2, 2), 16);\n  const c_b = parseInt(colorToCheck.substr(4, 2), 16);\n  const brightness = (c_r * 299 + c_g * 587 + c_b * 114) / 1000;\n  return brightness > 225;\n};\n\nexport const adjustColorForContrast = (color, backgroundColor) => {\n  const targetRatio = 3.1;\n  const MAX_ITERATIONS = 20;\n  let adjustedColor = color;\n\n  for (let iteration = 0; iteration < MAX_ITERATIONS; iteration += 1) {\n    const currentRatio = getContrast(adjustedColor, backgroundColor);\n    if (currentRatio >= targetRatio) {\n      break;\n    }\n    const adjustmentDirection =\n      getLuminance(adjustedColor) < 0.5 ? '#fff' : '#151718';\n    adjustedColor = mix(adjustedColor, adjustmentDirection, 0.05);\n  }\n\n  return toHex(adjustedColor);\n};\n"],"sourceRoot":""}