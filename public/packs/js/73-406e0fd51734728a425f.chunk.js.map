{"version":3,"sources":["webpack:///./app/javascript/dashboard/composables/useI18n.js","webpack:///./app/javascript/dashboard/composables/index.js","webpack:///./app/javascript/dashboard/helper/portalHelper.js","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/components/Layout/SettingsLayout.vue?5af0","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/components/Layout/SettingsLayout.vue?98ca","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/components/Layout/SettingsLayout.vue","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/components/PortalSettingsBasicForm.vue?4761","webpack:///PortalSettingsBasicForm.vue","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/components/PortalSettingsBasicForm.vue?23d7","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/components/PortalSettingsBasicForm.vue","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/portals/PortalDetails.vue?9bd2","webpack:///app/javascript/dashboard/routes/dashboard/helpcenter/pages/portals/PortalDetails.vue","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/portals/PortalDetails.vue?783e","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/portals/PortalDetails.vue"],"names":["i18nInstance","VueI18n","useI18n","Error","i18n","instance","getCurrentInstance","vm","proxy","Vue","locale","computed","get","set","v","t","$t","bind","tc","$tc","d","$d","te","$te","n","$n","useTrack","$track","useAlert","message","action","bus","$emit","buildPortalURL","portalSlug","window","chatwootConfig","hostURL","helpCenterURL","buildPortalArticleURL","categorySlug","articleSlug","portalURL","component","_vm","this","_c","_self","_setupProxy","staticClass","$slots","title","_t","_v","_s","_e","EXAMPLE_URL","name","state","slug","domain","logoUrl","avatarBlobId","rules","required","minLength","isDomain","v$","nameError","value","$error","slugError","domainError","domainHelpText","domainExampleHelpText","exampleURL","showDeleteButton","emit","uploadLogoToStorage","file","fileUrl","blobId","portal","props","custom_domain","logo","logoURL","file_url","blob_id","$touch","$invalid","size","_setup","SettingsLayout","attrs","scopedSlots","_u","key","fn","isSubmitting","on","onSubmitClick","submitButtonText","onFileChange","deleteAvatar","class","error","onNameChange","model","callback","$$v","$set","expression","uiFlags","isCreating","createPortal"],"mappings":"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","file":"js/73-406e0fd51734728a425f.chunk.js","sourcesContent":["import { computed, getCurrentInstance } from 'vue';\nimport Vue from 'vue';\nimport VueI18n from 'vue-i18n';\n\nlet i18nInstance = VueI18n;\n\nexport function useI18n() {\n  if (!i18nInstance) throw new Error('vue-i18n not initialized');\n\n  const i18n = i18nInstance;\n\n  const instance = getCurrentInstance();\n  const vm = instance?.proxy || instance || new Vue({});\n\n  const locale = computed({\n    get() {\n      return i18n.locale;\n    },\n    set(v) {\n      i18n.locale = v;\n    },\n  });\n\n  return {\n    locale,\n    t: vm.$t.bind(vm),\n    tc: vm.$tc.bind(vm),\n    d: vm.$d.bind(vm),\n    te: vm.$te.bind(vm),\n    n: vm.$n.bind(vm),\n  };\n}\n","import { getCurrentInstance } from 'vue';\n\nexport const useTrack = () => {\n  const vm = getCurrentInstance();\n  if (!vm) throw new Error('must be called in setup');\n\n  return vm.proxy.$track;\n};\n\nexport function useAlert(message, action) {\n  bus.$emit('newToastMessage', message, action);\n}\n","export const buildPortalURL = portalSlug => {\n  const { hostURL, helpCenterURL } = window.chatwootConfig;\n  const baseURL = helpCenterURL || hostURL || '';\n  return `${baseURL}/hc/${portalSlug}`;\n};\n\nexport const buildPortalArticleURL = (\n  portalSlug,\n  categorySlug,\n  locale,\n  articleSlug\n) => {\n  const portalURL = buildPortalURL(portalSlug);\n  return `${portalURL}/articles/${articleSlug}`;\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"flex-grow-0 flex-shrink-0 w-full h-full max-w-full bg-white border border-transparent border-solid dark:bg-slate-900 dark:border-transparent md:max-w-2xl\"},[(_vm.$slots.title || _vm.title)?_c('h3',{staticClass:\"text-lg text-black-900 dark:text-slate-200\"},[_vm._t(\"title\",function(){return [_vm._v(_vm._s(_vm.title))]})],2):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"mx-0 my-4 border-b border-solid border-slate-25 dark:border-slate-800\"},[_vm._t(\"default\")],2),_vm._v(\" \"),_c('div',{staticClass:\"flex justify-between\"},[_c('div',[_vm._t(\"footer-left\")],2),_vm._v(\" \"),_c('div',[_vm._t(\"footer-right\")],2)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsLayout.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsLayout.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./SettingsLayout.vue?vue&type=template&id=513e5b46&\"\nimport script from \"./SettingsLayout.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./SettingsLayout.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c(_setup.SettingsLayout,{attrs:{\"title\":_vm.$t('HELP_CENTER.PORTAL.ADD.CREATE_FLOW_PAGE.BASIC_SETTINGS_PAGE.TITLE')},scopedSlots:_vm._u([{key:\"footer-right\",fn:function(){return [_c('woot-button',{attrs:{\"is-loading\":_vm.isSubmitting,\"is-disabled\":_setup.v$.$invalid},on:{\"click\":_setup.onSubmitClick}},[_vm._v(\"\\n      \"+_vm._s(_vm.submitButtonText)+\"\\n    \")])]},proxy:true}])},[_c('div',[_c('div',{staticClass:\"mb-4\"},[_c('div',{staticClass:\"flex flex-row items-center\"},[_c('woot-avatar-uploader',{attrs:{\"label\":_vm.$t('HELP_CENTER.PORTAL.ADD.LOGO.LABEL'),\"src\":_setup.state.logoUrl},on:{\"change\":_setup.onFileChange}}),_vm._v(\" \"),(_setup.showDeleteButton)?_c('div',{staticClass:\"avatar-delete-btn\"},[_c('woot-button',{attrs:{\"type\":\"button\",\"color-scheme\":\"alert\",\"variant\":\"hollow\",\"size\":\"small\"},on:{\"click\":_setup.deleteAvatar}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('PROFILE_SETTINGS.DELETE_AVATAR'))+\"\\n          \")])],1):_vm._e()],1),_vm._v(\" \"),_c('p',{staticClass:\"mt-1 mb-0 text-xs not-italic text-slate-600 dark:text-slate-400\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('HELP_CENTER.PORTAL.ADD.LOGO.HELP_TEXT'))+\"\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"mb-4\"},[_c('woot-input',{class:{ error: _setup.v$.name.$error },attrs:{\"error\":_setup.nameError,\"label\":_vm.$t('HELP_CENTER.PORTAL.ADD.NAME.LABEL'),\"placeholder\":_vm.$t('HELP_CENTER.PORTAL.ADD.NAME.PLACEHOLDER'),\"help-text\":_vm.$t('HELP_CENTER.PORTAL.ADD.NAME.HELP_TEXT')},on:{\"blur\":_setup.v$.name.$touch,\"input\":_setup.onNameChange},model:{value:(_setup.state.name),callback:function ($$v) {_vm.$set(_setup.state, \"name\", $$v)},expression:\"state.name\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"mb-4\"},[_c('woot-input',{class:{ error: _setup.v$.slug.$error },attrs:{\"error\":_setup.slugError,\"label\":_vm.$t('HELP_CENTER.PORTAL.ADD.SLUG.LABEL'),\"placeholder\":_vm.$t('HELP_CENTER.PORTAL.ADD.SLUG.PLACEHOLDER'),\"help-text\":_setup.domainHelpText},on:{\"blur\":_setup.v$.slug.$touch},model:{value:(_setup.state.slug),callback:function ($$v) {_vm.$set(_setup.state, \"slug\", $$v)},expression:\"state.slug\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"mb-4\"},[_c('woot-input',{class:{ error: _setup.v$.domain.$error },attrs:{\"label\":_vm.$t('HELP_CENTER.PORTAL.ADD.DOMAIN.LABEL'),\"placeholder\":_vm.$t('HELP_CENTER.PORTAL.ADD.DOMAIN.PLACEHOLDER'),\"help-text\":_setup.domainExampleHelpText,\"error\":_setup.domainError},on:{\"blur\":_setup.v$.domain.$touch},model:{value:(_setup.state.domain),callback:function ($$v) {_vm.$set(_setup.state, \"domain\", $$v)},expression:\"state.domain\"}})],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { useVuelidate } from '@vuelidate/core';\nimport { required, minLength } from '@vuelidate/validators';\n\nimport { defineComponent, reactive, computed, onMounted } from 'vue';\nimport { useI18n } from 'dashboard/composables/useI18n';\nimport { useAlert } from 'dashboard/composables';\n\nimport { convertToCategorySlug } from 'dashboard/helper/commons.js';\nimport { buildPortalURL } from 'dashboard/helper/portalHelper';\nimport wootConstants from 'dashboard/constants/globals';\nimport { hasValidAvatarUrl } from 'dashboard/helper/URLHelper';\nimport { checkFileSizeLimit } from 'shared/helpers/FileHelper';\nimport { uploadFile } from 'dashboard/helper/uploadHelper';\nimport { isDomain } from 'shared/helpers/Validators';\nimport SettingsLayout from './Layout/SettingsLayout.vue';\n\nconst { EXAMPLE_URL } = wootConstants;\nconst MAXIMUM_FILE_UPLOAD_SIZE = 4; // in MB\n\nconst { t } = useI18n();\n\ndefineComponent({\n  name: 'PortalSettingsBasicForm',\n});\n\nconst props = defineProps({\n  portal: {\n    type: Object,\n    default: () => {},\n  },\n  isSubmitting: {\n    type: Boolean,\n    default: false,\n  },\n  submitButtonText: {\n    type: String,\n    default: '',\n  },\n});\n\nconst state = reactive({\n  name: '',\n  slug: '',\n  domain: '',\n  logoUrl: '',\n  avatarBlobId: '',\n});\n\nconst rules = {\n  name: {\n    required,\n    minLength: minLength(2),\n  },\n  slug: {\n    required,\n  },\n  domain: {\n    isDomain,\n  },\n};\n\nconst v$ = useVuelidate(rules, state);\n\nconst nameError = computed(() => {\n  if (v$.value.name.$error) {\n    return t('HELP_CENTER.CATEGORY.ADD.NAME.ERROR');\n  }\n  return '';\n});\n\nconst slugError = computed(() => {\n  if (v$.value.slug.$error) {\n    return t('HELP_CENTER.CATEGORY.ADD.SLUG.ERROR');\n  }\n  return '';\n});\n\nconst domainError = computed(() => {\n  if (v$.value.domain.$error) {\n    return t('HELP_CENTER.PORTAL.ADD.DOMAIN.ERROR');\n  }\n  return '';\n});\n\nconst domainHelpText = computed(() => {\n  return buildPortalURL(state.slug);\n});\n\nconst domainExampleHelpText = computed(() => {\n  return t('HELP_CENTER.PORTAL.ADD.DOMAIN.HELP_TEXT', {\n    exampleURL: EXAMPLE_URL,\n  });\n});\n\nconst showDeleteButton = computed(() => {\n  return hasValidAvatarUrl(state.logoUrl);\n});\n\nconst emit = defineEmits(['submit', 'delete-logo']);\n\nonMounted(() => {\n  const portal = props.portal || {};\n  state.name = portal.name || '';\n  state.slug = portal.slug || '';\n  state.domain = portal.custom_domain || '';\n\n  if (portal.logo) {\n    const {\n      logo: { file_url: logoURL, blob_id: blobId },\n    } = portal;\n    state.logoUrl = logoURL;\n    state.avatarBlobId = blobId;\n  }\n});\n\nfunction onNameChange() {\n  state.slug = convertToCategorySlug(state.name);\n}\n\nfunction onSubmitClick() {\n  v$.value.$touch();\n  if (v$.value.$invalid) {\n    return;\n  }\n\n  const portal = {\n    name: state.name,\n    slug: state.slug,\n    custom_domain: state.domain,\n    blob_id: state.avatarBlobId || null,\n  };\n  emit('submit', portal);\n}\nasync function deleteAvatar() {\n  state.logoUrl = '';\n  state.avatarBlobId = '';\n  emit('delete-logo');\n}\n\nasync function uploadLogoToStorage(file) {\n  try {\n    const { fileUrl, blobId } = await uploadFile(file);\n    if (fileUrl) {\n      state.logoUrl = fileUrl;\n      state.avatarBlobId = blobId;\n    }\n  } catch (error) {\n    useAlert(t('HELP_CENTER.PORTAL.ADD.LOGO.IMAGE_UPLOAD_ERROR'));\n  }\n}\n\nfunction onFileChange({ file }) {\n  if (checkFileSizeLimit(file, MAXIMUM_FILE_UPLOAD_SIZE)) {\n    uploadLogoToStorage(file);\n  } else {\n    const errorKey =\n      'PROFILE_SETTINGS.FORM.MESSAGE_SIGNATURE_SECTION.IMAGE_UPLOAD_SIZE_ERROR';\n    useAlert(t(errorKey, { size: MAXIMUM_FILE_UPLOAD_SIZE }));\n  }\n}\n</script>\n\n<template>\n  <SettingsLayout\n    :title=\"\n      $t('HELP_CENTER.PORTAL.ADD.CREATE_FLOW_PAGE.BASIC_SETTINGS_PAGE.TITLE')\n    \"\n  >\n    <div>\n      <div class=\"mb-4\">\n        <div class=\"flex flex-row items-center\">\n          <woot-avatar-uploader\n            :label=\"$t('HELP_CENTER.PORTAL.ADD.LOGO.LABEL')\"\n            :src=\"state.logoUrl\"\n            @change=\"onFileChange\"\n          />\n          <div v-if=\"showDeleteButton\" class=\"avatar-delete-btn\">\n            <woot-button\n              type=\"button\"\n              color-scheme=\"alert\"\n              variant=\"hollow\"\n              size=\"small\"\n              @click=\"deleteAvatar\"\n            >\n              {{ $t('PROFILE_SETTINGS.DELETE_AVATAR') }}\n            </woot-button>\n          </div>\n        </div>\n        <p\n          class=\"mt-1 mb-0 text-xs not-italic text-slate-600 dark:text-slate-400\"\n        >\n          {{ $t('HELP_CENTER.PORTAL.ADD.LOGO.HELP_TEXT') }}\n        </p>\n      </div>\n      <div class=\"mb-4\">\n        <woot-input\n          v-model=\"state.name\"\n          :class=\"{ error: v$.name.$error }\"\n          :error=\"nameError\"\n          :label=\"$t('HELP_CENTER.PORTAL.ADD.NAME.LABEL')\"\n          :placeholder=\"$t('HELP_CENTER.PORTAL.ADD.NAME.PLACEHOLDER')\"\n          :help-text=\"$t('HELP_CENTER.PORTAL.ADD.NAME.HELP_TEXT')\"\n          @blur=\"v$.name.$touch\"\n          @input=\"onNameChange\"\n        />\n      </div>\n      <div class=\"mb-4\">\n        <woot-input\n          v-model=\"state.slug\"\n          :class=\"{ error: v$.slug.$error }\"\n          :error=\"slugError\"\n          :label=\"$t('HELP_CENTER.PORTAL.ADD.SLUG.LABEL')\"\n          :placeholder=\"$t('HELP_CENTER.PORTAL.ADD.SLUG.PLACEHOLDER')\"\n          :help-text=\"domainHelpText\"\n          @blur=\"v$.slug.$touch\"\n        />\n      </div>\n      <div class=\"mb-4\">\n        <woot-input\n          v-model=\"state.domain\"\n          :class=\"{ error: v$.domain.$error }\"\n          :label=\"$t('HELP_CENTER.PORTAL.ADD.DOMAIN.LABEL')\"\n          :placeholder=\"$t('HELP_CENTER.PORTAL.ADD.DOMAIN.PLACEHOLDER')\"\n          :help-text=\"domainExampleHelpText\"\n          :error=\"domainError\"\n          @blur=\"v$.domain.$touch\"\n        />\n      </div>\n    </div>\n    <template #footer-right>\n      <woot-button\n        :is-loading=\"isSubmitting\"\n        :is-disabled=\"v$.$invalid\"\n        @click=\"onSubmitClick\"\n      >\n        {{ submitButtonText }}\n      </woot-button>\n    </template>\n  </SettingsLayout>\n</template>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PortalSettingsBasicForm.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PortalSettingsBasicForm.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./PortalSettingsBasicForm.vue?vue&type=template&id=f1e8e3ee&\"\nimport script from \"./PortalSettingsBasicForm.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./PortalSettingsBasicForm.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('PortalSettingsBasicForm',{attrs:{\"is-submitting\":_vm.uiFlags.isCreating,\"submit-button-text\":_vm.$t(\n      'HELP_CENTER.PORTAL.ADD.CREATE_FLOW_PAGE.BASIC_SETTINGS_PAGE.CREATE_BASIC_SETTING_BUTTON'\n    )},on:{\"submit\":_vm.createPortal}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <PortalSettingsBasicForm\n    :is-submitting=\"uiFlags.isCreating\"\n    :submit-button-text=\"\n      $t(\n        'HELP_CENTER.PORTAL.ADD.CREATE_FLOW_PAGE.BASIC_SETTINGS_PAGE.CREATE_BASIC_SETTING_BUTTON'\n      )\n    \"\n    @submit=\"createPortal\"\n  />\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport alertMixin from 'shared/mixins/alertMixin';\n\nimport PortalSettingsBasicForm from 'dashboard/routes/dashboard/helpcenter/components/PortalSettingsBasicForm.vue';\nimport { PORTALS_EVENTS } from '../../../../../helper/AnalyticsHelper/events';\n\nexport default {\n  components: {\n    PortalSettingsBasicForm,\n  },\n  mixins: [alertMixin],\n  data() {\n    return {\n      name: '',\n      slug: '',\n      domain: '',\n      alertMessage: '',\n    };\n  },\n\n  computed: {\n    ...mapGetters({\n      uiFlags: 'portals/uiFlagsIn',\n    }),\n  },\n\n  methods: {\n    async createPortal(portal) {\n      try {\n        const { blob_id: blobId } = portal;\n        await this.$store.dispatch('portals/create', {\n          portal,\n          blob_id: blobId,\n        });\n\n        this.alertMessage = this.$t(\n          'HELP_CENTER.PORTAL.ADD.API.SUCCESS_MESSAGE_FOR_BASIC'\n        );\n        this.$router.push({\n          name: 'portal_customization',\n          params: { portalSlug: portal.slug },\n        });\n        const analyticsPayload = {\n          has_custom_domain: portal.domain !== '',\n        };\n        this.$track(PORTALS_EVENTS.ONBOARD_BASIC_INFORMATION, analyticsPayload);\n        this.$track(PORTALS_EVENTS.CREATE_PORTAL, analyticsPayload);\n      } catch (error) {\n        this.alertMessage =\n          error?.message ||\n          this.$t('HELP_CENTER.PORTAL.ADD.API.ERROR_MESSAGE_FOR_BASIC');\n      } finally {\n        this.showAlert(this.alertMessage);\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PortalDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PortalDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PortalDetails.vue?vue&type=template&id=633f05fe&\"\nimport script from \"./PortalDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./PortalDetails.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}