(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{3375:function(e,t,r){"use strict";r.r(t);r(33),r(1936),r(11),r(5),r(9),r(12),r(10),r(13),r(8),r(24);var i=r(27),n=r(3052),c=r(3049),a=r(1775),l=r(77),o=r(3053),s=r(87);function u(e,t,r,i,n,c,a){try{var l=e[c](a),o=l.value}catch(s){return void r(s)}l.done?t(o):Promise.resolve(o).then(i,n)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h={components:{EditArticleHeader:n.a,ArticleEditor:c.a,ArticleSettings:o.a},mixins:[a.a,l.a],data:function(){return{articleTitle:"",articleContent:"",showOpenSidebarButton:!1,showArticleSettings:!0,article:{}}},computed:p(p({},Object(i.mapGetters)({currentUserID:"getCurrentUserID",articles:"articles/articles",categories:"categories/allCategories"})),{},{articleId:function(){return this.$route.params.articleSlug},newArticle:function(){return{title:this.articleTitle,content:this.articleContent}},selectedPortalSlug:function(){return this.$route.params.portalSlug},categoryId:function(){return this.categories.length?this.categories[0].id:null}}),methods:{onClickGoBack:function(){this.$router.push({name:"list_all_locale_articles"})},createNewArticle:function(e){var t,r=this;return(t=regeneratorRuntime.mark((function t(){var i,n,c,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Object.assign({},e),n=i.title,c=i.content,n&&(r.articleTitle=n),c&&(r.articleContent=c),!r.articleTitle||!r.articleContent){t.next=17;break}return t.prev=5,t.next=8,r.$store.dispatch("articles/create",{portalSlug:r.selectedPortalSlug,content:r.articleContent,title:r.articleTitle,author_id:r.currentUserID,category_id:r.categoryId});case 8:a=t.sent,r.$router.push({name:"edit_article",params:{articleSlug:a,portalSlug:r.selectedPortalSlug,locale:r.locale,recentlyCreated:!0}}),r.$track(s.i.CREATE_ARTICLE,{locale:r.locale}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(5),r.alertMessage=(null===t.t0||void 0===t.t0?void 0:t.t0.message)||r.$t("HELP_CENTER.CREATE_ARTICLE.API.ERROR_MESSAGE"),r.showAlert(r.alertMessage);case 17:case"end":return t.stop()}}),t,null,[[5,13]])})),function(){var e=this,r=arguments;return new Promise((function(i,n){var c=t.apply(e,r);function a(e){u(c,i,n,a,l,"next",e)}function l(e){u(c,i,n,a,l,"throw",e)}a(void 0)}))})()},openArticleSettings:function(){this.showArticleSettings=!0},closeArticleSettings:function(){this.showArticleSettings=!1},saveArticle:function(){this.alertMessage=this.$t("HELP_CENTER.CREATE_ARTICLE.ERROR_MESSAGE"),this.showAlert(this.alertMessage)}}},d=h,v=r(7),w=Object(v.a)(d,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex flex-1 overflow-auto"},[t("div",{staticClass:"flex-1 overflow-y-auto flex-shrink-0 px-6",class:{"flex-grow-1":e.showArticleSettings}},[t("edit-article-header",{attrs:{"back-button-label":e.$t("HELP_CENTER.HEADER.TITLES.ALL_ARTICLES"),"draft-state":"saved","is-sidebar-open":e.showArticleSettings},on:{back:e.onClickGoBack,open:e.openArticleSettings,close:e.closeArticleSettings,"save-article":e.createNewArticle}}),e._v(" "),t("article-editor",{attrs:{article:e.newArticle},on:{"save-article":e.createNewArticle}})],1),e._v(" "),e.showArticleSettings?t("article-settings",{attrs:{article:e.article},on:{"save-article":e.saveArticle}}):e._e()],1)}),[],!1,null,null,null);t.default=w.exports}}]);
//# sourceMappingURL=105-bc92230acb204c488ef3.chunk.js.map