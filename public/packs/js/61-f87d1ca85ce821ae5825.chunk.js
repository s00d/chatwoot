(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{2137:function(t,e,r){var n=r(26),o=r(192),a=r(104);n({target:"Object",stat:!0},{fromEntries:function(t){var e={};return o(t,(function(t,r){a(e,t,r)}),{AS_ENTRIES:!0}),e}})},2644:function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var n=r(5),o=r.n(n),a=r(202).a;function u(){if(!a)throw new Error("vue-i18n not initialized");var t=a,e=Object(n.getCurrentInstance)(),r=(null===e||void 0===e?void 0:e.proxy)||e||new o.a({});return{locale:Object(n.computed)({get:function(){return t.locale},set:function(e){t.locale=e}}),t:r.$t.bind(r),tc:r.$tc.bind(r),d:r.$d.bind(r),te:r.$te.bind(r),n:r.$n.bind(r)}}},2650:function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return a}));var n=r(5),o=function(){var t=Object(n.getCurrentInstance)();if(!t)throw new Error("must be called in setup");return t.proxy.$track};function a(t,e){bus.$emit("newToastMessage",t,e)}},2654:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return o}));r(43);var n=function(t){var e=window.chatwootConfig,r=e.hostURL,n=e.helpCenterURL;return"".concat(n||r||"","/hc/").concat(t)},o=function(t,e,r,o){var a=n(t);return"".concat(a,"/articles/").concat(o)}},2666:function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return a}));r(19),r(2137),r(72),r(11);var n=r(5),o=function(){var t=Object(n.getCurrentInstance)();if(!t)throw new Error("must be called in setup");return t.proxy.$store},a=function(){var t=o();return Object.fromEntries(Object.keys(t.getters).map((function(e){return[e,Object(n.computed)((function(){return t.getters[e]}))]})))}},2667:function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return a}));r(1919);var n=r(5);function o(){var t=Object(n.getCurrentInstance)(),e=Object(n.reactive)(Object.assign({},t.proxy.$root.$route));return Object(n.watchEffect)((function(){Object.assign(e,t.proxy.$root.$route)})),e}function a(){var t=Object(n.getCurrentInstance)(),e=t.proxy.$root.$router;return Object(n.watchEffect)((function(){e&&Object.assign(e,t.proxy.$root.$router)})),e}},2709:function(t,e,r){"use strict";var n={__name:"SettingsLayout",props:{title:{type:String,default:null}},setup:function(t){return{__sfc:!0}}},o=r(6),a=Object(o.a)(n,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"flex-grow-0 flex-shrink-0 w-full h-full max-w-full bg-white border border-transparent border-solid dark:bg-slate-900 dark:border-transparent md:max-w-2xl"},[t.$slots.title||t.title?e("h3",{staticClass:"text-lg text-black-900 dark:text-slate-200"},[t._t("title",(function(){return[t._v(t._s(t.title))]}))],2):t._e(),t._v(" "),e("div",{staticClass:"mx-0 my-4 border-b border-solid border-slate-25 dark:border-slate-800"},[t._t("default")],2),t._v(" "),e("div",{staticClass:"flex justify-between"},[e("div",[t._t("footer-left")],2),t._v(" "),e("div",[t._t("footer-right")],2)])])}),[],!1,null,null,null);e.a=a.exports},2890:function(t,e,r){"use strict";r(34),r(41),r(8),r(25);var n=r(2814),o=r(2815),a=r(5),u=r(2644),i=r(2650),c=r(320),l=r(2654),s=r(103),f=r(15),p=r(1913),b=r(362),d=r(246),E=r(2709);function v(t,e,r,n,o,a,u){try{var i=t[a](u),c=i.value}catch(l){return void r(l)}i.done?e(c):Promise.resolve(c).then(n,o)}function m(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function u(t){v(a,n,o,u,i,"next",t)}function i(t){v(a,n,o,u,i,"throw",t)}u(void 0)}))}}var O={__name:"PortalSettingsBasicForm",props:{portal:{type:Object,default:function(){}},isSubmitting:{type:Boolean,default:!1},submitButtonText:{type:String,default:""}},emits:["submit","delete-logo"],setup:function(t,e){var r=e.emit,v=t,O=s.b.EXAMPLE_URL,g=Object(u.a)().t;Object(a.defineComponent)({name:"PortalSettingsBasicForm"});var _=Object(a.reactive)({name:"",slug:"",domain:"",logoUrl:"",avatarBlobId:""}),L={name:{required:o.b,minLength:Object(o.a)(2)},slug:{required:o.b},domain:{isDomain:d.a}},P=Object(n.a)(L,_),R=Object(a.computed)((function(){return P.value.name.$error?g("HELP_CENTER.CATEGORY.ADD.NAME.ERROR"):""})),A=Object(a.computed)((function(){return P.value.slug.$error?g("HELP_CENTER.CATEGORY.ADD.SLUG.ERROR"):""})),T=Object(a.computed)((function(){return P.value.domain.$error?g("HELP_CENTER.PORTAL.ADD.DOMAIN.ERROR"):""})),h=Object(a.computed)((function(){return Object(l.b)(_.slug)})),j=Object(a.computed)((function(){return g("HELP_CENTER.PORTAL.ADD.DOMAIN.HELP_TEXT",{exampleURL:O})})),x=Object(a.computed)((function(){return Object(f.e)(_.logoUrl)}));function D(){return(D=m(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.logoUrl="",_.avatarBlobId="",r("delete-logo");case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(t){return w.apply(this,arguments)}function w(){return(w=m(regeneratorRuntime.mark((function t(e){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(b.a)(e);case 3:r=t.sent,n=r.fileUrl,o=r.blobId,n&&(_.logoUrl=n,_.avatarBlobId=o),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),Object(i.a)(g("HELP_CENTER.PORTAL.ADD.LOGO.IMAGE_UPLOAD_ERROR"));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}return Object(a.onMounted)((function(){var t=v.portal||{};if(_.name=t.name||"",_.slug=t.slug||"",_.domain=t.custom_domain||"",t.logo){var e=t.logo,r=e.file_url,n=e.blob_id;_.logoUrl=r,_.avatarBlobId=n}})),{__sfc:!0,EXAMPLE_URL:O,MAXIMUM_FILE_UPLOAD_SIZE:4,t:g,props:v,state:_,rules:L,v$:P,nameError:R,slugError:A,domainError:T,domainHelpText:h,domainExampleHelpText:j,showDeleteButton:x,emit:r,onNameChange:function(){_.slug=Object(c.b)(_.name)},onSubmitClick:function(){if(P.value.$touch(),!P.value.$invalid){var t={name:_.name,slug:_.slug,custom_domain:_.domain,blob_id:_.avatarBlobId||null};r("submit",t)}},deleteAvatar:function(){return D.apply(this,arguments)},uploadLogoToStorage:C,onFileChange:function(t){var e=t.file;if(Object(p.a)(e,4))C(e);else{Object(i.a)(g("PROFILE_SETTINGS.FORM.MESSAGE_SIGNATURE_SECTION.IMAGE_UPLOAD_SIZE_ERROR",{size:4}))}},SettingsLayout:E.a}}},g=O,_=r(6),L=Object(_.a)(g,(function(){var t=this,e=t._self._c,r=t._self._setupProxy;return e(r.SettingsLayout,{attrs:{title:t.$t("HELP_CENTER.PORTAL.ADD.CREATE_FLOW_PAGE.BASIC_SETTINGS_PAGE.TITLE")},scopedSlots:t._u([{key:"footer-right",fn:function(){return[e("woot-button",{attrs:{"is-loading":t.isSubmitting,"is-disabled":r.v$.$invalid},on:{click:r.onSubmitClick}},[t._v("\n      "+t._s(t.submitButtonText)+"\n    ")])]},proxy:!0}])},[e("div",[e("div",{staticClass:"mb-4"},[e("div",{staticClass:"flex flex-row items-center"},[e("woot-avatar-uploader",{attrs:{label:t.$t("HELP_CENTER.PORTAL.ADD.LOGO.LABEL"),src:r.state.logoUrl},on:{change:r.onFileChange}}),t._v(" "),r.showDeleteButton?e("div",{staticClass:"avatar-delete-btn"},[e("woot-button",{attrs:{type:"button","color-scheme":"alert",variant:"hollow",size:"small"},on:{click:r.deleteAvatar}},[t._v("\n            "+t._s(t.$t("PROFILE_SETTINGS.DELETE_AVATAR"))+"\n          ")])],1):t._e()],1),t._v(" "),e("p",{staticClass:"mt-1 mb-0 text-xs not-italic text-slate-600 dark:text-slate-400"},[t._v("\n        "+t._s(t.$t("HELP_CENTER.PORTAL.ADD.LOGO.HELP_TEXT"))+"\n      ")])]),t._v(" "),e("div",{staticClass:"mb-4"},[e("woot-input",{class:{error:r.v$.name.$error},attrs:{error:r.nameError,label:t.$t("HELP_CENTER.PORTAL.ADD.NAME.LABEL"),placeholder:t.$t("HELP_CENTER.PORTAL.ADD.NAME.PLACEHOLDER"),"help-text":t.$t("HELP_CENTER.PORTAL.ADD.NAME.HELP_TEXT")},on:{blur:r.v$.name.$touch,input:r.onNameChange},model:{value:r.state.name,callback:function(e){t.$set(r.state,"name",e)},expression:"state.name"}})],1),t._v(" "),e("div",{staticClass:"mb-4"},[e("woot-input",{class:{error:r.v$.slug.$error},attrs:{error:r.slugError,label:t.$t("HELP_CENTER.PORTAL.ADD.SLUG.LABEL"),placeholder:t.$t("HELP_CENTER.PORTAL.ADD.SLUG.PLACEHOLDER"),"help-text":r.domainHelpText},on:{blur:r.v$.slug.$touch},model:{value:r.state.slug,callback:function(e){t.$set(r.state,"slug",e)},expression:"state.slug"}})],1),t._v(" "),e("div",{staticClass:"mb-4"},[e("woot-input",{class:{error:r.v$.domain.$error},attrs:{label:t.$t("HELP_CENTER.PORTAL.ADD.DOMAIN.LABEL"),placeholder:t.$t("HELP_CENTER.PORTAL.ADD.DOMAIN.PLACEHOLDER"),"help-text":r.domainExampleHelpText,error:r.domainError},on:{blur:r.v$.domain.$touch},model:{value:r.state.domain,callback:function(e){t.$set(r.state,"domain",e)},expression:"state.domain"}})],1)])])}),[],!1,null,null,null);e.a=L.exports},3395:function(t,e,r){"use strict";r.r(e);r(34),r(49),r(68),r(41),r(8),r(25),r(11),r(7),r(9),r(13),r(10),r(14);var n=r(2890),o=r(2650),a=r(2666),u=r(2667),i=r(2644),c=r(5);function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){f(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p(t,e,r,n,o,a,u){try{var i=t[a](u),c=i.value}catch(l){return void r(l)}i.done?e(c):Promise.resolve(c).then(n,o)}function b(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function u(t){p(a,n,o,u,i,"next",t)}function i(t){p(a,n,o,u,i,"throw",t)}u(void 0)}))}}var d={__name:"EditPortalBasic",setup:function(t){Object(c.defineComponent)({name:"EditPortalBasic"});var e=Object(a.b)(),r=Object(u.a)(),l=Object(u.b)(),f=Object(a.a)(),p=Object(i.a)().t,d=e["portals/uiFlagsIn"],E=Object(c.ref)(null),v=Object(c.computed)((function(){return r.params.portalSlug})),m=Object(c.computed)((function(){var t=r.params.portalSlug;return e["portals/portalBySlug"].value(t)}));function O(){return(O=b(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="",t.prev=1,a=E.value,t.next=5,f.dispatch("portals/update",s(s({},e),{},{portalSlug:a}));case 5:if(n=p("HELP_CENTER.PORTAL.ADD.API.SUCCESS_MESSAGE_FOR_UPDATE"),E.value===e.slug){t.next=10;break}return t.next=9,f.dispatch("portals/index");case 9:l.replace({name:r.name,params:{portalSlug:e.slug}});case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),n=(null===t.t0||void 0===t.t0?void 0:t.t0.message)||p("HELP_CENTER.PORTAL.ADD.API.ERROR_MESSAGE_FOR_UPDATE");case 15:return t.prev=15,Object(o.a)(n),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,12,15,18]])})))).apply(this,arguments)}function g(){return(g=b(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=E.value,t.next=4,f.dispatch("portals/deleteLogo",{portalSlug:e});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Object(o.a)((null===t.t0||void 0===t.t0?void 0:t.t0.message)||p("HELP_CENTER.PORTAL.ADD.LOGO.IMAGE_DELETE_ERROR"));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}return Object(c.onMounted)((function(){E.value=v.value})),{__sfc:!0,getters:e,route:r,router:l,store:f,t:p,uiFlags:d,lastPortalSlug:E,currentPortalSlug:v,currentPortal:m,updatePortalSettings:function(t){return O.apply(this,arguments)},deleteLogo:function(){return g.apply(this,arguments)},PortalSettingsBasicForm:n.a}}},E=d,v=r(6),m=Object(v.a)(E,(function(){var t=this,e=t._self._c,r=t._self._setupProxy;return r.currentPortal?e(r.PortalSettingsBasicForm,{attrs:{portal:r.currentPortal,"is-submitting":r.uiFlags.isUpdating,"submit-button-text":t.$t("HELP_CENTER.PORTAL.EDIT.EDIT_BASIC_INFO.BUTTON_TEXT")},on:{submit:r.updatePortalSettings,"delete-logo":r.deleteLogo}}):t._e()}),[],!1,null,null,null);e.default=m.exports}}]);
//# sourceMappingURL=61-f87d1ca85ce821ae5825.chunk.js.map