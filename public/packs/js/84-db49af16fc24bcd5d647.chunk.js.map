{"version":3,"sources":["webpack:///./app/javascript/shared/helpers/KeyboardHelpers.js","webpack:///./app/javascript/shared/helpers/markdownIt/link.js","webpack:///./app/javascript/shared/helpers/MessageFormatter.js","webpack:///./app/javascript/shared/mixins/messageFormatterMixin.js","webpack:///./app/javascript/superadmin_pages/views/playground/Index.vue?26a6","webpack:///./app/javascript/superadmin_pages/components/playground/Header.vue?6265","webpack:///./app/javascript/superadmin_pages/components/playground/Header.vue","webpack:///./app/javascript/superadmin_pages/components/playground/Header.vue?2bd1","webpack:///./app/javascript/superadmin_pages/components/playground/UserMessage.vue?cdd0","webpack:///./app/javascript/superadmin_pages/components/playground/UserMessage.vue","webpack:///./app/javascript/superadmin_pages/components/playground/UserMessage.vue?8dec","webpack:///./app/javascript/superadmin_pages/components/playground/BotMessage.vue?8cbb","webpack:///./app/javascript/superadmin_pages/components/playground/BotMessage.vue","webpack:///./app/javascript/superadmin_pages/components/playground/BotMessage.vue?cc36","webpack:///./app/javascript/superadmin_pages/components/playground/TypingIndicator.vue?b0d5","webpack:///app/javascript/superadmin_pages/views/playground/Index.vue","webpack:///./app/javascript/superadmin_pages/components/playground/TypingIndicator.vue","webpack:///./app/javascript/superadmin_pages/components/playground/TypingIndicator.vue?6432","webpack:///./app/javascript/superadmin_pages/views/playground/Index.vue?18c9","webpack:///./app/javascript/superadmin_pages/views/playground/Index.vue","webpack:///./app/javascript/superadmin_pages/components/playground/assets/typing.gif"],"names":["isEnter","e","keyCode","isEscape","hasPressedCommand","metaKey","hasPressedEnterAndNotCmdOrShift","shiftKey","hasPressedShift","hasPressedCommandAndEnter","hasPressedCommandAndForwardSlash","hasPressedAltAndCKey","altKey","hasPressedAltAndVKey","hasPressedAltAndRKey","hasPressedAltAndSKey","hasPressedAltAndNKey","hasPressedAltAndAKey","hasPressedAltAndPKey","hasPressedAltAndLKey","hasPressedAltAndEKey","hasPressedAltAndUpKey","hasPressedAltAndDownKey","hasPressedCommandPlusAltAndEKey","hasPressedAltAndOKey","hasPressedAltAndJKey","hasPressedAltAndKKey","hasPressedAltAndMKey","hasPressedArrowUpKey","hasPressedArrowDownKey","hasPressedArrowLeftKey","hasPressedArrowRightKey","buildHotKeys","key","toLowerCase","includes","hotKeyPattern","ctrlKey","isActiveElementTypeable","activeElement","target","document","tagName","contentEditable","className","USER_MENTIONS_REGEX","processInlineToken","blockToken","children","forEach","inlineToken","type","imgSrc","attrGet","height","URL","searchParams","get","attrSet","setImageHeight","md","require","html","xhtmlOut","breaks","langPrefix","linkify","typographer","quotes","maxNesting","use","renderer","rules","mention","tokens","idx","content","inline","ruler","before","state","silent","label","labelEnd","labelStart","pos","res","token","href","max","posMax","src","charCodeAt","helpers","parseLinkLabel","slice","parseLinkDestination","ok","normalizeLink","str","validateLink","match","RegExp","push","core","after","mila","attrs","class","rel","TWITTER_USERNAME_REGEX","TWITTER_HASH_REGEX","MessageFormatter","message","isATweet","isAPrivateNote","this","updatedMessage","replace","render","formatMessage","DOMParser","parseFromString","formattedMessage","body","textContent","methods","getPlainText","plainText","truncateMessage","description","length","highlightContent","searchTerm","highlightClass","plainTextContent","escapedSearchTerm","_vm","_c","_self","_setupProxy","staticClass","responseSourcePath","_v","_s","responseSourceName","directives","name","rawName","value","expression","TypingIndicator","componentData","ref","_l","id","_e","domProps","on","$event","composing","messageContent","module","exports"],"mappings":"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","file":"js/84-db49af16fc24bcd5d647.chunk.js","sourcesContent":["export const isEnter = e => {\n  return e.keyCode === 13;\n};\n\nexport const isEscape = e => {\n  return e.keyCode === 27;\n};\n\nexport const hasPressedShift = e => {\n  return e.shiftKey;\n};\n\nexport const hasPressedCommand = e => {\n  return e.metaKey;\n};\n\nexport const hasPressedEnterAndNotCmdOrShift = e => {\n  return isEnter(e) && !hasPressedCommand(e) && !hasPressedShift(e);\n};\n\nexport const hasPressedCommandAndEnter = e => {\n  return e.metaKey && e.keyCode === 13;\n};\n\nexport const hasPressedCommandAndForwardSlash = e => {\n  return e.metaKey && e.keyCode === 191;\n};\n\nexport const hasPressedAltAndCKey = e => {\n  return e.altKey && e.keyCode === 67;\n};\n\nexport const hasPressedAltAndVKey = e => {\n  return e.altKey && e.keyCode === 86;\n};\n\nexport const hasPressedAltAndRKey = e => {\n  return e.altKey && e.keyCode === 82;\n};\n\nexport const hasPressedAltAndSKey = e => {\n  return e.altKey && e.keyCode === 83;\n};\n\nexport const hasPressedAltAndBKey = e => {\n  return e.altKey && e.keyCode === 66;\n};\n\nexport const hasPressedAltAndNKey = e => {\n  return e.altKey && e.keyCode === 78;\n};\n\nexport const hasPressedAltAndAKey = e => {\n  return e.altKey && e.keyCode === 65;\n};\n\nexport const hasPressedAltAndPKey = e => {\n  return e.altKey && e.keyCode === 80;\n};\n\nexport const hasPressedAltAndLKey = e => {\n  return e.altKey && e.keyCode === 76;\n};\n\nexport const hasPressedAltAndEKey = e => {\n  return e.altKey && e.keyCode === 69;\n};\n\nexport const hasPressedAltAndUpKey = e => {\n  return e.altKey && e.keyCode === 38;\n};\n\nexport const hasPressedAltAndDownKey = e => {\n  return e.altKey && e.keyCode === 40;\n};\n\nexport const hasPressedCommandPlusAltAndEKey = e => {\n  return e.metaKey && e.altKey && e.keyCode === 69;\n};\n\nexport const hasPressedAltAndOKey = e => {\n  return e.altKey && e.keyCode === 79;\n};\n\nexport const hasPressedAltAndJKey = e => {\n  return e.altKey && e.keyCode === 74;\n};\n\nexport const hasPressedAltAndKKey = e => {\n  return e.altKey && e.keyCode === 75;\n};\n\nexport const hasPressedAltAndMKey = e => {\n  return e.altKey && e.keyCode === 77;\n};\n\nexport const hasPressedArrowUpKey = e => {\n  return e.keyCode === 38;\n};\n\nexport const hasPressedArrowDownKey = e => {\n  return e.keyCode === 40;\n};\n\nexport const hasPressedArrowLeftKey = e => {\n  return e.keyCode === 37;\n};\n\nexport const hasPressedArrowRightKey = e => {\n  return e.keyCode === 39;\n};\n\nexport const hasPressedCommandPlusKKey = e => {\n  return e.metaKey && e.keyCode === 75;\n};\n\n/**\n * Returns a string representation of the hotkey pattern based on the provided event object.\n * @param {KeyboardEvent} e - The keyboard event object.\n * @returns {string} - The hotkey pattern string.\n */\nexport const buildHotKeys = e => {\n  const key = e.key.toLowerCase();\n  if (['shift', 'meta', 'alt', 'control'].includes(key)) {\n    return key;\n  }\n  let hotKeyPattern = '';\n  if (e.altKey) {\n    hotKeyPattern += 'alt+';\n  }\n  if (e.ctrlKey) {\n    hotKeyPattern += 'ctrl+';\n  }\n  if (e.metaKey && !e.ctrlKey) {\n    hotKeyPattern += 'meta+';\n  }\n  if (e.shiftKey) {\n    hotKeyPattern += 'shift+';\n  }\n  hotKeyPattern += key;\n  return hotKeyPattern;\n};\n\n/**\n * Determines whether the active element is typeable.\n *\n * @param {KeyboardEvent} e - The keyboard event object.\n * @returns {boolean} `true` if the active element is typeable, `false` otherwise.\n *\n * @example\n * document.addEventListener('keydown', e => {\n *   if (isActiveElementTypeable(e)) {\n *     handleTypeableElement(e);\n *   }\n * });\n */\nexport const isActiveElementTypeable = e => {\n  /** @type {HTMLElement | null} */\n  // @ts-ignore\n  const activeElement = e.target || document.activeElement;\n\n  return !!(\n    activeElement?.tagName === 'INPUT' ||\n    activeElement?.tagName === 'NINJA-KEYS' ||\n    activeElement?.tagName === 'TEXTAREA' ||\n    activeElement?.contentEditable === 'true' ||\n    activeElement?.className?.includes('ProseMirror')\n  );\n};\n","// Process [@mention](mention://user/1/Pranav)\nconst USER_MENTIONS_REGEX = /mention:\\/\\/(user|team)\\/(\\d+)\\/(.+)/gm;\n\nconst buildMentionTokens = () => (state, silent) => {\n  var label;\n  var labelEnd;\n  var labelStart;\n  var pos;\n  var res;\n  var token;\n  var href = '';\n  var max = state.posMax;\n\n  if (state.src.charCodeAt(state.pos) !== 0x5b /* [ */) {\n    return false;\n  }\n\n  labelStart = state.pos + 1;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos, true);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) {\n    return false;\n  }\n\n  label = state.src.slice(labelStart, labelEnd);\n  pos = labelEnd + 1;\n\n  if (pos < max && state.src.charCodeAt(pos) === 0x28 /* ( */) {\n    pos += 1;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n    }\n    pos += 1;\n  }\n\n  if (!href.match(new RegExp(USER_MENTIONS_REGEX))) {\n    return false;\n  }\n\n  if (!silent) {\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    token = state.push('mention', '');\n    token.href = href;\n    token.content = label;\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n\n  return true;\n};\n\nconst renderMentions = () => (tokens, idx) => {\n  return `<span class=\"prosemirror-mention-node\">${tokens[idx].content}</span>`;\n};\n\nexport default function mentionPlugin(md) {\n  md.renderer.rules.mention = renderMentions(md);\n  md.inline.ruler.before('link', 'mention', buildMentionTokens(md));\n}\n","import mila from 'markdown-it-link-attributes';\nimport mentionPlugin from './markdownIt/link';\n\nconst setImageHeight = inlineToken => {\n  const imgSrc = inlineToken.attrGet('src');\n  if (!imgSrc) return;\n  const url = new URL(imgSrc);\n  const height = url.searchParams.get('cw_image_height');\n  if (!height) return;\n  inlineToken.attrSet('style', `height: ${height};`);\n};\n\nconst processInlineToken = blockToken => {\n  blockToken.children.forEach(inlineToken => {\n    if (inlineToken.type === 'image') {\n      setImageHeight(inlineToken);\n    }\n  });\n};\n\nconst imgResizeManager = md => {\n  // Custom rule for image resize in markdown\n  // If the image url has a query param cw_image_height, then add a style attribute to the image\n  md.core.ruler.after('inline', 'add-image-height', state => {\n    state.tokens.forEach(blockToken => {\n      if (blockToken.type === 'inline') {\n        processInlineToken(blockToken);\n      }\n    });\n  });\n};\n\nconst md = require('markdown-it')({\n  html: false,\n  xhtmlOut: true,\n  breaks: true,\n  langPrefix: 'language-',\n  linkify: true,\n  typographer: true,\n  quotes: '\\u201c\\u201d\\u2018\\u2019',\n  maxNesting: 20,\n})\n  .use(mentionPlugin)\n  .use(imgResizeManager)\n  .use(mila, {\n    attrs: {\n      class: 'link',\n      rel: 'noreferrer noopener nofollow',\n      target: '_blank',\n    },\n  });\n\nconst TWITTER_USERNAME_REGEX = /(^|[^@\\w])@(\\w{1,15})\\b/g;\nconst TWITTER_USERNAME_REPLACEMENT = '$1[@$2](http://twitter.com/$2)';\nconst TWITTER_HASH_REGEX = /(^|\\s)#(\\w+)/g;\nconst TWITTER_HASH_REPLACEMENT = '$1[#$2](https://twitter.com/hashtag/$2)';\n\nclass MessageFormatter {\n  constructor(message, isATweet = false, isAPrivateNote = false) {\n    this.message = message || '';\n    this.isAPrivateNote = isAPrivateNote;\n    this.isATweet = isATweet;\n  }\n\n  formatMessage() {\n    let updatedMessage = this.message;\n    if (this.isATweet && !this.isAPrivateNote) {\n      updatedMessage = updatedMessage.replace(\n        TWITTER_USERNAME_REGEX,\n        TWITTER_USERNAME_REPLACEMENT\n      );\n      updatedMessage = updatedMessage.replace(\n        TWITTER_HASH_REGEX,\n        TWITTER_HASH_REPLACEMENT\n      );\n    }\n    return md.render(updatedMessage);\n  }\n\n  get formattedMessage() {\n    return this.formatMessage();\n  }\n\n  get plainText() {\n    const strippedOutHtml = new DOMParser().parseFromString(\n      this.formattedMessage,\n      'text/html'\n    );\n    return strippedOutHtml.body.textContent || '';\n  }\n}\n\nexport default MessageFormatter;\n","import MessageFormatter from '../helpers/MessageFormatter';\n\nexport default {\n  methods: {\n    formatMessage(message, isATweet, isAPrivateNote) {\n      const messageFormatter = new MessageFormatter(\n        message,\n        isATweet,\n        isAPrivateNote\n      );\n      return messageFormatter.formattedMessage;\n    },\n    getPlainText(message, isATweet) {\n      const messageFormatter = new MessageFormatter(message, isATweet);\n      return messageFormatter.plainText;\n    },\n    truncateMessage(description = '') {\n      if (description.length < 100) {\n        return description;\n      }\n\n      return `${description.slice(0, 97)}...`;\n    },\n\n    highlightContent(content = '', searchTerm = '', highlightClass = '') {\n      const plainTextContent = this.getPlainText(content);\n\n      // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#escaping\n      const escapedSearchTerm = searchTerm.replace(\n        /[.*+?^${}()|[\\]\\\\]/g,\n        '\\\\$&'\n      );\n\n      return plainTextContent.replace(\n        new RegExp(`(${escapedSearchTerm})`, 'ig'),\n        `<span class=\"${highlightClass}\">$1</span>`\n      );\n    },\n  },\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"h-full w-full flex flex-col bg-slate-25\"},[_c('PlaygroundHeader',{attrs:{\"response-source-name\":_vm.componentData.responseSourceName,\"response-source-path\":_vm.componentData.responseSourcePath}}),_vm._v(\" \"),_c('div',{ref:\"chatContainer\",staticClass:\"flex-1 overflow-auto px-8 py-4\"},[_vm._l((_vm.messages),function(message){return _c('div',{key:message.id,attrs:{\"id\":`message-${message.id}`}},[(message.type === 'User')?_c('UserMessage',{attrs:{\"message\":_vm.formatMessage(message.content)}}):_c('BotMessage',{attrs:{\"message\":_vm.formatMessage(message.content)}})],1)}),_vm._v(\" \"),(_vm.isWaiting)?_c('TypingIndicator'):_vm._e()],2),_vm._v(\" \"),_c('div',{staticClass:\"w-full px-8 py-6\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.messageContent),expression:\"messageContent\"}],ref:\"messageInput\",staticClass:\"resize-none block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border !outline-2 border-slate-100 focus:ring-woot-500 focus:border-woot-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-woot-500 dark:focus:border-woot-500\",attrs:{\"rows\":4,\"placeholder\":\"Type a message... [CMD/CTRL + Enter to send]\",\"autofocus\":\"\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.messageContent)},on:{\"input\":function($event){if($event.target.composing)return;_vm.messageContent=$event.target.value}}})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=0fa12268&\"\nimport script from \"./Header.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./Header.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('header',{staticClass:\"flex items-center px-8 py-4 bg-white border-b border-slate-100\",attrs:{\"role\":\"banner\"}},[_c('a',{staticClass:\"text-woot-500 hover:underline mr-4\",attrs:{\"href\":_vm.responseSourcePath}},[_vm._v(\"\\n    Back\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"border border-solid border-slate-100 text-slate-700 mr-4 p-2 rounded-full\"},[_c('svg',{attrs:{\"width\":\"24\",\"height\":\"24\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-mist-fill\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col h-14 justify-center\"},[_c('h1',{staticClass:\"text-base font-medium text-slate-900\",attrs:{\"id\":\"page-title\"}},[_vm._v(\"\\n      Robin AI playground\\n    \")]),_vm._v(\" \"),_c('p',{staticClass:\"text-sm text-slate-600\"},[_vm._v(\"\\n      Chat with the source\\n      \"),_c('span',{staticClass:\"font-medium\"},[_vm._v(\"\\n        \"+_vm._s(_vm.responseSourceName)+\"\\n      \")]),_vm._v(\"\\n      and evaluate itâ€™s efficiency.\\n    \")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserMessage.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserMessage.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./UserMessage.vue?vue&type=template&id=8cd00670&\"\nimport script from \"./UserMessage.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./UserMessage.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"w-full mb-4 flex items-center justify-end\"},[_c('div',{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:(_vm.message),expression:\"message\"}],staticClass:\"px-4 py-3 bg-woot-400 text-white text-sm rounded-md inline-block\"})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BotMessage.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BotMessage.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./BotMessage.vue?vue&type=template&id=92255130&\"\nimport script from \"./BotMessage.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./BotMessage.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"w-full mb-4 flex items-center justify-start\"},[_c('div',{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:(_vm.message),expression:\"message\"}],staticClass:\"px-4 py-3 bg-white max-w-4xl text-slate-700 leading-6 text-sm rounded-md inline-block border border-slate-100\"})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TypingIndicator.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TypingIndicator.vue?vue&type=script&setup=true&lang=js&\"","<template>\n  <section class=\"h-full w-full flex flex-col bg-slate-25\">\n    <PlaygroundHeader\n      :response-source-name=\"componentData.responseSourceName\"\n      :response-source-path=\"componentData.responseSourcePath\"\n    />\n    <div ref=\"chatContainer\" class=\"flex-1 overflow-auto px-8 py-4\">\n      <div\n        v-for=\"message in messages\"\n        :id=\"`message-${message.id}`\"\n        :key=\"message.id\"\n      >\n        <UserMessage\n          v-if=\"message.type === 'User'\"\n          :message=\"formatMessage(message.content)\"\n        />\n        <BotMessage v-else :message=\"formatMessage(message.content)\" />\n      </div>\n      <TypingIndicator v-if=\"isWaiting\" />\n    </div>\n    <div class=\"w-full px-8 py-6\">\n      <textarea\n        ref=\"messageInput\"\n        v-model=\"messageContent\"\n        :rows=\"4\"\n        class=\"resize-none block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border !outline-2 border-slate-100 focus:ring-woot-500 focus:border-woot-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-woot-500 dark:focus:border-woot-500\"\n        placeholder=\"Type a message... [CMD/CTRL + Enter to send]\"\n        autofocus\n        autocomplete=\"off\"\n      />\n    </div>\n  </section>\n</template>\n\n<script>\nimport { buildHotKeys } from 'shared/helpers/KeyboardHelpers';\nimport messageFormatterMixin from 'shared/mixins/messageFormatterMixin';\nimport Header from '../../components/playground/Header.vue';\nimport UserMessage from '../../components/playground/UserMessage.vue';\nimport BotMessage from '../../components/playground/BotMessage.vue';\nimport TypingIndicator from '../../components/playground/TypingIndicator.vue';\n\nexport default {\n  components: {\n    PlaygroundHeader: Header,\n    UserMessage,\n    BotMessage,\n    TypingIndicator,\n  },\n  mixins: [messageFormatterMixin],\n  props: {\n    componentData: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  data() {\n    return { messages: [], messageContent: '', isWaiting: false };\n  },\n  computed: {\n    previousMessages() {\n      return this.messages.map(message => ({\n        type: message.type,\n        message: message.content,\n      }));\n    },\n  },\n  mounted() {\n    this.focusInput();\n    document.addEventListener('keydown', this.handleKeyEvents);\n  },\n  beforeDestroy() {\n    document.removeEventListener('keydown', this.handleKeyEvents);\n  },\n  methods: {\n    handleKeyEvents(e) {\n      const keyCode = buildHotKeys(e);\n      if (['meta+enter', 'ctrl+enter'].includes(keyCode)) {\n        this.onMessageSend();\n      }\n    },\n    focusInput() {\n      this.$refs.messageInput.focus();\n    },\n    onMessageSend() {\n      this.addMessageToData('User', this.messageContent);\n      this.sendMessageToServer(this.messageContent);\n    },\n    scrollToLastMessage() {\n      this.$nextTick(() => {\n        const messageId = this.messages[this.messages.length - 1].id;\n        const messageElement = document.getElementById(`message-${messageId}`);\n        messageElement.scrollIntoView({ behavior: 'smooth' });\n      });\n    },\n    addMessageToData(type, content) {\n      this.messages.push({ id: this.messages.length, type, content });\n      this.scrollToLastMessage();\n    },\n    async sendMessageToServer(messageContent) {\n      this.messageContent = '';\n      this.isWaiting = true;\n      const csrfToken = document\n        .querySelector('meta[name=\"csrf-token\"]')\n        .getAttribute('content');\n\n      try {\n        const response = await fetch(window.location.href, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'X-CSRF-Token': csrfToken,\n          },\n          body: JSON.stringify({\n            message: messageContent,\n            previous_messages: this.previousMessages,\n          }),\n          credentials: 'include',\n        });\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n\n        const { message } = await response.json();\n        this.addMessageToData('Bot', message);\n      } catch (error) {\n        this.addMessageToData(\n          'bot',\n          'Error: Could not retrieve response. Please check the console for more details.'\n        );\n      } finally {\n        this.isWaiting = false;\n        this.focusInput();\n      }\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./TypingIndicator.vue?vue&type=template&id=278d0699&\"\nimport script from \"./TypingIndicator.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./TypingIndicator.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"w-full mb-4 flex items-center justify-start\"},[_c('div',{staticClass:\"px-2 py-2 bg-white max-w-4xl text-slate-700 leading-6 text-sm rounded-md inline-block border border-slate-100\"},[_c('img',{staticClass:\"h-4\",attrs:{\"src\":_setup.TypingIndicator,\"alt\":\"TypingIndicator\"}})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=c07484fe&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"media/superadmin_pages/components/playground/assets/typing-929e3aeb589b7668d0b4ff57f73e17e3.gif\";"],"sourceRoot":""}