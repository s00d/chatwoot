(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{2601:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return n}));r(33);var i=function(e){var t=window.chatwootConfig,r=t.hostURL,i=t.helpCenterURL;return"".concat(i||r||"","/hc/").concat(e)},n=function(e,t,r,n){var a=i(e);return"".concat(a,"/").concat(r,"/").concat(t,"/").concat(n)}},2677:function(e,t,r){},2825:function(e,t,r){"use strict";r(2677)},2874:function(e,t,r){"use strict";r.r(t);r(19),r(651),r(6),r(3),r(5),r(10),r(8),r(11),r(7),r(18);var i=r(4),n=r(2701),a=r(2699),s=r(2702),c=r(65),o=r(563),l=r(16),u=r(52),p=r(2601);function E(e,t,r,i,n,a,s){try{var c=e[a](s),o=c.value}catch(l){return void r(l)}c.done?t(o):Promise.resolve(o).then(i,n)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(i,n){var a=e.apply(t,r);function s(e){E(a,i,n,s,c,"next",e)}function c(e){E(a,i,n,s,c,"throw",e)}s(void 0)}))}}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=u.b.ARTICLE_STATUS_TYPES,A={components:{EditArticleHeader:n.a,ArticleEditor:a.a,Spinner:c.a,ArticleSettings:s.a},mixins:[o.a,l.a],data:function(){return{isUpdating:!1,isSaved:!1,showArticleSettings:!0,alertMessage:"",showDeleteConfirmationPopup:!1}},computed:f(f({},Object(i.mapGetters)({isFetching:"articles/isFetching",articles:"articles/articles"})),{},{article:function(){return this.$store.getters["articles/articleById"](this.articleId)},articleId:function(){return this.$route.params.articleSlug},selectedPortalSlug:function(){return this.$route.params.portalSlug},portalLink:function(){var e=this.$route.params.portalSlug;return Object(p.a)(e,this.article.category.slug,this.article.category.locale,this.article.id)}}),mounted:function(){this.fetchArticleDetails()},methods:{onClickGoBack:function(){this.$router.push({name:"list_all_locale_articles"})},fetchArticleDetails:function(){this.$store.dispatch("articles/show",{id:this.articleId,portalSlug:this.selectedPortalSlug})},openDeletePopup:function(){this.showDeleteConfirmationPopup=!0},closeDeletePopup:function(){this.showDeleteConfirmationPopup=!1},confirmDeletion:function(){this.closeDeletePopup(),this.deleteArticle()},saveArticle:function(e){var t=this;return h(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=Object.assign({},e),t.isUpdating=!0,r.prev=2,r.next=5,t.$store.dispatch("articles/update",f({portalSlug:t.selectedPortalSlug,articleId:t.articleId},i));case 5:r.next=11;break;case 7:r.prev=7,r.t0=r.catch(2),t.alertMessage=(null===r.t0||void 0===r.t0?void 0:r.t0.message)||t.$t("HELP_CENTER.EDIT_ARTICLE.API.ERROR"),t.showAlert(t.alertMessage);case 11:return r.prev=11,setTimeout((function(){t.isUpdating=!1,t.isSaved=!0}),1500),r.finish(11);case 14:case"end":return r.stop()}}),r,null,[[2,7,11,14]])})))()},deleteArticle:function(){var e=this;return h(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("articles/delete",{portalSlug:e.selectedPortalSlug,articleId:e.articleId});case 3:e.alertMessage=e.$t("HELP_CENTER.DELETE_ARTICLE.API.SUCCESS_MESSAGE"),e.$router.push({name:"list_all_locale_articles",params:{portalSlug:e.selectedPortalSlug,locale:e.locale,recentlyDeleted:!0}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.alertMessage=(null===t.t0||void 0===t.t0?void 0:t.t0.message)||e.$t("HELP_CENTER.DELETE_ARTICLE.API.ERROR_MESSAGE");case 10:return t.prev=10,e.showAlert(e.alertMessage),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])})))()},archiveArticle:function(){var e=this;return h(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("articles/update",{portalSlug:e.selectedPortalSlug,articleId:e.articleId,status:v.ARCHIVE});case 3:e.alertMessage=e.$t("HELP_CENTER.ARCHIVE_ARTICLE.API.SUCCESS"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e.alertMessage=(null===t.t0||void 0===t.t0?void 0:t.t0.message)||e.$t("HELP_CENTER.ARCHIVE_ARTICLE.API.ERROR");case 9:return t.prev=9,e.showAlert(e.alertMessage),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})))()},openArticleSettings:function(){this.showArticleSettings=!0},closeArticleSettings:function(){this.showArticleSettings=!1},showArticleInPortal:function(){window.open(this.portalLink,"_blank")}}},S=(r(2825),r(1)),w=Object(S.a)(A,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"article-container"},[r("div",{staticClass:"edit-article--container",class:{"is-sidebar-open":e.showArticleSettings}},[r("edit-article-header",{attrs:{"back-button-label":e.$t("HELP_CENTER.HEADER.TITLES.ALL_ARTICLES"),"is-updating":e.isUpdating,"is-saved":e.isSaved,"is-sidebar-open":e.showArticleSettings},on:{back:e.onClickGoBack,open:e.openArticleSettings,close:e.closeArticleSettings,show:e.showArticleInPortal}}),e._v(" "),e.isFetching?r("div",{staticClass:"text-center p-normal fs-default h-full"},[r("spinner",{attrs:{size:""}}),e._v(" "),r("span",[e._v(e._s(e.$t("HELP_CENTER.EDIT_ARTICLE.LOADING")))])],1):r("article-editor",{attrs:{"is-settings-sidebar-open":e.showArticleSettings,article:e.article},on:{"save-article":e.saveArticle}})],1),e._v(" "),e.showArticleSettings?r("article-settings",{attrs:{article:e.article},on:{"save-article":e.saveArticle,"delete-article":e.openDeletePopup,"archive-article":e.archiveArticle}}):e._e(),e._v(" "),r("woot-delete-modal",{attrs:{show:e.showDeleteConfirmationPopup,"on-close":e.closeDeletePopup,"on-confirm":e.confirmDeletion,title:e.$t("HELP_CENTER.DELETE_ARTICLE.MODAL.CONFIRM.TITLE"),message:e.$t("HELP_CENTER.DELETE_ARTICLE.MODAL.CONFIRM.MESSAGE"),"confirm-text":e.$t("HELP_CENTER.DELETE_ARTICLE.MODAL.CONFIRM.YES"),"reject-text":e.$t("HELP_CENTER.DELETE_ARTICLE.MODAL.CONFIRM.NO")},on:{"update:show":function(t){e.showDeleteConfirmationPopup=t}}})],1)}),[],!1,null,"0cef2954",null);t.default=w.exports}}]);
//# sourceMappingURL=34-11437d8996333857e82a.chunk.js.map