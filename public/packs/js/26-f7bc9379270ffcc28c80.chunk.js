(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{2604:function(e,t,o){},2605:function(e,t,o){},2619:function(e,t,o){"use strict";o(2604)},2620:function(e,t,o){"use strict";o(2605)},2628:function(e,t,o){"use strict";var a={mixins:[o(563).a],props:{locales:{type:Array,default:function(){return[]}},selectedLocaleCode:{type:String,default:""}},methods:{changeDefaultLocale:function(e){this.$emit("change-default-locale",{localeCode:e})},deleteLocale:function(e){this.$emit("delete",{localeCode:e})}}},n=(o(2619),o(1)),r=Object(n.a)(a,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("table",[o("thead",[o("tr",[o("th",{attrs:{scope:"col"}},[e._v("\n        "+e._s(e.$t("HELP_CENTER.PORTAL.PORTAL_SETTINGS.LIST_ITEM.AVAILABLE_LOCALES.TABLE.NAME"))+"\n      ")]),e._v(" "),o("th",{attrs:{scope:"col"}},[e._v("\n        "+e._s(e.$t("HELP_CENTER.PORTAL.PORTAL_SETTINGS.LIST_ITEM.AVAILABLE_LOCALES.TABLE.CODE"))+"\n      ")]),e._v(" "),o("th",{attrs:{scope:"col"}},[e._v("\n        "+e._s(e.$t("HELP_CENTER.PORTAL.PORTAL_SETTINGS.LIST_ITEM.AVAILABLE_LOCALES.TABLE.ARTICLE_COUNT"))+"\n      ")]),e._v(" "),o("th",{attrs:{scope:"col"}},[e._v("\n        "+e._s(e.$t("HELP_CENTER.PORTAL.PORTAL_SETTINGS.LIST_ITEM.AVAILABLE_LOCALES.TABLE.CATEGORIES"))+"\n      ")]),e._v(" "),o("th",{attrs:{scope:"col"}})])]),e._v(" "),e._m(0),e._v(" "),o("tbody",e._l(e.locales,(function(t){return o("tr",{key:t.code},[o("td",[o("span",[e._v(e._s(e.localeName(t.code)))]),e._v(" "),t.code===e.selectedLocaleCode?o("woot-label",{staticClass:"default-status",attrs:{title:e.$t("HELP_CENTER.PORTAL.PORTAL_SETTINGS.LIST_ITEM.AVAILABLE_LOCALES.TABLE.DEFAULT_LOCALE"),"color-scheme":"warning",small:!0,variant:"smooth"}}):e._e()],1),e._v(" "),o("td",[o("span",[e._v(e._s(t.code))])]),e._v(" "),o("td",[o("span",[e._v(e._s(t.articles_count))])]),e._v(" "),o("td",[o("span",[e._v(e._s(t.categories_count))])]),e._v(" "),o("td",[o("woot-button",{directives:[{name:"tooltip",rawName:"v-tooltip.top-end",value:e.$t("HELP_CENTER.PORTAL.PORTAL_SETTINGS.LIST_ITEM.AVAILABLE_LOCALES.TABLE.SWAP"),expression:"\n            $t(\n              'HELP_CENTER.PORTAL.PORTAL_SETTINGS.LIST_ITEM.AVAILABLE_LOCALES.TABLE.SWAP'\n            )\n          ",modifiers:{"top-end":!0}}],attrs:{size:"tiny",variant:"smooth",icon:"arrow-swap","color-scheme":"primary",disabled:t.code===e.selectedLocaleCode},on:{click:function(o){return e.changeDefaultLocale(t.code)}}}),e._v(" "),o("woot-button",{directives:[{name:"tooltip",rawName:"v-tooltip.top-end",value:e.$t("HELP_CENTER.PORTAL.PORTAL_SETTINGS.LIST_ITEM.AVAILABLE_LOCALES.TABLE.DELETE"),expression:"\n            $t(\n              'HELP_CENTER.PORTAL.PORTAL_SETTINGS.LIST_ITEM.AVAILABLE_LOCALES.TABLE.DELETE'\n            )\n          ",modifiers:{"top-end":!0}}],attrs:{size:"tiny",variant:"smooth",icon:"delete","color-scheme":"secondary",disabled:t.code===e.selectedLocaleCode},on:{click:function(o){return e.deleteLocale(t.code)}}})],1)])})),0)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",{staticClass:"horizontal-line",attrs:{colspan:"100%"}})])}],!1,null,"3c63ce1e",null);t.a=r.exports},2629:function(e,t,o){"use strict";o(19),o(43),o(5),o(6),o(54),o(69),o(7),o(18);var a=o(154),n=o(16),r=o(14),l=o(658);function s(e,t,o,a,n,r,l){try{var s=e[r](l),c=s.value}catch(i){return void o(i)}s.done?t(c):Promise.resolve(c).then(a,n)}var c={components:{Modal:a.a},mixins:[n.a],props:{show:{type:Boolean,default:!0},portal:{type:Object,default:function(){return{}}}},data:function(){return{selectedLocale:"",isUpdating:!1}},computed:{addedLocales:function(){return this.portal.config.allowed_locales.map((function(e){return e.code}))},locales:function(){var e=this.portal.config.allowed_locales.map((function(e){return e.code}));return Object.keys(l.a).map((function(e){return{id:e,name:l.a[e],code:e}})).filter((function(t){return!e.includes(t.code)}))}},validations:{selectedLocale:{required:r.required}},methods:{onCreate:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$v.$touch(),!t.$v.$invalid){e.next=3;break}return e.abrupt("return");case 3:return(o=t.addedLocales).push(t.selectedLocale),t.isUpdating=!0,e.prev=6,e.next=9,t.$store.dispatch("portals/update",{portalSlug:t.portal.slug,config:{allowed_locales:o}});case 9:t.alertMessage=t.$t("HELP_CENTER.PORTAL.ADD_LOCALE.API.SUCCESS_MESSAGE"),t.onClose(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),t.alertMessage=(null===e.t0||void 0===e.t0?void 0:e.t0.message)||t.$t("HELP_CENTER.PORTAL.ADD_LOCALE.API.ERROR_MESSAGE");case 16:return e.prev=16,t.showAlert(t.alertMessage),t.isUpdating=!1,e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[6,13,16,20]])})),function(){var t=this,o=arguments;return new Promise((function(a,n){var r=e.apply(t,o);function l(e){s(r,a,n,l,c,"next",e)}function c(e){s(r,a,n,l,c,"throw",e)}l(void 0)}))})()},onClose:function(){this.$emit("cancel")}}},i=c,u=(o(2620),o(1)),d=Object(u.a)(i,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("modal",{attrs:{show:e.show,"on-close":e.onClose},on:{"update:show":function(t){e.show=t}}},[o("woot-modal-header",{attrs:{"header-title":e.$t("HELP_CENTER.PORTAL.ADD_LOCALE.TITLE"),"header-content":e.$t("HELP_CENTER.PORTAL.ADD_LOCALE.SUB_TITLE")}}),e._v(" "),o("form",{staticClass:"row",on:{submit:function(t){return t.preventDefault(),e.onCreate(t)}}},[o("div",{staticClass:"medium-12 columns"},[o("label",{class:{error:e.$v.selectedLocale.$error}},[e._v("\n        "+e._s(e.$t("HELP_CENTER.PORTAL.ADD_LOCALE.LOCALE.LABEL"))+"\n        "),o("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedLocale,expression:"selectedLocale"}],on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.selectedLocale=t.target.multiple?o:o[0]}}},e._l(e.locales,(function(t){return o("option",{key:t.name,domProps:{value:t.id}},[e._v("\n            "+e._s(t.name)+"-"+e._s(t.code)+"\n          ")])})),0),e._v(" "),e.$v.selectedLocale.$error?o("span",{staticClass:"message"},[e._v("\n          "+e._s(e.$t("HELP_CENTER.PORTAL.ADD_LOCALE.LOCALE.ERROR"))+"\n        ")]):e._e()]),e._v(" "),o("div",{staticClass:"medium-12 columns"},[o("div",{staticClass:"modal-footer justify-content-end w-full"},[o("woot-button",{staticClass:"button clear",on:{click:function(t){return t.preventDefault(),e.onClose(t)}}},[e._v("\n            "+e._s(e.$t("HELP_CENTER.PORTAL.ADD_LOCALE.BUTTONS.CANCEL"))+"\n          ")]),e._v(" "),o("woot-button",[e._v("\n            "+e._s(e.$t("HELP_CENTER.PORTAL.ADD_LOCALE.BUTTONS.CREATE"))+"\n          ")])],1)])])])],1)}),[],!1,null,"c319d5c4",null);t.a=d.exports},2664:function(e,t,o){},2812:function(e,t,o){"use strict";o(2664)},2868:function(e,t,o){"use strict";o.r(t);o(19),o(43),o(6),o(5),o(3),o(10),o(8),o(11),o(7),o(18);var a=o(4),n=o(16),r=o(2628),l=o(2629);function s(e,t,o,a,n,r,l){try{var s=e[r](l),c=s.value}catch(i){return void o(i)}s.done?t(c):Promise.resolve(c).then(a,n)}function c(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?c(Object(o),!0).forEach((function(t){u(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function u(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var d={components:{LocaleItemTable:r.a,AddLocale:l.a},mixins:[n.a],data:function(){return{isAddLocaleModalOpen:!1,lastPortalSlug:void 0,alertMessage:""}},computed:i(i({},Object(a.mapGetters)({uiFlags:"portals/uiFlagsIn"})),{},{currentPortalSlug:function(){return this.$route.params.portalSlug},currentPortal:function(){return this.$store.getters["portals/portalBySlug"](this.currentPortalSlug)},locales:function(){return this.currentPortal.config.allowed_locales},allowedLocales:function(){var e=this;return Object.keys(this.locales).map((function(t){return e.locales[t].code}))}}),mounted:function(){this.lastPortalSlug=this.currentPortalSlug},methods:{changeDefaultLocale:function(e){var t=e.localeCode;this.updatePortalLocales({allowedLocales:this.allowedLocales,defaultLocale:t,successMessage:this.$t("HELP_CENTER.PORTAL.CHANGE_DEFAULT_LOCALE.API.SUCCESS_MESSAGE"),errorMessage:this.$t("HELP_CENTER.PORTAL.CHANGE_DEFAULT_LOCALE.API.ERROR_MESSAGE")})},deletePortalLocale:function(e){var t=e.localeCode,o=this.allowedLocales.filter((function(e){return e!==t})),a=this.currentPortal.meta.default_locale;this.updatePortalLocales({allowedLocales:o,defaultLocale:a,successMessage:this.$t("HELP_CENTER.PORTAL.DELETE_LOCALE.API.SUCCESS_MESSAGE"),errorMessage:this.$t("HELP_CENTER.PORTAL.DELETE_LOCALE.API.ERROR_MESSAGE")})},updatePortalLocales:function(e){var t,o=this;return(t=regeneratorRuntime.mark((function t(){var a,n,r,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.allowedLocales,n=e.defaultLocale,r=e.successMessage,l=e.errorMessage,t.prev=1,t.next=4,o.$store.dispatch("portals/update",{portalSlug:o.currentPortal.slug,config:{default_locale:n,allowed_locales:a}});case 4:o.alertMessage=r,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),o.alertMessage=(null===t.t0||void 0===t.t0?void 0:t.t0.message)||l;case 10:return t.prev=10,o.showAlert(o.alertMessage),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[1,7,10,13]])})),function(){var e=this,o=arguments;return new Promise((function(a,n){var r=t.apply(e,o);function l(e){s(r,a,n,l,c,"next",e)}function c(e){s(r,a,n,l,c,"throw",e)}l(void 0)}))})()},closeAddLocaleModal:function(){this.isAddLocaleModalOpen=!1,this.selectedPortal={}},addLocale:function(){this.isAddLocaleModalOpen=!0}}},L=d,E=(o(2812),o(1)),_=Object(E.a)(L,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"portal-locales"},[o("div",{staticClass:"button-container"},[o("woot-button",{staticClass:"header-action-buttons",attrs:{variant:"smooth",size:"small","color-scheme":"primary"},on:{click:e.addLocale}},[e._v("\n      "+e._s(e.$t("HELP_CENTER.PORTAL.PORTAL_SETTINGS.LIST_ITEM.HEADER.ADD"))+"\n    ")])],1),e._v(" "),o("div",{staticClass:"locale-container"},[o("locale-item-table",{attrs:{locales:e.locales,"selected-locale-code":e.currentPortal.meta.default_locale},on:{"change-default-locale":e.changeDefaultLocale,delete:e.deletePortalLocale}})],1),e._v(" "),o("woot-modal",{attrs:{show:e.isAddLocaleModalOpen,"on-close":e.closeAddLocaleModal},on:{"update:show":function(t){e.isAddLocaleModalOpen=t}}},[o("add-locale",{attrs:{show:e.isAddLocaleModalOpen,portal:e.currentPortal},on:{cancel:e.closeAddLocaleModal}})],1)],1)}),[],!1,null,"c0fc57ce",null);t.default=_.exports}}]);
//# sourceMappingURL=26-f7bc9379270ffcc28c80.chunk.js.map