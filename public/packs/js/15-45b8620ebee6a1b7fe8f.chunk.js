(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{2513:function(t,e,i){},2514:function(t,e,i){},2515:function(t,e,i){},2524:function(t,e,i){"use strict";i(2513)},2525:function(t,e,i){"use strict";i(2514)},2526:function(t,e,i){"use strict";i(2515)},2534:function(t,e,i){"use strict";i(8),i(16),i(17);var n=i(14),r=i(60);function a(t,e,i,n,r,a,o){try{var s=t[a](o),c=s.value}catch(l){return void i(l)}s.done?e(c):Promise.resolve(c).then(n,r)}var o=i(49).b.ARTICLE_STATUS_TYPES,s={mixins:[n.a,r.mixin],props:{backButtonLabel:{type:String,default:""},isUpdating:{type:Boolean,default:!1},isSaved:{type:Boolean,default:!1},enableOpenSidebarButton:{type:Boolean,default:!1},shouldShowAddLocaleButton:{type:Boolean,default:!1}},data:function(){return{isSidebarOpen:!1,showActionsDropdown:!1,alertMessage:"",ARTICLE_STATUS_TYPES:o}},computed:{statusText:function(){return this.isUpdating?this.$t("HELP_CENTER.EDIT_HEADER.SAVING"):this.$t("HELP_CENTER.EDIT_HEADER.SAVED")},articleSlug:function(){return this.$route.params.articleSlug},currentPortalSlug:function(){return this.$route.params.portalSlug},currentArticleStatus:function(){return this.$store.getters["articles/articleStatus"](this.articleSlug)},isPublishedArticle:function(){return"published"===this.currentArticleStatus},isArchivedArticle:function(){return"archived"===this.currentArticleStatus}},methods:{onClickGoBack:function(){this.$emit("back")},showPreview:function(){this.$emit("show")},onClickAdd:function(){this.$emit("add")},updateArticleStatus:function(t){var e,i=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.$store.dispatch("articles/update",{portalSlug:i.currentPortalSlug,articleId:i.articleSlug,status:t});case 3:i.statusUpdateSuccessMessage(t),i.closeActionsDropdown(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i.alertMessage=(null===e.t0||void 0===e.t0?void 0:e.t0.message)||i.statusUpdateErrorMessage(t);case 10:return e.prev=10,i.showAlert(i.alertMessage),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})),function(){var t=this,i=arguments;return new Promise((function(n,r){var o=e.apply(t,i);function s(t){a(o,n,r,s,c,"next",t)}function c(t){a(o,n,r,s,c,"throw",t)}s(void 0)}))})()},statusUpdateSuccessMessage:function(t){t===this.ARTICLE_STATUS_TYPES.PUBLISH?this.alertMessage=this.$t("HELP_CENTER.PUBLISH_ARTICLE.API.SUCCESS"):t===this.ARTICLE_STATUS_TYPES.ARCHIVE&&(this.alertMessage=this.$t("HELP_CENTER.ARCHIVE_ARTICLE.API.SUCCESS"))},statusUpdateErrorMessage:function(t){t===this.ARTICLE_STATUS_TYPES.PUBLISH?this.alertMessage=this.$t("HELP_CENTER.PUBLISH_ARTICLE.API.ERROR"):t===this.ARTICLE_STATUS_TYPES.ARCHIVE&&(this.alertMessage=this.$t("HELP_CENTER.ARCHIVE_ARTICLE.API.ERROR"))},openSidebar:function(){this.isSidebarOpen=!0,this.$emit("open")},closeSidebar:function(){this.isSidebarOpen=!1,this.$emit("close")},openActionsDropdown:function(){this.showActionsDropdown=!this.showActionsDropdown},closeActionsDropdown:function(){this.showActionsDropdown=!1}}},c=s,l=(i(2524),i(0)),u=Object(l.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header--wrap"},[i("div",{staticClass:"header-left--wrap"},[i("woot-button",{attrs:{icon:"chevron-left",variant:"clear",size:"small","color-scheme":"primary"},on:{click:t.onClickGoBack}},[t._v("\n      "+t._s(t.backButtonLabel)+"\n    ")])],1),t._v(" "),i("div",{staticClass:"header-right--wrap"},[t.isUpdating||t.isSaved?i("span",{staticClass:"draft-status"},[t._v("\n      "+t._s(t.statusText)+"\n    ")]):t._e(),t._v(" "),i("woot-button",{attrs:{"class-names":"article--buttons",icon:"globe","color-scheme":"secondary",variant:"hollow",size:"small"},on:{click:t.showPreview}},[t._v("\n      "+t._s(t.$t("HELP_CENTER.EDIT_HEADER.PREVIEW"))+"\n    ")]),t._v(" "),t.isSidebarOpen?t._e():i("woot-button",{directives:[{name:"tooltip",rawName:"v-tooltip.top-end",value:t.$t("HELP_CENTER.EDIT_HEADER.OPEN_SIDEBAR"),expression:"$t('HELP_CENTER.EDIT_HEADER.OPEN_SIDEBAR')",modifiers:{"top-end":!0}}],attrs:{icon:"pane-open","class-names":"article--buttons",variant:"hollow",size:"small","color-scheme":"secondary","is-disabled":t.enableOpenSidebarButton},on:{click:t.openSidebar}}),t._v(" "),t.isSidebarOpen?i("woot-button",{directives:[{name:"tooltip",rawName:"v-tooltip.top-end",value:t.$t("HELP_CENTER.EDIT_HEADER.CLOSE_SIDEBAR"),expression:"$t('HELP_CENTER.EDIT_HEADER.CLOSE_SIDEBAR')",modifiers:{"top-end":!0}}],attrs:{icon:"pane-close","class-names":"article--buttons",variant:"hollow",size:"small","color-scheme":"secondary"},on:{click:t.closeSidebar}}):t._e(),t._v(" "),i("div",{staticClass:"article--buttons"},[i("div",{staticClass:"button-group"},[i("woot-button",{attrs:{"class-names":"publish-button",size:"small",icon:"checkmark","color-scheme":"primary","is-disabled":!t.articleSlug||t.isPublishedArticle},on:{click:function(e){return t.updateArticleStatus(t.ARTICLE_STATUS_TYPES.PUBLISH)}}},[t._v("\n          "+t._s(t.$t("HELP_CENTER.EDIT_HEADER.PUBLISH_BUTTON"))+"\n        ")]),t._v(" "),i("woot-button",{ref:"arrowDownButton",attrs:{size:"small",icon:"chevron-down","is-disabled":!t.articleSlug||t.isArchivedArticle},on:{click:t.openActionsDropdown}})],1),t._v(" "),t.showActionsDropdown?i("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.closeActionsDropdown,expression:"closeActionsDropdown"}],staticClass:"dropdown-pane dropdown-pane--open"},[i("woot-dropdown-menu",[i("woot-dropdown-item",[i("woot-button",{attrs:{variant:"clear","color-scheme":"secondary",size:"small",icon:"book-clock"},on:{click:function(e){return t.updateArticleStatus(t.ARTICLE_STATUS_TYPES.ARCHIVE)}}},[t._v("\n              "+t._s(t.$t("HELP_CENTER.EDIT_HEADER.MOVE_TO_ARCHIVE_BUTTON"))+"\n            ")])],1)],1)],1):t._e()])],1)])}),[],!1,null,"c2ea385c",null);e.a=u.exports},2535:function(t,e,i){"use strict";var n=i(151),r=i(313),a={components:{WootMessageEditor:i(167).a,ResizableTextArea:r.a},props:{article:{type:Object,default:function(){return{}}},isSettingsSidebarOpen:{type:Boolean,default:!1}},data:function(){return{articleTitle:"",articleContent:"",saveArticle:function(){}}},mounted:function(){var t=this;this.articleTitle=this.article.title,this.articleContent=this.article.content,this.saveArticle=Object(n.a)((function(e){t.$emit("save-article",e)}),300,!1)},methods:{onFocus:function(){this.$emit("focus")},onBlur:function(){this.$emit("blur")},onTitleInput:function(){this.saveArticle({title:this.articleTitle})},onContentInput:function(){this.saveArticle({content:this.articleContent})}}},o=(i(2525),i(0)),s=Object(o.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"edit-article--container"},[i("resizable-text-area",{staticClass:"article-heading",attrs:{type:"text",rows:"1",placeholder:t.$t("HELP_CENTER.EDIT_ARTICLE.TITLE_PLACEHOLDER")},on:{focus:t.onFocus,blur:t.onBlur,input:t.onTitleInput},model:{value:t.articleTitle,callback:function(e){t.articleTitle=e},expression:"articleTitle"}}),t._v(" "),i("woot-message-editor",{staticClass:"article-content",attrs:{placeholder:t.$t("HELP_CENTER.EDIT_ARTICLE.CONTENT_PLACEHOLDER"),"is-format-mode":!0},on:{focus:t.onFocus,blur:t.onBlur,input:t.onContentInput},model:{value:t.articleContent,callback:function(e){t.articleContent=e},expression:"articleContent"}})],1)}),[],!1,null,"1ecaa4f4",null);e.a=s.exports},2536:function(t,e,i){"use strict";i(38),i(21),i(2),i(25),i(5),i(4),i(10),i(6),i(11);var n=i(558),r=i(3),a=i(151),o=i(178);function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){l(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var u={components:{MultiselectDropdown:n.a},props:{article:{type:Object,default:function(){return{}}}},data:function(){return{metaTitle:"",metaDescription:"",metaTags:[],metaOptions:[]}},computed:c(c({},Object(r.mapGetters)({categories:"categories/allCategories",agents:"agents/getAgents"})),{},{assignedAuthor:function(){var t;return null===(t=this.article)||void 0===t?void 0:t.author},selectedCategory:function(){var t;return null===(t=this.article)||void 0===t?void 0:t.category},allTags:function(){return this.metaTags.map((function(t){return t.name}))}}),mounted:function(){var t=this;if(!Object(o.f)(this.article.meta||{})){var e=this.article.meta,i=e.title,n=void 0===i?"":i,r=e.description,s=void 0===r?"":r,c=e.tags,l=void 0===c?[]:c;this.metaTitle=n,this.metaDescription=s,this.metaTags=this.formattedTags({tags:l})}this.saveArticle=Object(a.a)((function(){t.$emit("save-article",{meta:{title:t.metaTitle,description:t.metaDescription,tags:t.allTags}})}),1e3,!1)},methods:{formattedTags:function(t){return t.tags.map((function(t){return{name:t}}))},addTagValue:function(t){var e={name:t};this.metaTags.push(e),this.$refs.tagInput.$el.focus(),this.saveArticle()},onClickSelectCategory:function(t){var e=t.id;this.$emit("save-article",{category_id:e})},onClickAssignAuthor:function(t){var e=t.id;this.$emit("save-article",{author_id:e})},onChangeMetaInput:function(){this.saveArticle()},onClickArchiveArticle:function(){this.$emit("archive-article")},onClickDeleteArticle:function(){this.$emit("delete-article")}}},E=(i(2526),i(0)),T=Object(E.a)(u,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"popover-animation"}},[i("div",{staticClass:"article-settings--container"},[i("h3",{staticClass:"block-title"},[t._v("\n      "+t._s(t.$t("HELP_CENTER.ARTICLE_SETTINGS.TITLE"))+"\n    ")]),t._v(" "),i("div",{staticClass:"form-wrap"},[i("label",[t._v("\n        "+t._s(t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.CATEGORY.LABEL"))+"\n        "),i("multiselect-dropdown",{attrs:{options:t.categories,"selected-item":t.selectedCategory,"has-thumbnail":!1,"multiselector-title":t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.CATEGORY.TITLE"),"multiselector-placeholder":t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.CATEGORY.PLACEHOLDER"),"no-search-result":t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.CATEGORY.NO_RESULT"),"input-placeholder":t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.CATEGORY.SEARCH_PLACEHOLDER")},on:{click:t.onClickSelectCategory}})],1),t._v(" "),i("label",[t._v("\n        "+t._s(t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.AUTHOR.LABEL"))+"\n        "),i("multiselect-dropdown",{attrs:{options:t.agents,"selected-item":t.assignedAuthor,"multiselector-title":t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.AUTHOR.TITLE"),"multiselector-placeholder":t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.AUTHOR.PLACEHOLDER"),"no-search-result":t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.AUTHOR.NO_RESULT"),"input-placeholder":t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.AUTHOR.SEARCH_PLACEHOLDER")},on:{click:t.onClickAssignAuthor}})],1),t._v(" "),i("label",[t._v("\n        "+t._s(t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.META_TITLE.LABEL"))+"\n        "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.metaTitle,expression:"metaTitle"}],attrs:{rows:"3",type:"text",placeholder:t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.META_TITLE.PLACEHOLDER")},domProps:{value:t.metaTitle},on:{input:[function(e){e.target.composing||(t.metaTitle=e.target.value)},t.onChangeMetaInput]}})]),t._v(" "),i("label",[t._v("\n        "+t._s(t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.META_DESCRIPTION.LABEL"))+"\n        "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.metaDescription,expression:"metaDescription"}],attrs:{rows:"3",type:"text",placeholder:t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.META_DESCRIPTION.PLACEHOLDER")},domProps:{value:t.metaDescription},on:{input:[function(e){e.target.composing||(t.metaDescription=e.target.value)},t.onChangeMetaInput]}})]),t._v(" "),i("label",[t._v("\n        "+t._s(t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.META_TAGS.LABEL"))+"\n        "),i("multiselect",{ref:"tagInput",attrs:{placeholder:t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.META_TAGS.PLACEHOLDER"),label:"name",options:t.metaOptions,"track-by":"name",multiple:!0,taggable:!0},on:{tag:t.addTagValue},model:{value:t.metaTags,callback:function(e){t.metaTags=e},expression:"metaTags"}})],1)]),t._v(" "),i("div",{staticClass:"action-buttons"},[i("woot-button",{attrs:{icon:"archive",size:"small",variant:"clear","color-scheme":"secondary"},on:{click:t.onClickArchiveArticle}},[t._v("\n        "+t._s(t.$t("HELP_CENTER.ARTICLE_SETTINGS.BUTTONS.ARCHIVE"))+"\n      ")]),t._v(" "),i("woot-button",{attrs:{icon:"delete",size:"small",variant:"clear","color-scheme":"alert"},on:{click:t.onClickDeleteArticle}},[t._v("\n        "+t._s(t.$t("HELP_CENTER.ARTICLE_SETTINGS.BUTTONS.DELETE"))+"\n      ")])],1)])])}),[],!1,null,"1c129daf",null);e.a=T.exports},2557:function(t,e,i){},2600:function(t,e,i){"use strict";i(2557)},2642:function(t,e,i){"use strict";i.r(e);i(17),i(611),i(5),i(2),i(4),i(10),i(6),i(11),i(8),i(16);var n=i(3),r=i(2534),a=i(2535),o=i(536),s=i(14),c=i(2536);function l(t,e,i,n,r,a,o){try{var s=t[a](o),c=s.value}catch(l){return void i(l)}s.done?e(c):Promise.resolve(c).then(n,r)}function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function E(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){T(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function T(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var p={components:{EditArticleHeader:r.a,ArticleEditor:a.a,ArticleSettings:c.a},mixins:[o.a,s.a],data:function(){return{articleTitle:"",articleContent:"",showOpenSidebarButton:!1,showArticleSettings:!0,article:{}}},computed:E(E({},Object(n.mapGetters)({currentUserID:"getCurrentUserID",articles:"articles/articles",categories:"categories/allCategories"})),{},{articleId:function(){return this.$route.params.articleSlug},newArticle:function(){return{title:this.articleTitle,content:this.articleContent}},selectedPortalSlug:function(){return this.$route.params.portalSlug},categoryId:function(){return this.categories.length?this.categories[0].id:null}}),methods:{onClickGoBack:function(){this.$router.push({name:"list_all_locale_articles"})},createNewArticle:function(t){var e,i=this;return(e=regeneratorRuntime.mark((function e(){var n,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object.assign({},t),r=n.title,a=n.content,r&&(i.articleTitle=r),a&&(i.articleContent=a),!i.articleTitle||!i.articleContent){e.next=16;break}return e.prev=5,e.next=8,i.$store.dispatch("articles/create",{portalSlug:i.selectedPortalSlug,content:i.articleContent,title:i.articleTitle,author_id:i.currentUserID,category_id:i.categoryId});case 8:o=e.sent,i.$router.push({name:"edit_article",params:{articleSlug:o,portalSlug:i.selectedPortalSlug,locale:i.locale}}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),i.alertMessage=(null===e.t0||void 0===e.t0?void 0:e.t0.message)||i.$t("HELP_CENTER.CREATE_ARTICLE.API.ERROR_MESSAGE"),i.showAlert(i.alertMessage);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})),function(){var t=this,i=arguments;return new Promise((function(n,r){var a=e.apply(t,i);function o(t){l(a,n,r,o,s,"next",t)}function s(t){l(a,n,r,o,s,"throw",t)}o(void 0)}))})()},openArticleSettings:function(){this.showArticleSettings=!0},closeArticleSettings:function(){this.showArticleSettings=!1},saveArticle:function(){this.alertMessage=this.$t("HELP_CENTER.CREATE_ARTICLE.ERROR_MESSAGE"),this.showAlert(this.alertMessage)}}},d=p,h=(i(2600),i(0)),A=Object(h.a)(d,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"article-container"},[i("div",{staticClass:"new-article--container",class:{"is-sidebar-open":t.showArticleSettings}},[i("edit-article-header",{attrs:{"back-button-label":t.$t("HELP_CENTER.HEADER.TITLES.ALL_ARTICLES"),"draft-state":"saved"},on:{back:t.onClickGoBack,open:t.openArticleSettings,close:t.closeArticleSettings,"save-article":t.createNewArticle}}),t._v(" "),i("article-editor",{attrs:{article:t.newArticle},on:{"save-article":t.createNewArticle}})],1),t._v(" "),t.showArticleSettings?i("article-settings",{attrs:{article:t.article},on:{"save-article":t.saveArticle}}):t._e()],1)}),[],!1,null,"45674c72",null);e.default=A.exports}}]);
//# sourceMappingURL=15-45b8620ebee6a1b7fe8f.chunk.js.map