(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{1925:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(371),a=n(14);function s(t){return Object(a.a)(1,arguments),Object(r.a)(t,Date.now())}},2647:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return p}));var r={1:{id:1,period:"day"},2:{id:2,period:"week"},3:{id:3,period:"month"},4:{id:4,period:"year"}},a={DAY:{id:"DAY",period:"day",translationKey:"REPORT.GROUPING_OPTIONS.DAY"},WEEK:{id:"WEEK",period:"week",translationKey:"REPORT.GROUPING_OPTIONS.WEEK"},MONTH:{id:"MONTH",period:"month",translationKey:"REPORT.GROUPING_OPTIONS.MONTH"},YEAR:{id:"YEAR",period:"year",translationKey:"REPORT.GROUPING_OPTIONS.YEAR"}},s={LAST_7_DAYS:{id:"LAST_7_DAYS",translationKey:"REPORT.DATE_RANGE_OPTIONS.LAST_7_DAYS",offset:6,groupByOptions:[a.DAY]},LAST_30_DAYS:{id:"LAST_30_DAYS",translationKey:"REPORT.DATE_RANGE_OPTIONS.LAST_30_DAYS",offset:29,groupByOptions:[a.DAY,a.WEEK]},LAST_3_MONTHS:{id:"LAST_3_MONTHS",translationKey:"REPORT.DATE_RANGE_OPTIONS.LAST_3_MONTHS",offset:89,groupByOptions:[a.DAY,a.WEEK,a.MONTH]},LAST_6_MONTHS:{id:"LAST_6_MONTHS",translationKey:"REPORT.DATE_RANGE_OPTIONS.LAST_6_MONTHS",offset:179,groupByOptions:[a.WEEK,a.MONTH]},LAST_YEAR:{id:"LAST_YEAR",translationKey:"REPORT.DATE_RANGE_OPTIONS.LAST_YEAR",offset:364,groupByOptions:[a.WEEK,a.MONTH]},CUSTOM_DATE_RANGE:{id:"CUSTOM_DATE_RANGE",translationKey:"REPORT.DATE_RANGE_OPTIONS.CUSTOM_DATE_RANGE",offset:null,groupByOptions:[a.DAY,a.WEEK,a.MONTH,a.YEAR]}},o='PlusJakarta,-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif',i={type:"bar",backgroundColor:"rgb(31, 147, 255)"},l={datasets:[i],scales:{xAxes:[{ticks:{fontFamily:o},gridLines:{drawOnChartArea:!1}}],yAxes:[{id:"y-left",type:"linear",position:"left",ticks:{fontFamily:o,beginAtZero:!0,stepSize:1,callback:function(t,e,n){return e&&e!==n.length-1?"":t}},gridLines:{drawOnChartArea:!1}}]}},u={datasets:[i],scales:{xAxes:[{ticks:{fontFamily:o},gridLines:{drawOnChartArea:!1}}],yAxes:[{id:"y-left",type:"linear",position:"left",ticks:{fontFamily:o,callback:function(t,e,n){return e&&e!==n.length-1?"":function(t){if(!t)return"";if(t<60)return"".concat(t,"s");if(t<3600){var e=Math.floor(t/60);return"".concat(e,"m")}if(t<86400){var n=Math.floor(t/3600);return"".concat(n,"h")}var r=Math.floor(t/86400);return"".concat(r,"d")}(t)}},gridLines:{drawOnChartArea:!1}}]}},c={conversations_count:l,incoming_messages_count:l,outgoing_messages_count:l,avg_first_response_time:u,reply_time:u,avg_resolution_time:u,resolutions_count:l,bot_resolutions_count:l,bot_handoffs_count:l},p={open:"OPEN",unattended:"UNATTENDED",unassigned:"UNASSIGNED",pending:"PENDING",online:"ONLINE",busy:"BUSY",offline:"OFFLINE"}},2657:function(t,e,n){"use strict";n(35),n(88),n(52),n(244),n(1808),n(11),n(75),n(102),n(13),n(9),n(15),n(12),n(16),n(10),n(27);var r=n(32);function a(t,e,n,r,a,s,o){try{var i=t[s](o),l=i.value}catch(u){return void n(u)}i.done?e(l):Promise.resolve(l).then(r,a)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.a={computed:o(o({},Object(r.mapGetters)({accountLabels:"labels/getLabels"})),{},{savedLabels:function(){return this.conversationLabels?this.conversationLabels.split(",").map((function(t){return t.trim()})):this.$store.getters["conversationLabels/getConversationLabels"](this.conversationId)},activeLabels:function(){var t=this;return this.accountLabels.filter((function(e){var n=e.title;return t.savedLabels.includes(n)}))},inactiveLabels:function(){var t=this;return this.accountLabels.filter((function(e){var n=e.title;return!t.savedLabels.includes(n)}))}}),methods:{addLabelToConversation:function(t){var e=this.activeLabels.map((function(t){return t.title}));e.push(t.title),this.onUpdateLabels(e)},removeLabelFromConversation:function(t){var e=this.activeLabels.map((function(t){return t.title})).filter((function(e){return e!==t}));this.onUpdateLabels(e)},onUpdateLabels:function(t){var e,n=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.$store.dispatch("conversationLabels/update",{conversationId:n.conversationId,labels:t});case 1:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,s){var o=e.apply(t,n);function i(t){a(o,r,s,i,l,"next",t)}function l(t){a(o,r,s,i,l,"throw",t)}i(void 0)}))})()}}}},2658:function(t,e,n){},2669:function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){if(e&&t.length!==e.length)throw new Error("The number of values must be equal to the number of weights");return t.reduce((function(t,n,r){return t+n*(e?e[r]:1)}),0)/(e?e.reduce((function(t,e){return t+e}),0):t.length)}function i(t){return t.split(/\s+/).filter((function(t,e,n){return t&&n.indexOf(t)===e}))}n.d(e,"a",(function(){return c}));var l=1.2,u=1.1;function c(t,e,n,r){var s=[],i=r&&r.threshold||.8,l=e.trim().toLowerCase();return e?(t.forEach((function(t){var e,r=[],u=[],c=function(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=a(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,s=function(){};return{s:s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){l=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}(n);try{for(c.s();!(e=c.n()).done;){var d=e.value,f="string"==typeof d?d:d.name;if("string"!=typeof d?u.push(d.weight):u.push(1),Object.prototype.hasOwnProperty.call(t,f)&&"string"==typeof t[f]){var h=p(t[f].trim().toLowerCase(),l);r.push(h)}else r.push(0)}}catch(v){c.e(v)}finally{c.f()}var b=o(r,u);b>=i&&s.push({object:t,similarity:b})})),s.sort((function(t,e){return e.similarity-t.similarity})),s.map((function(t){return t.object}))):t}function p(t,e){var n=i(t),a=i(e).map((function(t){var e=n.map((function(e){return function(t,e){var n=function(t,e){if(t.length<e.length){var n=t;t=e,e=n}var r=t.length,a=e.length;if(!a)return 0;for(var s=Math.max(1,r/2)-1,o=Array(a).fill(!1),i=Array(r).fill(""),l=0,u=0;u<r;u++)for(var c=t[u],p=0;p<a;p++){var d=e[p];if(p<=u+s&&p+s>=1&&c===d&&!o[p]){o[p]=!0,i[l++]=c;break}}if(!l)return 0;for(var f=0,h=0,b=0;b<a;b++)o[b]&&(e[b]!==i[h]&&f++,h++);var v=(l/r+l/a+(l-f/2)/l)/3,m=0;a=Math.min(4,a);for(var g=0;g<a;g++)t[g]===e[g]&&m++;return v+.1*m*(1-v)}(t,e);return t.includes(e)?n*l:n}(e,t)})),a=Math.max.apply(Math,r(e));return a===e[0]?a*u:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.max(e,Math.min(n,t))}(a)}));return o(a)}},2675:function(t,e,n){"use strict";n(56);var r=n(6),a={__name:"TableFooterResults",props:{firstIndex:{type:Number,default:0},lastIndex:{type:Number,default:0},totalCount:{type:Number,default:0}},setup:function(t){return{__sfc:!0}}},s=n(8),o=Object(s.a)(a,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("span",{staticClass:"text-sm text-slate-700 dark:text-slate-200 font-medium"},[t._v("\n  "+t._s(t.$t("GENERAL.SHOWING_RESULTS",{firstIndex:t.firstIndex,lastIndex:t.lastIndex,totalCount:t.totalCount}))+"\n")])}),[],!1,null,null,null).exports,i={__name:"TableFooterPagination",props:{currentPage:{type:Number,default:1},totalCount:{type:Number,default:0},totalPages:{type:Number,default:0}},emits:["page-change"],setup:function(t,e){var n=e.emit,a=t,s=Object(r.computed)((function(){return a.currentPage===a.totalPages||1===a.totalPages})),o=Object(r.computed)((function(){return 1===a.currentPage})),i=Object(r.computed)((function(){return a.currentPage===a.totalPages})),l=Object(r.computed)((function(){return 1===a.currentPage}));function u(t){n("page-change",t)}return{__sfc:!0,props:a,hasLastPage:s,hasFirstPage:o,hasNextPage:i,hasPrevPage:l,emit:n,buttonClass:function(t){return t?"hover:!bg-slate-50 dark:hover:!bg-slate-800":"dark:hover:!bg-slate-700/50"},onPageChange:u,onNextPage:function t(){t.value||u(a.currentPage+1)},onPrevPage:function(){l.value||u(a.currentPage-1)},onFirstPage:function(){o.value||u(1)},onLastPage:function(){s.value||u(a.totalPages)}}}},l=Object(s.a)(i,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e("div",{staticClass:"flex items-center bg-slate-50 dark:bg-slate-800 h-8 rounded-lg"},[e("woot-button",{class:n.buttonClass(n.hasFirstPage),attrs:{size:"small",variant:"smooth","color-scheme":"secondary","is-disabled":n.hasFirstPage,"class-names":"dark:!bg-slate-800 !opacity-100 ltr:rounded-l-lg ltr:rounded-r-none rtl:rounded-r-lg rtl:rounded-l-none"},on:{click:n.onFirstPage}},[e("fluent-icon",{class:n.hasFirstPage&&"opacity-40",attrs:{icon:"chevrons-left",size:"20","icon-lib":"lucide"}})],1),t._v(" "),e("div",{staticClass:"bg-slate-75 dark:bg-slate-700/50 w-px rounded-sm h-4"}),t._v(" "),e("woot-button",{class:n.buttonClass(n.hasPrevPage),attrs:{size:"small",variant:"smooth","color-scheme":"secondary","is-disabled":n.hasPrevPage,"class-names":"dark:!bg-slate-800 !opacity-100 rounded-none"},on:{click:n.onPrevPage}},[e("fluent-icon",{class:n.hasPrevPage&&"opacity-40",attrs:{icon:"chevron-left-single",size:"20","icon-lib":"lucide"}})],1),t._v(" "),e("div",{staticClass:"flex px-3 items-center gap-3 tabular-nums bg-slate-50 dark:bg-slate-800 text-slate-700 dark:text-slate-100"},[e("span",{staticClass:"text-sm text-slate-800 dark:text-slate-75"},[t._v("\n      "+t._s(t.currentPage)+"\n    ")]),t._v(" "),e("span",{staticClass:"text-slate-600 dark:text-slate-500"},[t._v("/")]),t._v(" "),e("span",{staticClass:"text-sm text-slate-600 dark:text-slate-500"},[t._v("\n      "+t._s(t.totalPages)+"\n    ")])]),t._v(" "),e("woot-button",{class:n.buttonClass(n.hasNextPage),attrs:{size:"small",variant:"smooth","color-scheme":"secondary","is-disabled":n.hasNextPage,"class-names":"dark:!bg-slate-800 !opacity-100 rounded-none"},on:{click:n.onNextPage}},[e("fluent-icon",{class:n.hasNextPage&&"opacity-40",attrs:{icon:"chevron-right-single",size:"20","icon-lib":"lucide"}})],1),t._v(" "),e("div",{staticClass:"bg-slate-75 dark:bg-slate-700/50 w-px rounded-sm h-4"}),t._v(" "),e("woot-button",{class:n.buttonClass(n.hasLastPage),attrs:{size:"small",variant:"smooth","color-scheme":"secondary","class-names":"dark:!bg-slate-800 !opacity-100 ltr:rounded-r-lg ltr:rounded-l-none rtl:rounded-l-lg rtl:rounded-r-none","is-disabled":n.hasLastPage},on:{click:n.onLastPage}},[e("fluent-icon",{class:n.hasLastPage&&"opacity-40",attrs:{icon:"chevrons-right",size:"20","icon-lib":"lucide"}})],1)],1)}),[],!1,null,null,null).exports,u={__name:"TableFooter",props:{currentPage:{type:Number,default:1},pageSize:{type:Number,default:25},totalCount:{type:Number,default:0}},setup:function(t){var e=t,n=Object(r.computed)((function(){return Math.ceil(e.totalCount/e.pageSize)})),a=Object(r.computed)((function(){return e.pageSize*(e.currentPage-1)+1})),s=Object(r.computed)((function(){return Math.min(e.totalCount,e.pageSize*e.currentPage)})),i=Object(r.computed)((function(){return e.totalCount&&!(a.value>e.totalCount)}));return{__sfc:!0,props:e,totalPages:n,firstIndex:a,lastIndex:s,isFooterVisible:i,TableFooterResults:o,TableFooterPagination:l}}},c=Object(s.a)(u,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return n.isFooterVisible?e("footer",{staticClass:"h-12 flex items-center justify-between px-6"},[e(n.TableFooterResults,{attrs:{"first-index":n.firstIndex,"last-index":n.lastIndex,"total-count":t.totalCount}}),t._v(" "),t.totalCount?e(n.TableFooterPagination,{attrs:{"current-page":t.currentPage,"total-pages":n.totalPages,"total-count":t.totalCount,"page-size":t.pageSize},on:{"page-change":function(e){return t.$emit("page-change",e)}}}):t._e()],1):t._e()}),[],!1,null,null,null);e.a=c.exports},2679:function(t,e,n){"use strict";var r={components:{Thumbnail:n(273).a},props:{user:{type:Object,default:function(){}},size:{type:String,default:"20px"},textClass:{type:String,default:"text-xs text-slate-600"}}},a=n(8),s=Object(a.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex items-center gap-1.5 text-left"},[e("thumbnail",{attrs:{src:t.user.thumbnail,size:t.size,username:t.user.name,status:t.user.availability_status}}),t._v(" "),e("h6",{staticClass:"my-0 dark:text-slate-100 overflow-hidden whitespace-nowrap text-ellipsis text-capitalize",class:t.textClass},[t._v("\n    "+t._s(t.user.name)+"\n  ")])],1)}),[],!1,null,null,null);e.a=s.exports},2680:function(t,e,n){"use strict";var r={__name:"DropdownButton",props:{buttonText:{type:String,default:""},rightIcon:{type:String,default:""},leftIcon:{type:String,default:""}},setup:function(t){return{__sfc:!0}}},a=n(8),s=Object(a.a)(r,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("button",{staticClass:"inline-flex relative items-center p-1.5 w-fit h-8 gap-1.5 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 active:bg-slate-75 dark:active:bg-slate-800",on:{click:function(e){return t.$emit("click")}}},[t._t("leftIcon",(function(){return[t.leftIcon?e("fluent-icon",{staticClass:"flex-shrink-0 text-slate-900 dark:text-slate-50",attrs:{icon:t.leftIcon,size:"18"}}):t._e()]})),t._v(" "),t.buttonText?e("span",{staticClass:"text-sm font-medium truncate text-slate-900 dark:text-slate-50"},[t._v("\n    "+t._s(t.buttonText)+"\n  ")]):t._e(),t._v(" "),t._t("rightIcon",(function(){return[t.rightIcon?e("fluent-icon",{staticClass:"flex-shrink-0 text-slate-900 dark:text-slate-50",attrs:{icon:t.rightIcon,size:"18"}}):t._e()]})),t._v(" "),t._t("dropdown")],2)}),[],!1,null,null,null);e.a=s.exports},2704:function(t,e,n){"use strict";n(56);var r=n(6),a=n(283),s=n(2669),o=n(2740),i={__name:"DropdownSearch",props:{inputValue:{type:String,default:""},inputPlaceholder:{type:String,default:""},showClearFilter:{type:Boolean,default:!1}},setup:function(t){return{__sfc:!0}}},l=n(8),u=Object(l.a)(i,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"flex items-center justify-between h-10 min-h-[40px] sticky top-0 bg-white z-10 dark:bg-slate-800 gap-2 px-3 border-b rounded-t-xl border-slate-50 dark:border-slate-700"},[e("div",{staticClass:"flex items-center w-full gap-2",on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"]))return null;e.preventDefault()}}},[e("fluent-icon",{staticClass:"text-slate-400 dark:text-slate-400 flex-shrink-0",attrs:{icon:"search",size:"16"}}),t._v(" "),e("input",{staticClass:"w-full mb-0 text-sm bg-white dark:bg-slate-800 text-slate-800 dark:text-slate-75 reset-base",attrs:{type:"text",placeholder:t.inputPlaceholder},domProps:{value:t.inputValue},on:{input:function(e){return t.$emit("input",e.target.value)}}})],1),t._v(" "),!t.inputValue&&t.showClearFilter?e("woot-button",{staticClass:"!px-1 !py-1.5",attrs:{size:"small",variant:"clear","color-scheme":"primary"},on:{click:function(e){return t.$emit("click")}}},[t._v("\n    "+t._s(t.$t("REPORT.FILTER_ACTIONS.CLEAR_FILTER"))+"\n  ")]):t._e()],1)}),[],!1,null,null,null).exports,c=n(2741),p={__name:"DropdownLoadingState",props:{message:{type:String,default:""}},setup:function(t){return{__sfc:!0}}},d=Object(l.a)(p,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"flex items-center justify-center h-10 text-sm text-slate-500 dark:text-slate-300"},[t._v("\n  "+t._s(t.message)+"\n")])}),[],!1,null,null,null).exports,f={__name:"DropdownList",props:{listItems:{type:Array,default:function(){return[]}},enableSearch:{type:Boolean,default:!1},inputPlaceholder:{type:String,default:""},activeFilterId:{type:[String,Number],default:null},showClearFilter:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1},loadingPlaceholder:{type:String,default:""}},emits:["on-search"],setup:function(t,e){var n=e.emit,i=t,l=Object(r.ref)(""),p=Object(a.c)((function(t){l.value=t,n("on-search",t)}),300),f=Object(r.computed)((function(){return l.value?Object(s.a)(i.listItems,l.value,["name"]):i.listItems})),h=Object(r.computed)((function(){return!f.value.length})),b=Object(r.computed)((function(){return i.isLoading&&h.value&&i.loadingPlaceholder})),v=Object(r.computed)((function(){return!i.isLoading&&h.value}));return{__sfc:!0,props:i,emits:n,searchTerm:l,onSearch:p,filteredListItems:f,isDropdownListEmpty:h,isFilterActive:function(t){return!!i.activeFilterId&&t===i.activeFilterId},shouldShowLoadingState:b,shouldShowEmptyState:v,ListItemButton:o.a,DropdownSearch:u,DropdownEmptyState:c.a,DropdownLoadingState:d}}},h=Object(l.a)(f,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e("div",{staticClass:"absolute z-20 w-40 bg-white border shadow dark:bg-slate-800 rounded-xl border-slate-50 dark:border-slate-700/50 max-h-[400px]",on:{click:function(t){t.stopPropagation()}}},[t._t("search",(function(){return[t.enableSearch?e(n.DropdownSearch,{attrs:{"input-value":n.searchTerm,"input-placeholder":t.inputPlaceholder,"show-clear-filter":t.showClearFilter},on:{input:n.onSearch,click:function(e){return t.$emit("removeFilter")}}}):t._e()]})),t._v(" "),t._t("listItem",(function(){return[n.shouldShowLoadingState?e(n.DropdownLoadingState,{attrs:{message:t.loadingPlaceholder}}):n.shouldShowEmptyState?e(n.DropdownEmptyState,{attrs:{message:t.$t("REPORT.FILTER_ACTIONS.EMPTY_LIST")}}):t._e(),t._v(" "),t._l(n.filteredListItems,(function(r){return e(n.ListItemButton,{key:r.id,attrs:{"is-active":n.isFilterActive(r.id),"button-text":r.name},on:{click:function(e){return t.$emit("click",r)}}})}))]}))],2)}),[],!1,null,null,null);e.a=h.exports},2706:function(t,e,n){"use strict";n(2658)},2717:function(t,e,n){"use strict";n(11),n(67);var r=n(6),a=n(148),s=n(289),o=n(195),i={__name:"SLAEventItem",props:{label:{type:String,required:!0},items:{type:Array,required:!0}},setup:function(t){return{__sfc:!0,formatDate:function(t){return Object(s.a)(Object(o.a)(t),"MMM dd, yyyy, hh:mm a")}}}},l=n(8),u=Object(l.a)(i,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e("div",{staticClass:"flex justify-between w-full"},[e("span",{staticClass:"text-sm sticky top-0 h-fit font-normal tracking-[-0.6%] min-w-[140px] truncate text-slate-600 dark:text-slate-200"},[t._v("\n    "+t._s(t.label)+"\n  ")]),t._v(" "),e("div",{staticClass:"flex flex-col w-full gap-2"},[t._l(t.items,(function(r){return e("span",{key:r.id,staticClass:"text-sm font-normal text-slate-900 dark:text-slate-25 text-right tabular-nums"},[t._v("\n      "+t._s(n.formatDate(r.created_at))+"\n    ")])})),t._v(" "),t._t("showMore")],2)])}),[],!1,null,null,null).exports,c={__name:"SLAPopoverCard",props:{slaMissedEvents:{type:Array,required:!0}},setup:function(t){var e=t,n=a.b.SLA_MISS_TYPES,s=Object(r.ref)(!1),o=Object(r.computed)((function(){return e.slaMissedEvents.filter((function(t){return t.event_type===n.FRT}))})),i=Object(r.computed)((function(){var t=e.slaMissedEvents.filter((function(t){return t.event_type===n.NRT}));return s.value?t:t.slice(0,6)})),l=Object(r.computed)((function(){return e.slaMissedEvents.filter((function(t){return t.event_type===n.RT}))})),c=Object(r.computed)((function(){return i.value.length>6}));return{__sfc:!0,SLA_MISS_TYPES:n,props:e,shouldShowAllNrts:s,frtMisses:o,nrtMisses:i,rtMisses:l,shouldShowMoreNRTButton:c,toggleShowAllNRT:function(){s.value=!s.value},SLAEventItem:u}}},p=Object(l.a)(c,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e("div",{staticClass:"absolute flex flex-col items-start bg-white dark:bg-slate-800 z-50 p-4 border border-solid border-slate-75 dark:border-slate-700 w-[384px] rounded-xl gap-4 max-h-96 overflow-auto"},[e("span",{staticClass:"text-sm font-medium text-slate-900 dark:text-slate-25"},[t._v("\n    "+t._s(t.$t("SLA.EVENTS.TITLE"))+"\n  ")]),t._v(" "),n.frtMisses.length?e(n.SLAEventItem,{attrs:{label:t.$t("SLA.EVENTS.FRT"),items:n.frtMisses}}):t._e(),t._v(" "),n.nrtMisses.length?e(n.SLAEventItem,{attrs:{label:t.$t("SLA.EVENTS.NRT"),items:n.nrtMisses},scopedSlots:t._u([{key:"showMore",fn:function(){return[n.shouldShowMoreNRTButton?e("div",{staticClass:"flex flex-col items-end w-full"},[e("woot-button",{staticClass:"hover:!no-underline !gap-1 hover:!bg-transparent dark:hover:!bg-transparent",attrs:{size:"small",icon:n.shouldShowAllNrts?"":"plus-sign",variant:"link","color-scheme":"secondary"},on:{click:n.toggleShowAllNRT}},[t._v("\n          "+t._s(n.shouldShowAllNrts?t.$t("SLA.EVENTS.HIDE",{count:n.nrtMisses.length}):t.$t("SLA.EVENTS.SHOW_MORE",{count:n.nrtMisses.length}))+"\n        ")])],1):t._e()]},proxy:!0}],null,!1,4238293960)}):t._e(),t._v(" "),n.rtMisses.length?e(n.SLAEventItem,{attrs:{label:t.$t("SLA.EVENTS.RT"),items:n.rtMisses}}):t._e()],1)}),[],!1,null,null,null);e.a=p.exports},2724:function(t,e,n){"use strict";n(56),n(72),n(23),n(12);var r={mixins:[n(2657).a],props:{conversationId:{type:Number,required:!0},conversationLabels:{type:String,required:!1,default:""}},data:function(){return{showAllLabels:!1,showExpandLabelButton:!1,labelPosition:-1}},watch:{activeLabels:function(){var t=this;this.$nextTick((function(){return t.computeVisibleLabelPosition()}))}},mounted:function(){this.computeVisibleLabelPosition()},methods:{onShowLabels:function(t){var e=this;t.stopPropagation(),this.showAllLabels=!this.showAllLabels,this.$nextTick((function(){return e.computeVisibleLabelPosition()}))},computeVisibleLabelPosition:function(){var t=this,e=this.$slots.before?100:0,n=this.$refs.labelContainer;if(n){var r=Array.from(n.querySelectorAll(".label")),a=0;this.showExpandLabelButton=!1,r.forEach((function(s,o){(a+=s.offsetWidth+8)<n.clientWidth-16-e?t.labelPosition=o:t.showExpandLabelButton=r.length>1}))}}}},a=(n(2706),n(8)),s=Object(a.a)(r,(function(){var t=this,e=t._self._c;return t.activeLabels.length||t.$slots.before?e("div",{directives:[{name:"resize",rawName:"v-resize",value:t.computeVisibleLabelPosition,expression:"computeVisibleLabelPosition"}],ref:"labelContainer"},[e("div",{staticClass:"flex items-end flex-shrink min-w-0 gap-y-1",class:{"h-auto overflow-visible flex-row flex-wrap":t.showAllLabels}},[t._t("before"),t._v(" "),t._l(t.activeLabels,(function(n,r){return e("woot-label",{key:n.id,staticClass:"!mb-0 max-w-[calc(100%-0.5rem)]",class:{hidden:!t.showAllLabels&&r>t.labelPosition},attrs:{title:n.title,description:n.description,color:n.color,variant:"smooth",small:""}})})),t._v(" "),t.showExpandLabelButton?e("woot-button",{staticClass:"sticky right-0 flex-shrink-0 mr-6 show-more--button rtl:rotate-180",attrs:{title:t.showAllLabels?t.$t("CONVERSATION.CARD.HIDE_LABELS"):t.$t("CONVERSATION.CARD.SHOW_LABELS"),"color-scheme":"secondary",variant:"hollow",icon:t.showAllLabels?"chevron-left":"chevron-right",size:"tiny"},on:{click:t.onShowLabels}}):t._e()],2)]):t._e()}),[],!1,null,"a39cc454",null);e.a=s.exports},2740:function(t,e,n){"use strict";var r={__name:"DropdownListItemButton",props:{buttonText:{type:String,default:""},isActive:{type:Boolean,default:!1}},setup:function(t){return{__sfc:!0}}},a=n(8),s=Object(a.a)(r,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("button",{staticClass:"relative inline-flex items-center justify-start w-full p-3 border-0 rounded-none first:rounded-t-xl last:rounded-b-xl h-11 hover:bg-slate-50 dark:hover:bg-slate-700 active:bg-slate-75 dark:active:bg-slate-800",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$emit("click")},mouseenter:function(e){return t.$emit("mouseenter")},mouseleave:function(e){return t.$emit("mouseleave")},focus:function(e){return t.$emit("focus")}}},[e("div",{staticClass:"inline-flex items-center gap-3 overflow-hidden"},[e("span",{staticClass:"text-sm font-medium truncate text-slate-900 dark:text-slate-50"},[t._v("\n      "+t._s(t.buttonText)+"\n    ")]),t._v(" "),t.isActive?e("fluent-icon",{staticClass:"flex-shrink-0 text-slate-900 dark:text-slate-50",attrs:{icon:"checkmark",size:"18"}}):t._e()],1),t._v(" "),t._t("dropdown")],2)}),[],!1,null,null,null);e.a=s.exports},2741:function(t,e,n){"use strict";var r={__name:"DropdownEmptyState",props:{message:{type:String,default:""}},setup:function(t){return{__sfc:!0}}},a=n(8),s=Object(a.a)(r,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"flex items-center justify-center h-10 text-sm text-slate-500 dark:text-slate-300"},[t._v("\n  "+t._s(t.message)+"\n")])}),[],!1,null,null,null);e.a=s.exports},290:function(t,e,n){"use strict";n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return h})),n.d(e,"g",(function(){return b})),n.d(e,"f",(function(){return v})),n.d(e,"e",(function(){return m})),n.d(e,"c",(function(){return g})),n.d(e,"d",(function(){return _}));n(52),n(70);var r=n(195),a=n(289),s=n(1925),o=n(371),i=n(1779),l=n(14);var u=n(1906),c=n(168),p=n(1788),d=n(366),f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MMM dd, yyyy",n=Object(r.a)(t);return Object(a.a)(n,e)},h=function(t){var e=t.date,n=t.todayText,r=t.yesterdayText,a=new Date(e);return Object(s.a)(a)?n:function(t){return Object(l.a)(1,arguments),Object(o.a)(t,Object(i.a)(Date.now(),1))}(a)?r:e},b=function(t,e,n,r){return!(t<n)&&(t!==n||e>=r)},v=function(t){return Object(u.a)(Object(c.a)(t))},m=function(t){return Object(u.a)(Object(p.a)(t))},g=function(t,e,n){var r=null===n||void 0===n?void 0:n.replace(/_/g,"-");return new Intl.RelativeTimeFormat(r,{numeric:"auto"}).format(t,e)},_=function(t,e){var n=new Date(1e3*e);return Object(d.a)(t,n)}},2974:function(t,e,n){"use strict";n(56);var r=n(6),a={__name:"TableHeaderCell",props:{span:{type:Number,required:!0},label:{type:String,required:!0,default:""}},setup:function(t){var e=t,n=Object(r.computed)((function(){return 1===e.span?"col-span-1":2===e.span?"col-span-2":3===e.span?"col-span-3":4===e.span?"col-span-4":5===e.span?"col-span-5":6===e.span?"col-span-6":7===e.span?"col-span-7":8===e.span?"col-span-8":9===e.span?"col-span-9":10===e.span?"col-span-10":"col-span-1"}));return{__sfc:!0,props:e,spanClass:n}}},s=n(8),o=Object(s.a)(a,(function(){var t=this;return(0,t._self._c)("div",{staticClass:"flex items-center px-0 py-2 text-xs font-medium text-left uppercase text-slate-700 dark:text-slate-100 rtl:text-right",class:t._self._setupProxy.spanClass},[t._t("default",(function(){return[t._v("\n    "+t._s(t.label)+"\n  ")]}))],2)}),[],!1,null,null,null);e.a=o.exports},3344:function(t,e,n){"use strict";n.r(e);n(13),n(9),n(11),n(15),n(12),n(16);var r=n(32),a=(n(56),{props:{label:{type:String,required:!0},value:{type:[String,Number],required:!0},toolTip:{type:String,required:!0},isLoading:{type:Boolean,default:!1}}}),s=n(8),o=Object(s.a)(a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-col gap-2 items-start justify-center min-w-[10rem]"},[e("span",{staticClass:"inline-flex items-center gap-1 text-sm font-medium text-slate-700 dark:text-slate-200"},[t._v("\n    "+t._s(t.label)+"\n    "),e("fluent-icon",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:t.toolTip,expression:"toolTip",modifiers:{right:!0}}],staticClass:"flex flex-shrink-0 text-sm font-normal sm:font-medium text-slate-500 dark:text-slate-500",attrs:{size:"14",icon:"information",type:"outline"}})],1),t._v(" "),t.isLoading?e("div",{staticClass:"w-12 h-6 mb-0.5 rounded-md bg-slate-50 dark:bg-slate-800 animate-pulse"}):e("span",{staticClass:"text-2xl font-medium text-slate-900 dark:text-slate-25"},[t._v("\n    "+t._s(t.value)+"\n  ")])])}),[],!1,null,null,null).exports,i={__name:"SLAMetrics",props:{hitRate:{type:String,required:!0},noOfBreaches:{type:Number,required:!0},noOfConversations:{type:Number,required:!0},isLoading:{type:Boolean,default:!1}},setup:function(t){return{__sfc:!0,SLAMetricCard:o}}},l=Object(s.a)(i,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e("div",{staticClass:"flex sm:flex-row flex-col w-full gap-4 sm:gap-14 bg-white dark:bg-slate-900 rounded-xl border border-slate-75 dark:border-slate-700/50 px-6 py-4"},[e(n.SLAMetricCard,{attrs:{label:t.$t("SLA_REPORTS.METRICS.HIT_RATE.LABEL"),value:t.hitRate,"tool-tip":t.$t("SLA_REPORTS.METRICS.HIT_RATE.TOOLTIP"),"is-loading":t.isLoading}}),t._v(" "),e("div",{staticClass:"w-full sm:w-px h-full border border-slate-75 dark:border-slate-700/50"}),t._v(" "),e(n.SLAMetricCard,{attrs:{label:t.$t("SLA_REPORTS.METRICS.NO_OF_MISSES.LABEL"),value:t.noOfBreaches,"tool-tip":t.$t("SLA_REPORTS.METRICS.NO_OF_MISSES.TOOLTIP"),"is-loading":t.isLoading}}),t._v(" "),e("div",{staticClass:"w-full sm:w-px h-full border border-slate-75 dark:border-slate-700/50"}),t._v(" "),e(n.SLAMetricCard,{attrs:{label:t.$t("SLA_REPORTS.METRICS.NO_OF_CONVERSATIONS.LABEL"),value:t.noOfConversations,"tool-tip":t.$t("SLA_REPORTS.METRICS.NO_OF_CONVERSATIONS.TOOLTIP"),"is-loading":t.isLoading}})],1)}),[],!1,null,null,null).exports,u=n(2675),c=n(2974),p=n(2679),d=n(2724),f={components:{SLAPopoverCard:n(2717).a},props:{slaEvents:{type:Array,default:function(){return[]}}},data:function(){return{showSlaPopoverCard:!1}},methods:{closeSlaEvents:function(){this.showSlaPopoverCard=!1},openSlaEvents:function(){this.showSlaPopoverCard=!this.showSlaPopoverCard}}},h=Object(s.a)(f,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.closeSlaEvents,expression:"closeSlaEvents"}],staticClass:"label-wrap"},[e("div",{staticClass:"flex items-center col-span-2 px-0 py-2 text-sm tracking-[0.5] text-slate-700 dark:text-slate-100 rtl:text-right"},[e("div",{staticClass:"relative"},[e("woot-button",{attrs:{"color-scheme":"secondary",variant:"link"},on:{click:t.openSlaEvents}},[t._v("\n        "+t._s(t.$t("SLA_REPORTS.TABLE.VIEW_DETAILS"))+"\n      ")]),t._v(" "),t.showSlaPopoverCard?e("SLA-popover-card",{staticClass:"right-0",attrs:{"sla-missed-events":t.slaEvents}}):t._e()],1)])])}),[],!1,null,null,null).exports,b={__name:"SLAReportItem",props:{slaName:{type:String,required:!0},conversationId:{type:Number,required:!0},conversation:{type:Object,required:!0},slaEvents:{type:Array,default:function(){return[]}}},setup:function(t){return{__sfc:!0,UserAvatarWithName:p.a,CardLabels:d.a,SLAViewDetails:h}}},v=Object(s.a)(b,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e("div",{staticClass:"grid content-center items-center h-16 grid-cols-12 gap-4 px-6 py-0 w-full bg-white border-b last:border-b-0 last:rounded-b-xl border-slate-75 dark:border-slate-800/50 dark:bg-slate-900"},[e("div",{staticClass:"flex items-center gap-2 col-span-6 px-0 py-2 text-sm tracking-[0.5] text-slate-700 dark:text-slate-100 rtl:text-right"},[e("span",{staticClass:"text-slate-700 dark:text-slate-200"},[t._v("\n      "+t._s(`#${t.conversationId} `)+"\n    ")]),t._v(" "),e("span",{staticClass:"text-slate-600 dark:text-slate-300"},[t._v("with ")]),t._v(" "),e("span",{staticClass:"text-slate-700 dark:text-slate-200 capitalize truncate"},[t._v(t._s(t.conversation.contact.name))]),t._v(" "),e(n.CardLabels,{staticClass:"w-[80%]",attrs:{"conversation-id":t.conversationId,"conversation-labels":t.conversation.labels}})],1),t._v(" "),e("div",{staticClass:"flex items-center capitalize py-2 px-0 text-sm tracking-[0.5] text-slate-700 dark:text-slate-50 text-left rtl:text-right col-span-2"},[t._v("\n    "+t._s(t.slaName)+"\n  ")]),t._v(" "),e("div",{staticClass:"flex items-center gap-2 col-span-2"},[t.conversation.assignee?e(n.UserAvatarWithName,{attrs:{user:t.conversation.assignee}}):e("span",{staticClass:"text-slate-600 dark:text-slate-200"},[t._v(" --- ")])],1),t._v(" "),e(n.SLAViewDetails,{attrs:{"sla-events":t.slaEvents}})],1)}),[],!1,null,null,null).exports,m=n(193),g={name:"SLATable",components:{SLAReportItem:v,TableFooter:u.a,Spinner:m.a,TableHeaderCell:c.a},props:{slaReports:{type:Array,default:function(){return[]}},totalCount:{type:Number,default:0},currentPage:{type:Number,default:1},pageSize:{type:Number,default:25},isLoading:{type:Boolean,default:!1}},data:function(){return{pageNo:1}},computed:{shouldShowFooter:function(){return 1===this.currentPage?this.totalCount>this.pageSize:this.slaReports.length>0}},methods:{onPageChange:function(t){this.$emit("page-change",t)}}},_=Object(s.a)(g,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"min-w-full border rounded-xl border-slate-75 dark:border-slate-700/50"},[e("div",{staticClass:"grid content-center h-12 grid-cols-12 gap-4 px-6 py-0 border-b bg-slate-25 border-slate-75 dark:border-slate-800 rounded-t-xl dark:bg-slate-900"},[e("table-header-cell",{attrs:{span:6,label:t.$t("SLA_REPORTS.TABLE.HEADER.CONVERSATION")}}),t._v(" "),e("table-header-cell",{attrs:{span:2,label:t.$t("SLA_REPORTS.TABLE.HEADER.POLICY")}}),t._v(" "),e("table-header-cell",{attrs:{span:2,label:t.$t("SLA_REPORTS.TABLE.HEADER.AGENT")}}),t._v(" "),e("table-header-cell",{attrs:{span:2,label:""}})],1),t._v(" "),t.isLoading?e("div",{staticClass:"flex items-center rounded-b-xl justify-center h-32 bg-white dark:bg-slate-900"},[e("spinner"),t._v(" "),e("span",[t._v(t._s(t.$t("SLA_REPORTS.LOADING")))])],1):t.slaReports.length>0?e("div",t._l(t.slaReports,(function(t){return e("SLA-report-item",{key:t.applied_sla.id,attrs:{"sla-name":t.applied_sla.sla_name,conversation:t.conversation,"conversation-id":t.conversation.id,"sla-events":t.sla_events}})})),1):e("div",{staticClass:"flex items-center justify-center rounded-b-xl h-32 bg-white dark:bg-slate-900"},[t._v("\n      "+t._s(t.$t("SLA_REPORTS.NO_RECORDS"))+"\n    ")])]),t._v(" "),t.shouldShowFooter?e("table-footer",{attrs:{"current-page":t.currentPage,"total-count":t.totalCount,"page-size":t.pageSize},on:{"page-change":t.onPageChange}}):t._e()],1)}),[],!1,null,null,null).exports,y=n(79),S=(n(88),n(75),n(102),n(43),n(314),n(159),n(10),n(147),function(t,e){return t.map((function(t){return{id:t.id,name:"labels"===e?t.title:t.name,type:e}}))}),O=function(t,e){return{keyToType:{assigned_agent_id:"agents",inbox_id:"inboxes",team_id:"teams",sla_policy_id:"sla",label_list:"labels"},typeToKey:{agents:"assigned_agent_id",inboxes:"inbox_id",teams:"team_id",sla:"sla_policy_id",labels:"label_list"}}[e][t]},x=n(2680),w=n(2704),A={__name:"ActiveFilterChip",props:{name:{type:String,required:!0},id:{type:Number,required:!0},type:{type:String,required:!0},options:{type:Array,default:function(){return[]}},activeFilterType:{type:String,default:""},showMenu:{type:Boolean,default:!1},placeholder:{type:String,default:""},enableSearch:{type:Boolean,default:!1}},emits:["toggleDropdown","removeFilter","addFilter","closeDropdown"],setup:function(t,e){var n=e.emit,r=t;return{__sfc:!0,props:r,emit:n,toggleDropdown:function(){return n("toggleDropdown",r.type)},removeFilter:function(){return n("removeFilter",r.type)},addFilter:function(t){return n("addFilter",t)},closeDropdown:function(){return n("closeDropdown")},FilterButton:x.a,FilterListDropdown:w.a}}},L=Object(s.a)(A,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e(n.FilterButton,{staticClass:"bg-slate-50 dark:bg-slate-800 hover:bg-slate-75 dark:hover:bg-slate-800",attrs:{"right-icon":"chevron-down","button-text":t.name},on:{click:n.toggleDropdown},scopedSlots:t._u([t.showMenu&&t.activeFilterType===t.type?{key:"dropdown",fn:function(){return[t.options?e(n.FilterListDropdown,{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:n.closeDropdown,expression:"closeDropdown"}],staticClass:"flex flex-col w-[240px] overflow-y-auto left-0 md:left-auto md:right-0 top-10",attrs:{"show-clear-filter":"","list-items":t.options,"active-filter-id":t.id,"input-placeholder":t.placeholder,"enable-search":t.enableSearch},on:{click:n.addFilter,removeFilter:n.removeFilter}}):t._e()]},proxy:!0}:null],null,!0)})}),[],!1,null,null,null).exports,P=n(2740),E=n(2741),T=n(6),R={__name:"AddFilterChip",props:{name:{type:String,required:!0},menuOption:{type:Array,default:function(){return[]}},showMenu:{type:Boolean,default:!1},placeholderI18nKey:{type:String,default:""},enableSearch:{type:Boolean,default:!0},emptyStateMessage:{type:String,default:""}},emits:["toggleDropdown","addFilter","closeDropdown"],setup:function(t,e){var n=e.emit,r=Object(T.ref)(null),a=function(){r.value=null};return{__sfc:!0,hoveredItemId:r,showSubMenu:function(t){r.value=t},hideSubMenu:a,isHovered:function(t){return r.value===t},emit:n,toggleDropdown:function(){return n("toggleDropdown")},addFilter:function(t){n("addFilter",t),a()},closeDropdown:function(){a(),n("closeDropdown")},FilterButton:x.a,FilterListDropdown:w.a,FilterListItemButton:P.a,FilterDropdownEmptyState:E.a}}},C=Object(s.a)(R,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e(n.FilterButton,{attrs:{"button-text":t.name,"left-icon":"filter"},on:{click:n.toggleDropdown},scopedSlots:t._u([t.showMenu?{key:"dropdown",fn:function(){return[e(n.FilterListDropdown,{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:n.closeDropdown,expression:"closeDropdown"}],staticClass:"left-0 md:right-0 top-10",scopedSlots:t._u([{key:"listItem",fn:function(){return[t.menuOption.length?t._e():e(n.FilterDropdownEmptyState,{attrs:{message:t.emptyStateMessage}}),t._v(" "),t._l(t.menuOption,(function(r){return e(n.FilterListItemButton,{key:r.id,attrs:{"button-text":r.name},on:{mouseenter:function(t){return n.showSubMenu(r.id)},mouseleave:n.hideSubMenu,focus:function(t){return n.showSubMenu(r.id)}},scopedSlots:t._u([r.options&&n.isHovered(r.id)?{key:"dropdown",fn:function(){return[e(n.FilterListDropdown,{staticClass:"flex flex-col w-[216px] overflow-y-auto top-0 left-36",attrs:{"list-items":r.options,"input-placeholder":t.$t(`${t.placeholderI18nKey}.${r.type.toUpperCase()}`),"enable-search":t.enableSearch},on:{click:n.addFilter}})]},proxy:!0}:null],null,!0)})}))]},proxy:!0}],null,!1,3178076049)})]},proxy:!0}:null],null,!0)})}),[],!1,null,null,null).exports;function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){F(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function F(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var N={components:{FilterButton:x.a,ActiveFilterChip:L,AddFilterChip:C},data:function(){return{showDropdownMenu:!1,showSubDropdownMenu:!1,activeFilterType:"",appliedFilters:{assigned_agent_id:null,inbox_id:null,team_id:null,sla_policy_id:null,label_list:null}}},computed:k(k({},Object(r.mapGetters)({agents:"agents/getAgents",inboxes:"inboxes/getInboxes",teams:"teams/getTeams",labels:"labels/getLabels",sla:"sla/getSLA"})),{},{filterListMenuItems:function(){var t=this,e=[{id:"1",name:this.$t("SLA_REPORTS.DROPDOWN.SLA"),type:"sla"},{id:"2",name:this.$t("SLA_REPORTS.DROPDOWN.INBOXES"),type:"inboxes"},{id:"3",name:this.$t("SLA_REPORTS.DROPDOWN.AGENTS"),type:"agents"},{id:"4",name:this.$t("SLA_REPORTS.DROPDOWN.TEAMS"),type:"teams"},{id:"5",name:this.$t("SLA_REPORTS.DROPDOWN.LABELS"),type:"labels"}],n=Object.keys(this.appliedFilters).filter((function(e){return t.appliedFilters[e]})).map((function(t){return O(t,"keyToType")}));return e.filter((function(t){var e=t.type;return!n.includes(e)})).map((function(e){var n=e.id,r=e.name,a=e.type;return{id:n,name:r,type:a,options:S(t[a],a)}}))},activeFilters:function(){var t=this;return Object.keys(this.appliedFilters).filter((function(e){return t.appliedFilters[e]})).map((function(e){var n=O(e,"keyToType"),r=function(t,e,n){return t.find((function(t){return"labels"===e?t.title===n:t.id.toString()===n.toString()}))}(t[n],n,t.appliedFilters[e]);return{id:r.id,name:"labels"===n?r.title:r.name,type:n,options:S(t[n],n)}}))},hasActiveFilters:function(){return Object.values(this.appliedFilters).some((function(t){return null!==t}))},isAllFilterSelected:function(){return!this.filterListMenuItems.length}}),methods:{addFilter:function(t){var e=t.type,n=t.id,r=t.name,a=O(e,"typeToKey");this.appliedFilters[a]="labels"===e?r:n,this.$emit("filter-change",this.appliedFilters),this.resetDropdown()},removeFilter:function(t){var e=O(t,"typeToKey");this.appliedFilters[e]=null,this.$emit("filter-change",this.appliedFilters)},clearAllFilters:function(){this.appliedFilters={assigned_agent_id:null,inbox_id:null,team_id:null,sla_policy_id:null,label_list:null},this.$emit("filter-change",this.appliedFilters),this.resetDropdown()},showDropdown:function(){this.showSubDropdownMenu=!1,this.showDropdownMenu=!this.showDropdownMenu},closeDropdown:function(){this.showDropdownMenu=!1},openActiveFilterDropdown:function(t){this.closeDropdown(),this.activeFilterType=t,this.showSubDropdownMenu=!this.showSubDropdownMenu},closeActiveFilterDropdown:function(){this.activeFilterType="",this.showSubDropdownMenu=!1},resetDropdown:function(){this.closeDropdown(),this.closeActiveFilterDropdown()}}},j=Object(s.a)(N,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-col flex-wrap items-start gap-2 md:items-center md:flex-nowrap md:flex-row"},[t.hasActiveFilters?e("div",{staticClass:"flex flex-wrap gap-2 md:flex-nowrap"},t._l(t.activeFilters,(function(n){return e("active-filter-chip",t._b({key:n.type,attrs:{placeholder:t.$t(`SLA_REPORTS.DROPDOWN.INPUT_PLACEHOLDER.${n.type.toUpperCase()}`),"active-filter-type":t.activeFilterType,"show-menu":t.showSubDropdownMenu,"enable-search":""},on:{toggleDropdown:t.openActiveFilterDropdown,closeDropdown:t.closeActiveFilterDropdown,addFilter:t.addFilter,removeFilter:t.removeFilter}},"active-filter-chip",n,!1))})),1):t._e(),t._v(" "),t.hasActiveFilters&&!t.isAllFilterSelected?e("div",{staticClass:"w-full h-px border md:w-px md:h-5 border-slate-75 dark:border-slate-800"}):t._e(),t._v(" "),e("div",{staticClass:"flex items-center gap-2"},[t.isAllFilterSelected?t._e():e("add-filter-chip",{attrs:{"placeholder-i18n-key":"SLA_REPORTS.DROPDOWN.INPUT_PLACEHOLDER",name:t.$t("SLA_REPORTS.DROPDOWN.ADD_FIlTER"),"menu-option":t.filterListMenuItems,"show-menu":t.showDropdownMenu,"empty-state-message":t.$t("SLA_REPORTS.DROPDOWN.NO_FILTER")},on:{toggleDropdown:t.showDropdown,closeDropdown:t.closeDropdown,addFilter:t.addFilter}}),t._v(" "),t.hasActiveFilters?e("div",{staticClass:"w-px h-5 border border-slate-75 dark:border-slate-800"}):t._e(),t._v(" "),t.hasActiveFilters?e("filter-button",{attrs:{"button-text":t.$t("SLA_REPORTS.DROPDOWN.CLEAR_ALL")},on:{click:t.clearAllFilters}}):t._e()],1)])}),[],!1,null,null,null).exports,I=n(1779),M=n(2647),$=n(290);function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach((function(e){G(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function G(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var H={components:{SLAFilter:j},data:function(){return{selectedDateRange:M.a.LAST_7_DAYS,selectedGroupByFilter:null,customDateRange:[new Date,new Date]}},computed:{to:function(){return Object($.e)(this.customDateRange[1])},from:function(){return Object($.f)(this.customDateRange[0])}},watch:{businessHoursSelected:function(){this.emitChange()}},mounted:function(){this.setInitialRange()},methods:{setInitialRange:function(){var t=this.selectedDateRange.offset,e=Object(I.a)(new Date,t),n=Object($.f)(e),r=Object($.e)(new Date);this.$emit("filter-change",z({from:n,to:r},this.selectedGroupByFilter))},emitChange:function(){var t=this.from,e=this.to;this.$emit("filter-change",z({from:t,to:e},this.selectedGroupByFilter))},emitFilterChange:function(t){this.selectedGroupByFilter=t,this.emitChange()},onDateRangeChange:function(t){this.customDateRange=t,this.emitChange()}}},W=Object(s.a)(H,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-col flex-wrap w-full gap-3 md:flex-row"},[e("woot-date-picker",{on:{dateRangeChanged:t.onDateRangeChange}}),t._v(" "),e("SLA-filter",{on:{"filter-change":t.emitFilterChange}})],1)}),[],!1,null,null,null).exports,Y=n(265);function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach((function(e){U(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function U(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var q={name:"SLAReports",components:{SLAMetrics:l,SLATable:_,SLAReportFilters:W},mixins:[y.a],data:function(){return{pageNumber:1,activeFilter:{from:0,to:0,assigned_agent_id:null,inbox_id:null,team_id:null,sla_policy_id:null,label_list:null}}},computed:K({},Object(r.mapGetters)({slaReports:"slaReports/getAll",slaMetrics:"slaReports/getMetrics",slaMeta:"slaReports/getMeta",uiFlags:"slaReports/getUIFlags"})),mounted:function(){this.$store.dispatch("agents/get"),this.$store.dispatch("inboxes/get"),this.$store.dispatch("teams/get"),this.$store.dispatch("labels/get"),this.$store.dispatch("sla/get"),this.fetchSLAMetrics(),this.fetchSLAReports()},methods:{fetchSLAReports:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.pageNumber;this.$store.dispatch("slaReports/get",K({page:e||this.pageNumber},this.activeFilter))},fetchSLAMetrics:function(){this.$store.dispatch("slaReports/getMetrics",this.activeFilter)},onPageChange:function(t){this.fetchSLAReports({pageNumber:t})},onFilterChange:function(t){this.activeFilter=t,this.fetchSLAReports(),this.fetchSLAMetrics()},downloadReports:function(){try{this.$store.dispatch("slaReports/download",K({fileName:Object(Y.b)({type:"sla",to:this.activeFilter.to})},this.activeFilter))}catch(t){this.showAlert(this.$t("SLA_REPORTS.DOWNLOAD_FAILED"))}}}},J=q,X=Object(s.a)(J,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-col flex-1 gap-6 px-4 pt-4 overflow-auto"},[e("SLAReportFilters",{on:{"filter-change":t.onFilterChange}}),t._v(" "),e("woot-button",{attrs:{"color-scheme":"success","class-names":"button--fixed-top",icon:"arrow-download"},on:{click:t.downloadReports}},[t._v("\n    "+t._s(t.$t("SLA_REPORTS.DOWNLOAD_SLA_REPORTS"))+"\n  ")]),t._v(" "),e("div",{staticClass:"flex flex-col gap-6"},[e("SLAMetrics",{attrs:{"hit-rate":t.slaMetrics.hitRate,"no-of-breaches":t.slaMetrics.numberOfSLAMisses,"no-of-conversations":t.slaMetrics.numberOfConversations,"is-loading":t.uiFlags.isFetchingMetrics}}),t._v(" "),e("SLATable",{attrs:{"sla-reports":t.slaReports,"is-loading":t.uiFlags.isFetching,"current-page":Number(t.slaMeta.currentPage),"total-count":Number(t.slaMeta.count)},on:{"page-change":t.onPageChange}})],1)],1)}),[],!1,null,null,null);e.default=X.exports}}]);
//# sourceMappingURL=47-946a80cdbc95eca524a9.chunk.js.map