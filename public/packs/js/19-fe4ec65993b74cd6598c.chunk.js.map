{"version":3,"sources":["webpack:///./node_modules/@chatwoot/utils/dist/utils.esm.js","webpack:///./node_modules/vuelidate/lib/validators/common.js","webpack:///./node_modules/vuelidate/lib/validators/index.js","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./node_modules/vuelidate/lib/validators/alpha.js","webpack:///./node_modules/vuelidate/lib/withParams.js","webpack:///./node_modules/vuelidate/lib/withParamsBrowser.js","webpack:///./node_modules/vuelidate/lib/validators/alphaNum.js","webpack:///./node_modules/vuelidate/lib/validators/numeric.js","webpack:///./node_modules/vuelidate/lib/validators/between.js","webpack:///./node_modules/vuelidate/lib/validators/ipAddress.js","webpack:///./node_modules/vuelidate/lib/validators/macAddress.js","webpack:///./node_modules/vuelidate/lib/validators/maxLength.js","webpack:///./node_modules/vuelidate/lib/validators/minLength.js","webpack:///./node_modules/vuelidate/lib/validators/required.js","webpack:///./node_modules/vuelidate/lib/validators/requiredIf.js","webpack:///./node_modules/vuelidate/lib/validators/requiredUnless.js","webpack:///./node_modules/vuelidate/lib/validators/sameAs.js","webpack:///./node_modules/vuelidate/lib/validators/url.js","webpack:///./node_modules/vuelidate/lib/validators/or.js","webpack:///./node_modules/vuelidate/lib/validators/and.js","webpack:///./node_modules/vuelidate/lib/validators/not.js","webpack:///./node_modules/vuelidate/lib/validators/minValue.js","webpack:///./node_modules/vuelidate/lib/validators/maxValue.js","webpack:///./node_modules/vuelidate/lib/validators/integer.js","webpack:///./node_modules/vuelidate/lib/validators/decimal.js","webpack:///./node_modules/core-js/internals/this-number-value.js","webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./node_modules/date-fns/esm/isSameYear/index.js","webpack:///./node_modules/date-fns/esm/compareAsc/index.js","webpack:///./node_modules/date-fns/esm/differenceInCalendarMonths/index.js","webpack:///./node_modules/date-fns/esm/endOfMonth/index.js","webpack:///./node_modules/date-fns/esm/isLastDayOfMonth/index.js","webpack:///./node_modules/date-fns/esm/differenceInMonths/index.js","webpack:///./node_modules/date-fns/esm/differenceInSeconds/index.js","webpack:///./node_modules/date-fns/esm/_lib/cloneObject/index.js","webpack:///./node_modules/date-fns/esm/formatDistance/index.js","webpack:///./node_modules/date-fns/esm/formatDistanceToNow/index.js","webpack:///./node_modules/date-fns/esm/differenceInMilliseconds/index.js","webpack:///./node_modules/vue-clickaway/dist/vue-clickaway.common.js","webpack:///./node_modules/activestorage/app/assets/javascripts/activestorage.js","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./node_modules/vuelidate/lib/validators/email.js","webpack:///./node_modules/core-js/modules/es.number.to-fixed.js","webpack:///./node_modules/vue-upload-component/dist/vue-upload-component.js"],"names":["debounce","func","wait","immediate","timeout","context","args","arguments","later","apply","callNow","clearTimeout","window","setTimeout","getContrastingTextColor","bgColor","color","replace","parseInt","slice","formatTime","timeInSeconds","formattedTime","minutes","Math","floor","seconds","hours","_minutes","days","_hours","trimContent","content","maxLength","ellipsis","trimmedContent","length","substring","parseBoolean","candidate","candidateString","String","toLowerCase","Boolean","JSON","parse","error","sortAsc","arr","sort","a","b","_quantileForSorted","sorted","q","min","max","value","clamped","pos","base","rest","undefined","getQuantileIntervals","data","intervals","map","interval","MESSAGE_VARIABLES_REGEX","capitalizeName","name","s","toUpperCase","getFirstName","_ref","user","firstName","split","shift","getLastName","_ref2","lastName","pop","getMessageVariables","_ref3","_assignee$email","conversation","_conversation$meta","meta","assignee","sender","id","email","phone_number","replaceVariablesInMessage","_ref4","message","variables","_","trim","getUndefinedVariablesInMessage","_ref5","matches","match","filter","variable","Object","defineProperty","exports","req","regex","ref","len","enumerable","get","_withParams","default","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","Array","isArray","Date","isNaN","getTime","keys","reference","vm","parentVm","call","type","expr","test","_alpha","_alphaNum","_and","_between","_decimal","_email","helpers","_integer","_ipAddress","_macAddress","_maxLength","_maxValue","_minLength","_minValue","_not","_numeric","_or","_required","_requiredIf","_requiredUnless","_sameAs","_url","_interopRequireDefault","nodeInterop","cache","_getRequireWildcardCache","has","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","hasOwnProperty","desc","set","_interopRequireWildcard","WeakMap","cacheBabelInterop","cacheNodeInterop","fails","whitespaces","module","METHOD_NAME","_default","process","env","BUILD","withParams","root","global","vuelidate","paramsOrClosure","maybeValidator","_common","nibbles","every","nibbleValid","nibble","numeric","separator","parts","hexValid","hex","prop","this","equalTo","eq","_len","validators","_key","_this","_len2","_key2","reduce","valid","fn","validator","classof","TypeError","toInteger","requireObjectCoercible","count","str","result","n","Infinity","RangeError","isSameYear","dirtyDateLeft","dirtyDateRight","dateLeft","dateRight","getFullYear","compareAsc","requiredArgs","toDate","diff","differenceInCalendarMonths","yearDiff","monthDiff","getMonth","endOfMonth","dirtyDate","date","month","setFullYear","setHours","isLastDayOfMonth","endOfDay","differenceInMonths","sign","difference","abs","getDate","setDate","setMonth","isLastMonthNotFull","differenceInSeconds","differenceInMilliseconds","ceil","cloneObject","dirtyObject","MINUTES_IN_DAY","MINUTES_IN_MONTH","formatDistance","dirtyBaseDate","dirtyOptions","options","locale","comparison","localizeOptions","addSuffix","months","offsetInSeconds","getTimezoneOffsetInMilliseconds","round","includeSeconds","nearestMonth","monthsSinceStartOfYear","years","formatDistanceToNow","now","Vue","version","util","warn","HANDLER","bind","el","binding","unbind","callback","initialMacrotaskEnded","ev","contains","target","document","documentElement","addEventListener","removeEventListener","directive","update","oldValue","mixin","directives","onClickaway","factory","sparkMd5","createCommonjsModule","hex_chr","md5cycle","x","k","c","d","md5blk","i","md5blks","charCodeAt","md5blk_array","md51","tail","tmp","lo","hi","state","toString","md51_array","subarray","Uint8Array","rhex","j","join","toUtf8","unescape","encodeURIComponent","utf8Str2ArrayBuffer","returnUInt8Array","buff","ArrayBuffer","arrayBuffer2Utf8Str","fromCharCode","concatenateArrayBuffers","first","second","byteLength","buffer","hexToBinaryString","bytes","push","substr","SparkMD5","reset","clamp","val","from","to","num","targetArray","sourceArray","begin","end","append","appendBinary","contents","_buff","_length","_hash","raw","ret","_finish","getState","hash","setState","destroy","hashBinary","classCallCheck","instance","Constructor","createClass","defineProperties","props","descriptor","configurable","writable","protoProps","staticProps","fileSlice","File","mozSlice","webkitSlice","FileChecksum","file","chunkSize","chunkCount","size","chunkIndex","create","md5Buffer","fileReader","FileReader","event","fileReaderDidLoad","fileReaderDidError","readNextChunk","binaryDigest","base64digest","btoa","start","readAsArrayBuffer","findElement","selector","querySelector","dispatchEvent","element","eventInit","disabled","bubbles","cancelable","detail","createEvent","initEvent","toArray$1","BlobRecord","checksum","url","attributes","filename","content_type","byte_size","xhr","XMLHttpRequest","open","responseType","setRequestHeader","head","getAttribute","getMetaValue","requestDidLoad","requestDidError","send","stringify","blob","status","response","direct_upload","directUploadData","toJSON","_xhr","BlobUpload","_blob$directUploadDat","headers","DirectUpload","delegate","notify","upload","object","methodName","messages","DirectUploadController","input","directUpload","dispatch","hiddenInput","createElement","insertAdjacentElement","parentNode","removeChild","dispatchError","signed_id","progress","loaded","total","defaultPrevented","alert","_this2","uploadRequestDidProgress","DirectUploadsController","form","inputs","querySelectorAll","files","controllers","createDirectUploadControllers","startNextController","controller","forEach","processingAttribute","submitButtonsByForm","started","didClick","didSubmitForm","didSubmitRemoteElement","tagName","handleFormSubmissionEvent","hasAttribute","preventDefault","setAttribute","disable","removeAttribute","enable","button","focus","click","style","display","appendChild","delete","submitForm","ActiveStorage","$","$trim","proto","forced","forcedStringTrimMethod","thisNumberValue","repeat","nativeToFixed","toFixed","pow","acc","multiply","index","c2","divide","dataToString","t","fractionDigits","e","z","number","fractDigits","x2","log","_typeof2","createRequest","method","request","body","Promise","resolve","reject","onload","err","onerror","sendRequest","_createClass","ChunkUploadHandler","_classCallCheck","chunks","sessionId","speedInterval","fileSize","startOffset","active","retries","maxRetries","stopChunks","chunksUploading","chunk","abort","stopSpeedCalc","startChunking","promise","assign","action","startBody","phase","mime_type","fileType","fileName","then","res","session_id","end_offset","createChunks","catch","maxActiveChunks","uploadNextChunk","startSpeedCalc","hasChunksToUpload","uploadChunk","chunksToUpload","finish","_this3","updateFileProgress","evt","lengthComputable","FormData","sendFormRequest","uploadBody","start_offset","uploaded","_this4","finishBody","_this5","speed","lastUploadedBytes","setInterval","uploadedBytes","clearInterval","maxActive","_this6","completedProgress","chunksUploaded","uploadingProgress","normalizeComponent_1","template","script","scopeId","isFunctionalTemplate","moduleIdentifier","shadowMode","createInjector","createInjectorSSR","createInjectorShadow","hook","render","staticRenderFns","_compiled","functional","_scopeId","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","originalRender","h","existing","beforeCreate","concat","InputFile","_vm","_h","$createElement","_self","_c","attrs","$parent","inputId","accept","capture","directory","features","multiple","html5","on","change","methods","addInputFile","navigator","userAgent","$destroy","$el","_extends","source","_toConsumableArray","arr2","CHUNK_DEFAULT_OPTIONS","minSize","handler","script$1","components","maximum","Number","addIndex","postAction","putAction","customAction","Function","drop","dropDirectory","extensions","thread","chunkEnabled","dropActive","uploading","mounted","webkitdirectory","ondrop","maps","$nextTick","$forceUpdate","watchDrop","beforeDestroy","computed","fileObject","success","chunkOptions","className","watch","_active","watchActive","oldMaps","newFile","oldFile","emitFile","clear","emitInput","_files","addFiles","Blob","webkitRelativePath","relativePath","Element","random","emitFilter","newFiles","_newFiles","splice","_i","_file2","_i2","names","__vuex__","addDataTransfer","dataTransfer","items","item","getAsEntry","getAsFile","webkitGetAsEntry","getEntry","results","_i3","entry","path","isFile","isDirectory","dirReader","createReader","readEntries","entries","id1","id2","file1","file2","index1","indexOf","index2","remove","console","isPrevent","$emit","code","RegExp","search","shouldUseChunkUpload","uploadPut","uploadHtml5","uploadHtml4","HandlerClass","querys","queryString","uploadXhr","_file","speedTime","speedLoaded","onprogress","speedTime2","complete","responseText","contentType","getResponseHeader","onabort","ontimeout","onKeydown","keyCode","iframe","src","doc","contentWindow","contentDocument","innerHTML","getResponseData","submit","_el","dropElement","onDragenter","onDragleave","onDocumentDrop","onDragover","onDrop","dt","types","nodeName","explicitOriginalTarget","fromElement","clientX","clientY","innerWidth","innerHeight","isOldIE","HEAD","getElementsByTagName","styles","FileUpload","class","_t","_v","inject","media","css","group","ids","Set","sources","styleSheet","cssText","textNode","createTextNode","nodes","childNodes","insertBefore","addStyle","freeze"],"mappings":"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","file":"js/19-fe4ec65993b74cd6598c.chunk.js","sourcesContent":["import isToday from 'date-fns/isToday';\nimport isYesterday from 'date-fns/isYesterday'; // Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\n\n/**\r\n * @func Callback function to be called after delay\r\n * @delay Delay for debounce in ms\r\n * @immediate should execute immediately\r\n * @returns debounced callback function\r\n */\n\nvar debounce = function debounce(func, wait, immediate) {\n  var timeout;\n  return function () {\n    var context = null;\n    var args = arguments;\n\n    var later = function later() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = window.setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n};\n/**\r\n * @name Get contrasting text color\r\n * @description Get contrasting text color from a text color\r\n * @param bgColor  Background color of text.\r\n * @returns contrasting text color\r\n */\n\n\nvar getContrastingTextColor = function getContrastingTextColor(bgColor) {\n  var color = bgColor.replace('#', '');\n  var r = parseInt(color.slice(0, 2), 16);\n  var g = parseInt(color.slice(2, 4), 16);\n  var b = parseInt(color.slice(4, 6), 16); // http://stackoverflow.com/a/3943023/112731\n\n  return r * 0.299 + g * 0.587 + b * 0.114 > 186 ? '#000000' : '#FFFFFF';\n};\n/**\r\n * @name Get formatted date\r\n * @description Get date in today, yesterday or any other date format\r\n * @param date  date\r\n * @param todayText  Today text\r\n * @param yesterdayText  Yesterday text\r\n * @returns formatted date\r\n */\n\n\nvar formatDate = function formatDate(_ref) {\n  var date = _ref.date,\n      todayText = _ref.todayText,\n      yesterdayText = _ref.yesterdayText;\n  var dateValue = new Date(date);\n  if (isToday(dateValue)) return todayText;\n  if (isYesterday(dateValue)) return yesterdayText;\n  return date;\n};\n/**\r\n * @name formatTime\r\n * @description Format time to Hour, Minute and Second\r\n * @param timeInSeconds  number\r\n * @returns formatted time\r\n */\n\n\nvar formatTime = function formatTime(timeInSeconds) {\n  var formattedTime = '';\n\n  if (timeInSeconds >= 60 && timeInSeconds < 3600) {\n    var minutes = Math.floor(timeInSeconds / 60);\n    formattedTime = minutes + \" Min\";\n    var seconds = minutes === 60 ? 0 : Math.floor(timeInSeconds % 60);\n    return formattedTime + (\"\" + (seconds > 0 ? ' ' + seconds + ' Sec' : ''));\n  }\n\n  if (timeInSeconds >= 3600 && timeInSeconds < 86400) {\n    var hours = Math.floor(timeInSeconds / 3600);\n    formattedTime = hours + \" Hr\";\n\n    var _minutes = timeInSeconds % 3600 < 60 || hours === 24 ? 0 : Math.floor(timeInSeconds % 3600 / 60);\n\n    return formattedTime + (\"\" + (_minutes > 0 ? ' ' + _minutes + ' Min' : ''));\n  }\n\n  if (timeInSeconds >= 86400) {\n    var days = Math.floor(timeInSeconds / 86400);\n    formattedTime = days + \" Day\";\n\n    var _hours = timeInSeconds % 86400 < 3600 || days >= 364 ? 0 : Math.floor(timeInSeconds % 86400 / 3600);\n\n    return formattedTime + (\"\" + (_hours > 0 ? ' ' + _hours + ' Hr' : ''));\n  }\n\n  return Math.floor(timeInSeconds) + \" Sec\";\n};\n/**\r\n * @name trimContent\r\n * @description Trim a string to max length\r\n * @param content String to trim\r\n * @param maxLength Length of the string to trim, default 1024\r\n * @param ellipsis Boolean to add dots at the end of the string, default false\r\n * @returns trimmed string\r\n */\n\n\nvar trimContent = function trimContent(content, maxLength, ellipsis) {\n  if (content === void 0) {\n    content = '';\n  }\n\n  if (maxLength === void 0) {\n    maxLength = 1024;\n  }\n\n  if (ellipsis === void 0) {\n    ellipsis = false;\n  }\n\n  var trimmedContent = content;\n\n  if (content.length > maxLength) {\n    trimmedContent = content.substring(0, maxLength);\n  }\n\n  if (ellipsis) {\n    trimmedContent = trimmedContent + '...';\n  }\n\n  return trimmedContent;\n};\n/**\r\n * Function that parses a string boolean value and returns the corresponding boolean value\r\n * @param {string | number} candidate - The string boolean value to be parsed\r\n * @return {boolean} - The parsed boolean value\r\n */\n\n\nfunction parseBoolean(candidate) {\n  try {\n    // lowercase the string, so TRUE becomes true\n    var candidateString = String(candidate).toLowerCase(); // wrap in boolean to ensure that the return value\n    // is a boolean even if values like 0 or 1 are passed\n\n    return Boolean(JSON.parse(candidateString));\n  } catch (error) {\n    return false;\n  }\n}\n/**\r\n * Sorts an array of numbers in ascending order.\r\n * @param {number[]} arr - The array of numbers to be sorted.\r\n * @returns {number[]} - The sorted array.\r\n */\n\n\nfunction sortAsc(arr) {\n  // .slice() is used to create a copy of the array so that the original array is not mutated\n  return arr.slice().sort(function (a, b) {\n    return a - b;\n  });\n}\n/**\r\n * Calculates the quantile value of an array at a specified percentile.\r\n * @param {number[]} arr - The array of numbers to calculate the quantile value from.\r\n * @param {number} q - The percentile to calculate the quantile value for.\r\n * @returns {number} - The quantile value.\r\n */\n\n\nfunction quantile(arr, q) {\n  var sorted = sortAsc(arr); // Sort the array in ascending order\n\n  return _quantileForSorted(sorted, q); // Calculate the quantile value\n}\n/**\r\n * Clamps a value between a minimum and maximum range.\r\n * @param {number} min - The minimum range.\r\n * @param {number} max - The maximum range.\r\n * @param {number} value - The value to be clamped.\r\n * @returns {number} - The clamped value.\r\n */\n\n\nfunction clamp(min, max, value) {\n  if (value < min) {\n    return min;\n  }\n\n  if (value > max) {\n    return max;\n  }\n\n  return value;\n}\n/**\r\n * This method assumes the the array provided is already sorted in ascending order.\r\n * It's a helper method for the quantile method and should not be exported as is.\r\n *\r\n * @param {number[]} arr - The array of numbers to calculate the quantile value from.\r\n * @param {number} q - The percentile to calculate the quantile value for.\r\n * @returns {number} - The quantile value.\r\n */\n\n\nfunction _quantileForSorted(sorted, q) {\n  var clamped = clamp(0, 1, q); // Clamp the percentile between 0 and 1\n\n  var pos = (sorted.length - 1) * clamped; // Calculate the index of the element at the specified percentile\n\n  var base = Math.floor(pos); // Find the index of the closest element to the specified percentile\n\n  var rest = pos - base; // Calculate the decimal value between the closest elements\n  // Interpolate the quantile value between the closest elements\n  // Most libraries don't to the interpolation, but I'm just having fun here\n  // also see https://en.wikipedia.org/wiki/Quantile#Estimating_quantiles_from_a_sample\n\n  if (sorted[base + 1] !== undefined) {\n    // in case the position was a integer, the rest will be 0 and the interpolation will be skipped\n    return sorted[base] + rest * (sorted[base + 1] - sorted[base]);\n  } // Return the closest element if there is no interpolation possible\n\n\n  return sorted[base];\n}\n/**\r\n * Calculates the quantile values for an array of intervals.\r\n * @param {number[]} data - The array of numbers to calculate the quantile values from.\r\n * @param {number[]} intervals - The array of intervals to calculate the quantile values for.\r\n * @returns {number[]} - The array of quantile values for the intervals.\r\n */\n\n\nvar getQuantileIntervals = function getQuantileIntervals(data, intervals) {\n  // Sort the array in ascending order before looping through the intervals.\n  // depending on the size of the array and the number of intervals, this can speed up the process by at least twice\n  // for a random array of 100 numbers and 5 intervals, the speedup is 3x\n  var sorted = sortAsc(data);\n  return intervals.map(function (interval) {\n    return _quantileForSorted(sorted, interval);\n  });\n};\n\nvar MESSAGE_VARIABLES_REGEX = /{{(.*?)}}/g;\n\nvar skipCodeBlocks = function skipCodeBlocks(str) {\n  return str.replace(/```(?:.|\\n)+?```/g, '');\n};\n\nvar capitalizeName = function capitalizeName(name) {\n  return (name || '').replace(/\\b(\\w)/g, function (s) {\n    return s.toUpperCase();\n  });\n};\n\nvar getFirstName = function getFirstName(_ref) {\n  var user = _ref.user;\n  var firstName = user != null && user.name ? user.name.split(' ').shift() : '';\n  return capitalizeName(firstName);\n};\n\nvar getLastName = function getLastName(_ref2) {\n  var user = _ref2.user;\n\n  if (user && user.name) {\n    var lastName = user.name.split(' ').length > 1 ? user.name.split(' ').pop() : '';\n    return capitalizeName(lastName);\n  }\n\n  return '';\n};\n\nvar getMessageVariables = function getMessageVariables(_ref3) {\n  var _assignee$email;\n\n  var conversation = _ref3.conversation;\n  var _conversation$meta = conversation.meta,\n      assignee = _conversation$meta.assignee,\n      sender = _conversation$meta.sender,\n      id = conversation.id;\n  return {\n    'contact.name': capitalizeName((sender == null ? void 0 : sender.name) || ''),\n    'contact.first_name': getFirstName({\n      user: sender\n    }),\n    'contact.last_name': getLastName({\n      user: sender\n    }),\n    'contact.email': sender == null ? void 0 : sender.email,\n    'contact.phone': sender == null ? void 0 : sender.phone_number,\n    'contact.id': sender == null ? void 0 : sender.id,\n    'conversation.id': id,\n    'agent.name': capitalizeName((assignee == null ? void 0 : assignee.name) || ''),\n    'agent.first_name': getFirstName({\n      user: assignee\n    }),\n    'agent.last_name': getLastName({\n      user: assignee\n    }),\n    'agent.email': (_assignee$email = assignee == null ? void 0 : assignee.email) != null ? _assignee$email : ''\n  };\n};\n\nvar replaceVariablesInMessage = function replaceVariablesInMessage(_ref4) {\n  var message = _ref4.message,\n      variables = _ref4.variables; // @ts-ignore\n\n  return message.replace(MESSAGE_VARIABLES_REGEX, function (_, replace) {\n    return variables[replace.trim()] ? variables[replace.trim().toLowerCase()] : '';\n  });\n};\n\nvar getUndefinedVariablesInMessage = function getUndefinedVariablesInMessage(_ref5) {\n  var message = _ref5.message,\n      variables = _ref5.variables;\n  var messageWithOutCodeBlocks = skipCodeBlocks(message);\n  var matches = messageWithOutCodeBlocks.match(MESSAGE_VARIABLES_REGEX);\n  if (!matches) return [];\n  return matches.map(function (match) {\n    return match.replace('{{', '').replace('}}', '').trim();\n  }).filter(function (variable) {\n    return !variables[variable];\n  });\n};\n\nexport { clamp, debounce, formatDate, formatTime, getContrastingTextColor, getMessageVariables, getQuantileIntervals, getUndefinedVariablesInMessage, parseBoolean, quantile, replaceVariablesInMessage, sortAsc, trimContent };","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.req = exports.regex = exports.ref = exports.len = void 0;\nObject.defineProperty(exports, \"withParams\", {\n  enumerable: true,\n  get: function get() {\n    return _withParams.default;\n  }\n});\n\nvar _withParams = _interopRequireDefault(require(\"../withParams\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar req = function req(value) {\n  if (Array.isArray(value)) return !!value.length;\n\n  if (value === undefined || value === null) {\n    return false;\n  }\n\n  if (value === false) {\n    return true;\n  }\n\n  if (value instanceof Date) {\n    return !isNaN(value.getTime());\n  }\n\n  if (_typeof(value) === 'object') {\n    for (var _ in value) {\n      return true;\n    }\n\n    return false;\n  }\n\n  return !!String(value).length;\n};\n\nexports.req = req;\n\nvar len = function len(value) {\n  if (Array.isArray(value)) return value.length;\n\n  if (_typeof(value) === 'object') {\n    return Object.keys(value).length;\n  }\n\n  return String(value).length;\n};\n\nexports.len = len;\n\nvar ref = function ref(reference, vm, parentVm) {\n  return typeof reference === 'function' ? reference.call(vm, parentVm) : parentVm[reference];\n};\n\nexports.ref = ref;\n\nvar regex = function regex(type, expr) {\n  return (0, _withParams.default)({\n    type: type\n  }, function (value) {\n    return !req(value) || expr.test(value);\n  });\n};\n\nexports.regex = regex;","\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"alpha\", {\n  enumerable: true,\n  get: function get() {\n    return _alpha.default;\n  }\n});\nObject.defineProperty(exports, \"alphaNum\", {\n  enumerable: true,\n  get: function get() {\n    return _alphaNum.default;\n  }\n});\nObject.defineProperty(exports, \"and\", {\n  enumerable: true,\n  get: function get() {\n    return _and.default;\n  }\n});\nObject.defineProperty(exports, \"between\", {\n  enumerable: true,\n  get: function get() {\n    return _between.default;\n  }\n});\nObject.defineProperty(exports, \"decimal\", {\n  enumerable: true,\n  get: function get() {\n    return _decimal.default;\n  }\n});\nObject.defineProperty(exports, \"email\", {\n  enumerable: true,\n  get: function get() {\n    return _email.default;\n  }\n});\nexports.helpers = void 0;\nObject.defineProperty(exports, \"integer\", {\n  enumerable: true,\n  get: function get() {\n    return _integer.default;\n  }\n});\nObject.defineProperty(exports, \"ipAddress\", {\n  enumerable: true,\n  get: function get() {\n    return _ipAddress.default;\n  }\n});\nObject.defineProperty(exports, \"macAddress\", {\n  enumerable: true,\n  get: function get() {\n    return _macAddress.default;\n  }\n});\nObject.defineProperty(exports, \"maxLength\", {\n  enumerable: true,\n  get: function get() {\n    return _maxLength.default;\n  }\n});\nObject.defineProperty(exports, \"maxValue\", {\n  enumerable: true,\n  get: function get() {\n    return _maxValue.default;\n  }\n});\nObject.defineProperty(exports, \"minLength\", {\n  enumerable: true,\n  get: function get() {\n    return _minLength.default;\n  }\n});\nObject.defineProperty(exports, \"minValue\", {\n  enumerable: true,\n  get: function get() {\n    return _minValue.default;\n  }\n});\nObject.defineProperty(exports, \"not\", {\n  enumerable: true,\n  get: function get() {\n    return _not.default;\n  }\n});\nObject.defineProperty(exports, \"numeric\", {\n  enumerable: true,\n  get: function get() {\n    return _numeric.default;\n  }\n});\nObject.defineProperty(exports, \"or\", {\n  enumerable: true,\n  get: function get() {\n    return _or.default;\n  }\n});\nObject.defineProperty(exports, \"required\", {\n  enumerable: true,\n  get: function get() {\n    return _required.default;\n  }\n});\nObject.defineProperty(exports, \"requiredIf\", {\n  enumerable: true,\n  get: function get() {\n    return _requiredIf.default;\n  }\n});\nObject.defineProperty(exports, \"requiredUnless\", {\n  enumerable: true,\n  get: function get() {\n    return _requiredUnless.default;\n  }\n});\nObject.defineProperty(exports, \"sameAs\", {\n  enumerable: true,\n  get: function get() {\n    return _sameAs.default;\n  }\n});\nObject.defineProperty(exports, \"url\", {\n  enumerable: true,\n  get: function get() {\n    return _url.default;\n  }\n});\n\nvar _alpha = _interopRequireDefault(require(\"./alpha\"));\n\nvar _alphaNum = _interopRequireDefault(require(\"./alphaNum\"));\n\nvar _numeric = _interopRequireDefault(require(\"./numeric\"));\n\nvar _between = _interopRequireDefault(require(\"./between\"));\n\nvar _email = _interopRequireDefault(require(\"./email\"));\n\nvar _ipAddress = _interopRequireDefault(require(\"./ipAddress\"));\n\nvar _macAddress = _interopRequireDefault(require(\"./macAddress\"));\n\nvar _maxLength = _interopRequireDefault(require(\"./maxLength\"));\n\nvar _minLength = _interopRequireDefault(require(\"./minLength\"));\n\nvar _required = _interopRequireDefault(require(\"./required\"));\n\nvar _requiredIf = _interopRequireDefault(require(\"./requiredIf\"));\n\nvar _requiredUnless = _interopRequireDefault(require(\"./requiredUnless\"));\n\nvar _sameAs = _interopRequireDefault(require(\"./sameAs\"));\n\nvar _url = _interopRequireDefault(require(\"./url\"));\n\nvar _or = _interopRequireDefault(require(\"./or\"));\n\nvar _and = _interopRequireDefault(require(\"./and\"));\n\nvar _not = _interopRequireDefault(require(\"./not\"));\n\nvar _minValue = _interopRequireDefault(require(\"./minValue\"));\n\nvar _maxValue = _interopRequireDefault(require(\"./maxValue\"));\n\nvar _integer = _interopRequireDefault(require(\"./integer\"));\n\nvar _decimal = _interopRequireDefault(require(\"./decimal\"));\n\nvar helpers = _interopRequireWildcard(require(\"./common\"));\n\nexports.helpers = helpers;\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _common = require(\"./common\");\n\nvar _default = (0, _common.regex)('alpha', /^[a-zA-Z]*$/);\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar withParams = process.env.BUILD === 'web' ? require('./withParamsBrowser').withParams : require('./params').withParams;\nvar _default = withParams;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.withParams = void 0;\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar root = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : {};\n\nvar fakeWithParams = function fakeWithParams(paramsOrClosure, maybeValidator) {\n  if (_typeof(paramsOrClosure) === 'object' && maybeValidator !== undefined) {\n    return maybeValidator;\n  }\n\n  return paramsOrClosure(function () {});\n};\n\nvar withParams = root.vuelidate ? root.vuelidate.withParams : fakeWithParams;\nexports.withParams = withParams;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _common = require(\"./common\");\n\nvar _default = (0, _common.regex)('alphaNum', /^[a-zA-Z0-9]*$/);\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _common = require(\"./common\");\n\nvar _default = (0, _common.regex)('numeric', /^[0-9]*$/);\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _common = require(\"./common\");\n\nvar _default = function _default(min, max) {\n  return (0, _common.withParams)({\n    type: 'between',\n    min: min,\n    max: max\n  }, function (value) {\n    return !(0, _common.req)(value) || (!/\\s/.test(value) || value instanceof Date) && +min <= +value && +max >= +value;\n  });\n};\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _common = require(\"./common\");\n\nvar _default = (0, _common.withParams)({\n  type: 'ipAddress'\n}, function (value) {\n  if (!(0, _common.req)(value)) {\n    return true;\n  }\n\n  if (typeof value !== 'string') {\n    return false;\n  }\n\n  var nibbles = value.split('.');\n  return nibbles.length === 4 && nibbles.every(nibbleValid);\n});\n\nexports.default = _default;\n\nvar nibbleValid = function nibbleValid(nibble) {\n  if (nibble.length > 3 || nibble.length === 0) {\n    return false;\n  }\n\n  if (nibble[0] === '0' && nibble !== '0') {\n    return false;\n  }\n\n  if (!nibble.match(/^\\d+$/)) {\n    return false;\n  }\n\n  var numeric = +nibble | 0;\n  return numeric >= 0 && numeric <= 255;\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _common = require(\"./common\");\n\nvar _default = function _default() {\n  var separator = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ':';\n  return (0, _common.withParams)({\n    type: 'macAddress'\n  }, function (value) {\n    if (!(0, _common.req)(value)) {\n      return true;\n    }\n\n    if (typeof value !== 'string') {\n      return false;\n    }\n\n    var parts = typeof separator === 'string' && separator !== '' ? value.split(separator) : value.length === 12 || value.length === 16 ? value.match(/.{2}/g) : null;\n    return parts !== null && (parts.length === 6 || parts.length === 8) && parts.every(hexValid);\n  });\n};\n\nexports.default = _default;\n\nvar hexValid = function hexValid(hex) {\n  return hex.toLowerCase().match(/^[0-9a-f]{2}$/);\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _common = require(\"./common\");\n\nvar _default = function _default(length) {\n  return (0, _common.withParams)({\n    type: 'maxLength',\n    max: length\n  }, function (value) {\n    return !(0, _common.req)(value) || (0, _common.len)(value) <= length;\n  });\n};\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _common = require(\"./common\");\n\nvar _default = function _default(length) {\n  return (0, _common.withParams)({\n    type: 'minLength',\n    min: length\n  }, function (value) {\n    return !(0, _common.req)(value) || (0, _common.len)(value) >= length;\n  });\n};\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _common = require(\"./common\");\n\nvar _default = (0, _common.withParams)({\n  type: 'required'\n}, function (value) {\n  if (typeof value === 'string') {\n    return (0, _common.req)(value.trim());\n  }\n\n  return (0, _common.req)(value);\n});\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _common = require(\"./common\");\n\nvar _default = function _default(prop) {\n  return (0, _common.withParams)({\n    type: 'requiredIf',\n    prop: prop\n  }, function (value, parentVm) {\n    return (0, _common.ref)(prop, this, parentVm) ? (0, _common.req)(value) : true;\n  });\n};\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _common = require(\"./common\");\n\nvar _default = function _default(prop) {\n  return (0, _common.withParams)({\n    type: 'requiredUnless',\n    prop: prop\n  }, function (value, parentVm) {\n    return !(0, _common.ref)(prop, this, parentVm) ? (0, _common.req)(value) : true;\n  });\n};\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _common = require(\"./common\");\n\nvar _default = function _default(equalTo) {\n  return (0, _common.withParams)({\n    type: 'sameAs',\n    eq: equalTo\n  }, function (value, parentVm) {\n    return value === (0, _common.ref)(equalTo, this, parentVm);\n  });\n};\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _common = require(\"./common\");\n\nvar urlRegex = /^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$/i;\n\nvar _default = (0, _common.regex)('url', urlRegex);\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _common = require(\"./common\");\n\nvar _default = function _default() {\n  for (var _len = arguments.length, validators = new Array(_len), _key = 0; _key < _len; _key++) {\n    validators[_key] = arguments[_key];\n  }\n\n  return (0, _common.withParams)({\n    type: 'or'\n  }, function () {\n    var _this = this;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return validators.length > 0 && validators.reduce(function (valid, fn) {\n      return valid || fn.apply(_this, args);\n    }, false);\n  });\n};\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _common = require(\"./common\");\n\nvar _default = function _default() {\n  for (var _len = arguments.length, validators = new Array(_len), _key = 0; _key < _len; _key++) {\n    validators[_key] = arguments[_key];\n  }\n\n  return (0, _common.withParams)({\n    type: 'and'\n  }, function () {\n    var _this = this;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return validators.length > 0 && validators.reduce(function (valid, fn) {\n      return valid && fn.apply(_this, args);\n    }, true);\n  });\n};\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _common = require(\"./common\");\n\nvar _default = function _default(validator) {\n  return (0, _common.withParams)({\n    type: 'not'\n  }, function (value, vm) {\n    return !(0, _common.req)(value) || !validator.call(this, value, vm);\n  });\n};\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _common = require(\"./common\");\n\nvar _default = function _default(min) {\n  return (0, _common.withParams)({\n    type: 'minValue',\n    min: min\n  }, function (value) {\n    return !(0, _common.req)(value) || (!/\\s/.test(value) || value instanceof Date) && +value >= +min;\n  });\n};\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _common = require(\"./common\");\n\nvar _default = function _default(max) {\n  return (0, _common.withParams)({\n    type: 'maxValue',\n    max: max\n  }, function (value) {\n    return !(0, _common.req)(value) || (!/\\s/.test(value) || value instanceof Date) && +value <= +max;\n  });\n};\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _common = require(\"./common\");\n\nvar _default = (0, _common.regex)('integer', /(^[0-9]*$)|(^-[0-9]+$)/);\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _common = require(\"./common\");\n\nvar _default = (0, _common.regex)('decimal', /^[-]?\\d*(\\.\\d+)?$/);\n\nexports.default = _default;","var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.es/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\nmodule.exports = function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isSameYear\n * @category Year Helpers\n * @summary Are the given dates in the same year?\n *\n * @description\n * Are the given dates in the same year?\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the first date to check\n * @param {Date|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same year\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Are 2 September 2014 and 25 September 2014 in the same year?\n * var result = isSameYear(new Date(2014, 8, 2), new Date(2014, 8, 25))\n * //=> true\n */\n\nexport default function isSameYear(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  return dateLeft.getFullYear() === dateRight.getFullYear();\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name compareAsc\n * @category Common Helpers\n * @summary Compare the two dates and return -1, 0 or 1.\n *\n * @description\n * Compare the two dates and return 1 if the first date is after the second,\n * -1 if the first date is before the second or 0 if dates are equal.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the first date to compare\n * @param {Date|Number} dateRight - the second date to compare\n * @returns {Number} the result of the comparison\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Compare 11 February 1987 and 10 July 1989:\n * const result = compareAsc(new Date(1987, 1, 11), new Date(1989, 6, 10))\n * //=> -1\n *\n * @example\n * // Sort the array of dates:\n * const result = [\n *   new Date(1995, 6, 2),\n *   new Date(1987, 1, 11),\n *   new Date(1989, 6, 10)\n * ].sort(compareAsc)\n * //=> [\n * //   Wed Feb 11 1987 00:00:00,\n * //   Mon Jul 10 1989 00:00:00,\n * //   Sun Jul 02 1995 00:00:00\n * // ]\n */\n\nexport default function compareAsc(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var diff = dateLeft.getTime() - dateRight.getTime();\n\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1; // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name differenceInCalendarMonths\n * @category Month Helpers\n * @summary Get the number of calendar months between the given dates.\n *\n * @description\n * Get the number of calendar months between the given dates.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar months\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many calendar months are between 31 January 2014 and 1 September 2014?\n * var result = differenceInCalendarMonths(\n *   new Date(2014, 8, 1),\n *   new Date(2014, 0, 31)\n * )\n * //=> 8\n */\n\nexport default function differenceInCalendarMonths(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var yearDiff = dateLeft.getFullYear() - dateRight.getFullYear();\n  var monthDiff = dateLeft.getMonth() - dateRight.getMonth();\n  return yearDiff * 12 + monthDiff;\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name endOfMonth\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the end of a month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * const result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\n\nexport default function endOfMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var month = date.getMonth();\n  date.setFullYear(date.getFullYear(), month + 1, 0);\n  date.setHours(23, 59, 59, 999);\n  return date;\n}","import toDate from \"../toDate/index.js\";\nimport endOfDay from \"../endOfDay/index.js\";\nimport endOfMonth from \"../endOfMonth/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isLastDayOfMonth\n * @category Month Helpers\n * @summary Is the given date the last day of a month?\n *\n * @description\n * Is the given date the last day of a month?\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to check\n * @returns {Boolean} the date is the last day of a month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Is 28 February 2014 the last day of a month?\n * var result = isLastDayOfMonth(new Date(2014, 1, 28))\n * //=> true\n */\n\nexport default function isLastDayOfMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  return endOfDay(date).getTime() === endOfMonth(date).getTime();\n}","import toDate from \"../toDate/index.js\";\nimport differenceInCalendarMonths from \"../differenceInCalendarMonths/index.js\";\nimport compareAsc from \"../compareAsc/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport isLastDayOfMonth from \"../isLastDayOfMonth/index.js\";\n/**\n * @name differenceInMonths\n * @category Month Helpers\n * @summary Get the number of full months between the given dates.\n *\n * @description\n * Get the number of full months between the given dates.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of full months\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many full months are between 31 January 2014 and 1 September 2014?\n * var result = differenceInMonths(new Date(2014, 8, 1), new Date(2014, 0, 31))\n * //=> 7\n */\n\nexport default function differenceInMonths(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var sign = compareAsc(dateLeft, dateRight);\n  var difference = Math.abs(differenceInCalendarMonths(dateLeft, dateRight));\n  var result; // Check for the difference of less than month\n\n  if (difference < 1) {\n    result = 0;\n  } else {\n    if (dateLeft.getMonth() === 1 && dateLeft.getDate() > 27) {\n      // This will check if the date is end of Feb and assign a higher end of month date\n      // to compare it with Jan\n      dateLeft.setDate(30);\n    }\n\n    dateLeft.setMonth(dateLeft.getMonth() - sign * difference); // Math.abs(diff in full months - diff in calendar months) === 1 if last calendar month is not full\n    // If so, result must be decreased by 1 in absolute value\n\n    var isLastMonthNotFull = compareAsc(dateLeft, dateRight) === -sign; // Check for cases of one full calendar month\n\n    if (isLastDayOfMonth(toDate(dirtyDateLeft)) && difference === 1 && compareAsc(dirtyDateLeft, dateRight) === 1) {\n      isLastMonthNotFull = false;\n    }\n\n    result = sign * (difference - isLastMonthNotFull);\n  } // Prevent negative zero\n\n\n  return result === 0 ? 0 : result;\n}","import differenceInMilliseconds from \"../differenceInMilliseconds/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name differenceInSeconds\n * @category Second Helpers\n * @summary Get the number of seconds between the given dates.\n *\n * @description\n * Get the number of seconds between the given dates.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of seconds\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many seconds are between\n * // 2 July 2014 12:30:07.999 and 2 July 2014 12:30:20.000?\n * var result = differenceInSeconds(\n *   new Date(2014, 6, 2, 12, 30, 20, 0),\n *   new Date(2014, 6, 2, 12, 30, 7, 999)\n * )\n * //=> 12\n */\n\nexport default function differenceInSeconds(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var diff = differenceInMilliseconds(dirtyDateLeft, dirtyDateRight) / 1000;\n  return diff > 0 ? Math.floor(diff) : Math.ceil(diff);\n}","import assign from \"../assign/index.js\";\nexport default function cloneObject(dirtyObject) {\n  return assign({}, dirtyObject);\n}","import compareAsc from \"../compareAsc/index.js\";\nimport differenceInMonths from \"../differenceInMonths/index.js\";\nimport differenceInSeconds from \"../differenceInSeconds/index.js\";\nimport defaultLocale from \"../locale/en-US/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport cloneObject from \"../_lib/cloneObject/index.js\";\nimport getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MINUTES_IN_DAY = 1440;\nvar MINUTES_IN_ALMOST_TWO_DAYS = 2520;\nvar MINUTES_IN_MONTH = 43200;\nvar MINUTES_IN_TWO_MONTHS = 86400;\n/**\n * @name formatDistance\n * @category Common Helpers\n * @summary Return the distance between the given dates in words.\n *\n * @description\n * Return the distance between the given dates in words.\n *\n * | Distance between dates                                            | Result              |\n * |-------------------------------------------------------------------|---------------------|\n * | 0 ... 30 secs                                                     | less than a minute  |\n * | 30 secs ... 1 min 30 secs                                         | 1 minute            |\n * | 1 min 30 secs ... 44 mins 30 secs                                 | [2..44] minutes     |\n * | 44 mins ... 30 secs ... 89 mins 30 secs                           | about 1 hour        |\n * | 89 mins 30 secs ... 23 hrs 59 mins 30 secs                        | about [2..24] hours |\n * | 23 hrs 59 mins 30 secs ... 41 hrs 59 mins 30 secs                 | 1 day               |\n * | 41 hrs 59 mins 30 secs ... 29 days 23 hrs 59 mins 30 secs         | [2..30] days        |\n * | 29 days 23 hrs 59 mins 30 secs ... 44 days 23 hrs 59 mins 30 secs | about 1 month       |\n * | 44 days 23 hrs 59 mins 30 secs ... 59 days 23 hrs 59 mins 30 secs | about 2 months      |\n * | 59 days 23 hrs 59 mins 30 secs ... 1 yr                           | [2..12] months      |\n * | 1 yr ... 1 yr 3 months                                            | about 1 year        |\n * | 1 yr 3 months ... 1 yr 9 month s                                  | over 1 year         |\n * | 1 yr 9 months ... 2 yrs                                           | almost 2 years      |\n * | N yrs ... N yrs 3 months                                          | about N years       |\n * | N yrs 3 months ... N yrs 9 months                                 | over N years        |\n * | N yrs 9 months ... N+1 yrs                                        | almost N+1 years    |\n *\n * With `options.includeSeconds == true`:\n * | Distance between dates | Result               |\n * |------------------------|----------------------|\n * | 0 secs ... 5 secs      | less than 5 seconds  |\n * | 5 secs ... 10 secs     | less than 10 seconds |\n * | 10 secs ... 20 secs    | less than 20 seconds |\n * | 20 secs ... 40 secs    | half a minute        |\n * | 40 secs ... 60 secs    | less than a minute   |\n * | 60 secs ... 90 secs    | 1 minute             |\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The function was renamed from `distanceInWords ` to `formatDistance`\n *   to make its name consistent with `format` and `formatRelative`.\n *\n * - The order of arguments is swapped to make the function\n *   consistent with `differenceIn...` functions.\n *\n *   ```javascript\n *   // Before v2.0.0\n *\n *   distanceInWords(\n *     new Date(1986, 3, 4, 10, 32, 0),\n *     new Date(1986, 3, 4, 11, 32, 0),\n *     { addSuffix: true }\n *   ) //=> 'in about 1 hour'\n *\n *   // v2.0.0 onward\n *\n *   formatDistance(\n *     new Date(1986, 3, 4, 11, 32, 0),\n *     new Date(1986, 3, 4, 10, 32, 0),\n *     { addSuffix: true }\n *   ) //=> 'in about 1 hour'\n *   ```\n *\n * @param {Date|Number} date - the date\n * @param {Date|Number} baseDate - the date to compare with\n * @param {Object} [options] - an object with options.\n * @param {Boolean} [options.includeSeconds=false] - distances less than a minute are more detailed\n * @param {Boolean} [options.addSuffix=false] - result indicates if the second date is earlier or later than the first\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @returns {String} the distance in words\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `baseDate` must not be Invalid Date\n * @throws {RangeError} `options.locale` must contain `formatDistance` property\n *\n * @example\n * // What is the distance between 2 July 2014 and 1 January 2015?\n * var result = formatDistance(new Date(2014, 6, 2), new Date(2015, 0, 1))\n * //=> '6 months'\n *\n * @example\n * // What is the distance between 1 January 2015 00:00:15\n * // and 1 January 2015 00:00:00, including seconds?\n * var result = formatDistance(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   new Date(2015, 0, 1, 0, 0, 0),\n *   { includeSeconds: true }\n * )\n * //=> 'less than 20 seconds'\n *\n * @example\n * // What is the distance from 1 January 2016\n * // to 1 January 2015, with a suffix?\n * var result = formatDistance(new Date(2015, 0, 1), new Date(2016, 0, 1), {\n *   addSuffix: true\n * })\n * //=> 'about 1 year ago'\n *\n * @example\n * // What is the distance between 1 August 2016 and 1 January 2015 in Esperanto?\n * import { eoLocale } from 'date-fns/locale/eo'\n * var result = formatDistance(new Date(2016, 7, 1), new Date(2015, 0, 1), {\n *   locale: eoLocale\n * })\n * //=> 'pli ol 1 jaro'\n */\n\nexport default function formatDistance(dirtyDate, dirtyBaseDate, dirtyOptions) {\n  requiredArgs(2, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale || defaultLocale;\n\n  if (!locale.formatDistance) {\n    throw new RangeError('locale must contain formatDistance property');\n  }\n\n  var comparison = compareAsc(dirtyDate, dirtyBaseDate);\n\n  if (isNaN(comparison)) {\n    throw new RangeError('Invalid time value');\n  }\n\n  var localizeOptions = cloneObject(options);\n  localizeOptions.addSuffix = Boolean(options.addSuffix);\n  localizeOptions.comparison = comparison;\n  var dateLeft;\n  var dateRight;\n\n  if (comparison > 0) {\n    dateLeft = toDate(dirtyBaseDate);\n    dateRight = toDate(dirtyDate);\n  } else {\n    dateLeft = toDate(dirtyDate);\n    dateRight = toDate(dirtyBaseDate);\n  }\n\n  var seconds = differenceInSeconds(dateRight, dateLeft);\n  var offsetInSeconds = (getTimezoneOffsetInMilliseconds(dateRight) - getTimezoneOffsetInMilliseconds(dateLeft)) / 1000;\n  var minutes = Math.round((seconds - offsetInSeconds) / 60);\n  var months; // 0 up to 2 mins\n\n  if (minutes < 2) {\n    if (options.includeSeconds) {\n      if (seconds < 5) {\n        return locale.formatDistance('lessThanXSeconds', 5, localizeOptions);\n      } else if (seconds < 10) {\n        return locale.formatDistance('lessThanXSeconds', 10, localizeOptions);\n      } else if (seconds < 20) {\n        return locale.formatDistance('lessThanXSeconds', 20, localizeOptions);\n      } else if (seconds < 40) {\n        return locale.formatDistance('halfAMinute', null, localizeOptions);\n      } else if (seconds < 60) {\n        return locale.formatDistance('lessThanXMinutes', 1, localizeOptions);\n      } else {\n        return locale.formatDistance('xMinutes', 1, localizeOptions);\n      }\n    } else {\n      if (minutes === 0) {\n        return locale.formatDistance('lessThanXMinutes', 1, localizeOptions);\n      } else {\n        return locale.formatDistance('xMinutes', minutes, localizeOptions);\n      }\n    } // 2 mins up to 0.75 hrs\n\n  } else if (minutes < 45) {\n    return locale.formatDistance('xMinutes', minutes, localizeOptions); // 0.75 hrs up to 1.5 hrs\n  } else if (minutes < 90) {\n    return locale.formatDistance('aboutXHours', 1, localizeOptions); // 1.5 hrs up to 24 hrs\n  } else if (minutes < MINUTES_IN_DAY) {\n    var hours = Math.round(minutes / 60);\n    return locale.formatDistance('aboutXHours', hours, localizeOptions); // 1 day up to 1.75 days\n  } else if (minutes < MINUTES_IN_ALMOST_TWO_DAYS) {\n    return locale.formatDistance('xDays', 1, localizeOptions); // 1.75 days up to 30 days\n  } else if (minutes < MINUTES_IN_MONTH) {\n    var days = Math.round(minutes / MINUTES_IN_DAY);\n    return locale.formatDistance('xDays', days, localizeOptions); // 1 month up to 2 months\n  } else if (minutes < MINUTES_IN_TWO_MONTHS) {\n    months = Math.round(minutes / MINUTES_IN_MONTH);\n    return locale.formatDistance('aboutXMonths', months, localizeOptions);\n  }\n\n  months = differenceInMonths(dateRight, dateLeft); // 2 months up to 12 months\n\n  if (months < 12) {\n    var nearestMonth = Math.round(minutes / MINUTES_IN_MONTH);\n    return locale.formatDistance('xMonths', nearestMonth, localizeOptions); // 1 year up to max Date\n  } else {\n    var monthsSinceStartOfYear = months % 12;\n    var years = Math.floor(months / 12); // N years up to 1 years 3 months\n\n    if (monthsSinceStartOfYear < 3) {\n      return locale.formatDistance('aboutXYears', years, localizeOptions); // N years 3 months up to N years 9 months\n    } else if (monthsSinceStartOfYear < 9) {\n      return locale.formatDistance('overXYears', years, localizeOptions); // N years 9 months up to N year 12 months\n    } else {\n      return locale.formatDistance('almostXYears', years + 1, localizeOptions);\n    }\n  }\n}","import distanceInWords from \"../formatDistance/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name formatDistanceToNow\n * @category Common Helpers\n * @summary Return the distance between the given date and now in words.\n * @pure false\n *\n * @description\n * Return the distance between the given date and now in words.\n *\n * | Distance to now                                                   | Result              |\n * |-------------------------------------------------------------------|---------------------|\n * | 0 ... 30 secs                                                     | less than a minute  |\n * | 30 secs ... 1 min 30 secs                                         | 1 minute            |\n * | 1 min 30 secs ... 44 mins 30 secs                                 | [2..44] minutes     |\n * | 44 mins ... 30 secs ... 89 mins 30 secs                           | about 1 hour        |\n * | 89 mins 30 secs ... 23 hrs 59 mins 30 secs                        | about [2..24] hours |\n * | 23 hrs 59 mins 30 secs ... 41 hrs 59 mins 30 secs                 | 1 day               |\n * | 41 hrs 59 mins 30 secs ... 29 days 23 hrs 59 mins 30 secs         | [2..30] days        |\n * | 29 days 23 hrs 59 mins 30 secs ... 44 days 23 hrs 59 mins 30 secs | about 1 month       |\n * | 44 days 23 hrs 59 mins 30 secs ... 59 days 23 hrs 59 mins 30 secs | about 2 months      |\n * | 59 days 23 hrs 59 mins 30 secs ... 1 yr                           | [2..12] months      |\n * | 1 yr ... 1 yr 3 months                                            | about 1 year        |\n * | 1 yr 3 months ... 1 yr 9 month s                                  | over 1 year         |\n * | 1 yr 9 months ... 2 yrs                                           | almost 2 years      |\n * | N yrs ... N yrs 3 months                                          | about N years       |\n * | N yrs 3 months ... N yrs 9 months                                 | over N years        |\n * | N yrs 9 months ... N+1 yrs                                        | almost N+1 years    |\n *\n * With `options.includeSeconds == true`:\n * | Distance to now     | Result               |\n * |---------------------|----------------------|\n * | 0 secs ... 5 secs   | less than 5 seconds  |\n * | 5 secs ... 10 secs  | less than 10 seconds |\n * | 10 secs ... 20 secs | less than 20 seconds |\n * | 20 secs ... 40 secs | half a minute        |\n * | 40 secs ... 60 secs | less than a minute   |\n * | 60 secs ... 90 secs | 1 minute             |\n *\n * >  Please note that this function is not present in the FP submodule as\n * > it uses `Date.now()` internally hence impure and can't be safely curried.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The function was renamed from `distanceInWordsToNow ` to `formatDistanceToNow`\n *   to make its name consistent with `format` and `formatRelative`.\n *\n *   ```javascript\n *   // Before v2.0.0\n *\n *   distanceInWordsToNow(new Date(2014, 6, 2), { addSuffix: true })\n *   //=> 'in 6 months'\n *\n *   // v2.0.0 onward\n *\n *   formatDistanceToNow(new Date(2014, 6, 2), { addSuffix: true })\n *   //=> 'in 6 months'\n *   ```\n *\n * @param {Date|Number} date - the given date\n * @param {Object} [options] - the object with options\n * @param {Boolean} [options.includeSeconds=false] - distances less than a minute are more detailed\n * @param {Boolean} [options.addSuffix=false] - result specifies if now is earlier or later than the passed date\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @returns {String} the distance in words\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `options.locale` must contain `formatDistance` property\n *\n * @example\n * // If today is 1 January 2015, what is the distance to 2 July 2014?\n * var result = formatDistanceToNow(\n *   new Date(2014, 6, 2)\n * )\n * //=> '6 months'\n *\n * @example\n * // If now is 1 January 2015 00:00:00,\n * // what is the distance to 1 January 2015 00:00:15, including seconds?\n * var result = formatDistanceToNow(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   {includeSeconds: true}\n * )\n * //=> 'less than 20 seconds'\n *\n * @example\n * // If today is 1 January 2015,\n * // what is the distance to 1 January 2016, with a suffix?\n * var result = formatDistanceToNow(\n *   new Date(2016, 0, 1),\n *   {addSuffix: true}\n * )\n * //=> 'in about 1 year'\n *\n * @example\n * // If today is 1 January 2015,\n * // what is the distance to 1 August 2016 in Esperanto?\n * var eoLocale = require('date-fns/locale/eo')\n * var result = formatDistanceToNow(\n *   new Date(2016, 7, 1),\n *   {locale: eoLocale}\n * )\n * //=> 'pli ol 1 jaro'\n */\n\nexport default function formatDistanceToNow(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  return distanceInWords(dirtyDate, Date.now(), dirtyOptions);\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name differenceInMilliseconds\n * @category Millisecond Helpers\n * @summary Get the number of milliseconds between the given dates.\n *\n * @description\n * Get the number of milliseconds between the given dates.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of milliseconds\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many milliseconds are between\n * // 2 July 2014 12:30:20.600 and 2 July 2014 12:30:21.700?\n * var result = differenceInMilliseconds(\n *   new Date(2014, 6, 2, 12, 30, 21, 700),\n *   new Date(2014, 6, 2, 12, 30, 20, 600)\n * )\n * //=> 1100\n */\n\nexport default function differenceInMilliseconds(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  return dateLeft.getTime() - dateRight.getTime();\n}","'use strict';\n\nvar Vue = require('vue');\n\nVue = 'default' in Vue ? Vue['default'] : Vue;\nvar version = '2.1.0';\nvar compatible = /^2\\./.test(Vue.version);\n\nif (!compatible) {\n  Vue.util.warn('VueClickaway ' + version + ' only supports Vue 2.x, and does not support Vue ' + Vue.version);\n} // @SECTION: implementation\n\n\nvar HANDLER = '_vue_clickaway_handler';\n\nfunction bind(el, binding) {\n  unbind(el);\n  var callback = binding.value;\n\n  if (typeof callback !== 'function') {\n    if (process.env.NODE_ENV !== 'production') {\n      Vue.util.warn('v-' + binding.name + '=\"' + binding.expression + '\" expects a function value, ' + 'got ' + callback);\n    }\n\n    return;\n  } // @NOTE: Vue binds directives in microtasks, while UI events are dispatched\n  //        in macrotasks. This causes the listener to be set up before\n  //        the \"origin\" click event (the event that lead to the binding of\n  //        the directive) arrives at the document root. To work around that,\n  //        we ignore events until the end of the \"initial\" macrotask.\n  // @REFERENCE: https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/\n  // @REFERENCE: https://github.com/simplesmiler/vue-clickaway/issues/8\n\n\n  var initialMacrotaskEnded = false;\n  setTimeout(function () {\n    initialMacrotaskEnded = true;\n  }, 0);\n\n  el[HANDLER] = function (ev) {\n    // @NOTE: IE 5.0+\n    // @REFERENCE: https://developer.mozilla.org/en/docs/Web/API/Node/contains\n    if (initialMacrotaskEnded && !el.contains(ev.target)) {\n      return callback(ev);\n    }\n  };\n\n  document.documentElement.addEventListener('click', el[HANDLER], false);\n}\n\nfunction unbind(el) {\n  document.documentElement.removeEventListener('click', el[HANDLER], false);\n  delete el[HANDLER];\n}\n\nvar directive = {\n  bind: bind,\n  update: function update(el, binding) {\n    if (binding.value === binding.oldValue) return;\n    bind(el, binding);\n  },\n  unbind: unbind\n};\nvar mixin = {\n  directives: {\n    onClickaway: directive\n  }\n};\nexports.version = version;\nexports.directive = directive;\nexports.mixin = mixin;","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n(function (global, factory) {\n  (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) === \"object\" && typeof module !== \"undefined\" ? factory(exports) : typeof define === \"function\" && define.amd ? define([\"exports\"], factory) : factory(global.ActiveStorage = {});\n})(this, function (exports) {\n  \"use strict\";\n\n  function createCommonjsModule(fn, module) {\n    return module = {\n      exports: {}\n    }, fn(module, module.exports), module.exports;\n  }\n\n  var sparkMd5 = createCommonjsModule(function (module, exports) {\n    (function (factory) {\n      {\n        module.exports = factory();\n      }\n    })(function (undefined) {\n      var hex_chr = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\n\n      function md5cycle(x, k) {\n        var a = x[0],\n            b = x[1],\n            c = x[2],\n            d = x[3];\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n      }\n\n      function md5blk(s) {\n        var md5blks = [],\n            i;\n\n        for (i = 0; i < 64; i += 4) {\n          md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n        }\n\n        return md5blks;\n      }\n\n      function md5blk_array(a) {\n        var md5blks = [],\n            i;\n\n        for (i = 0; i < 64; i += 4) {\n          md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n        }\n\n        return md5blks;\n      }\n\n      function md51(s) {\n        var n = s.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n          md5cycle(state, md5blk(s.substring(i - 64, i)));\n        }\n\n        s = s.substring(i - 64);\n        length = s.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n\n        for (i = 0; i < length; i += 1) {\n          tail[i >> 2] |= s.charCodeAt(i) << (i % 4 << 3);\n        }\n\n        tail[i >> 2] |= 128 << (i % 4 << 3);\n\n        if (i > 55) {\n          md5cycle(state, tail);\n\n          for (i = 0; i < 16; i += 1) {\n            tail[i] = 0;\n          }\n        }\n\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(state, tail);\n        return state;\n      }\n\n      function md51_array(a) {\n        var n = a.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n          md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n        }\n\n        a = i - 64 < n ? a.subarray(i - 64) : new Uint8Array(0);\n        length = a.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n\n        for (i = 0; i < length; i += 1) {\n          tail[i >> 2] |= a[i] << (i % 4 << 3);\n        }\n\n        tail[i >> 2] |= 128 << (i % 4 << 3);\n\n        if (i > 55) {\n          md5cycle(state, tail);\n\n          for (i = 0; i < 16; i += 1) {\n            tail[i] = 0;\n          }\n        }\n\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(state, tail);\n        return state;\n      }\n\n      function rhex(n) {\n        var s = \"\",\n            j;\n\n        for (j = 0; j < 4; j += 1) {\n          s += hex_chr[n >> j * 8 + 4 & 15] + hex_chr[n >> j * 8 & 15];\n        }\n\n        return s;\n      }\n\n      function hex(x) {\n        var i;\n\n        for (i = 0; i < x.length; i += 1) {\n          x[i] = rhex(x[i]);\n        }\n\n        return x.join(\"\");\n      }\n\n      if (hex(md51(\"hello\")) !== \"5d41402abc4b2a76b9719d911017c592\") ;\n\n      if (typeof ArrayBuffer !== \"undefined\" && !ArrayBuffer.prototype.slice) {\n        (function () {\n          function clamp(val, length) {\n            val = val | 0 || 0;\n\n            if (val < 0) {\n              return Math.max(val + length, 0);\n            }\n\n            return Math.min(val, length);\n          }\n\n          ArrayBuffer.prototype.slice = function (from, to) {\n            var length = this.byteLength,\n                begin = clamp(from, length),\n                end = length,\n                num,\n                target,\n                targetArray,\n                sourceArray;\n\n            if (to !== undefined) {\n              end = clamp(to, length);\n            }\n\n            if (begin > end) {\n              return new ArrayBuffer(0);\n            }\n\n            num = end - begin;\n            target = new ArrayBuffer(num);\n            targetArray = new Uint8Array(target);\n            sourceArray = new Uint8Array(this, begin, num);\n            targetArray.set(sourceArray);\n            return target;\n          };\n        })();\n      }\n\n      function toUtf8(str) {\n        if (/[\\u0080-\\uFFFF]/.test(str)) {\n          str = unescape(encodeURIComponent(str));\n        }\n\n        return str;\n      }\n\n      function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n        var length = str.length,\n            buff = new ArrayBuffer(length),\n            arr = new Uint8Array(buff),\n            i;\n\n        for (i = 0; i < length; i += 1) {\n          arr[i] = str.charCodeAt(i);\n        }\n\n        return returnUInt8Array ? arr : buff;\n      }\n\n      function arrayBuffer2Utf8Str(buff) {\n        return String.fromCharCode.apply(null, new Uint8Array(buff));\n      }\n\n      function concatenateArrayBuffers(first, second, returnUInt8Array) {\n        var result = new Uint8Array(first.byteLength + second.byteLength);\n        result.set(new Uint8Array(first));\n        result.set(new Uint8Array(second), first.byteLength);\n        return returnUInt8Array ? result : result.buffer;\n      }\n\n      function hexToBinaryString(hex) {\n        var bytes = [],\n            length = hex.length,\n            x;\n\n        for (x = 0; x < length - 1; x += 2) {\n          bytes.push(parseInt(hex.substr(x, 2), 16));\n        }\n\n        return String.fromCharCode.apply(String, bytes);\n      }\n\n      function SparkMD5() {\n        this.reset();\n      }\n\n      SparkMD5.prototype.append = function (str) {\n        this.appendBinary(toUtf8(str));\n        return this;\n      };\n\n      SparkMD5.prototype.appendBinary = function (contents) {\n        this._buff += contents;\n        this._length += contents.length;\n        var length = this._buff.length,\n            i;\n\n        for (i = 64; i <= length; i += 64) {\n          md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n        }\n\n        this._buff = this._buff.substring(i - 64);\n        return this;\n      };\n\n      SparkMD5.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            i,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n          tail[i >> 2] |= buff.charCodeAt(i) << (i % 4 << 3);\n        }\n\n        this._finish(tail, length);\n\n        ret = hex(this._hash);\n\n        if (raw) {\n          ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n        return ret;\n      };\n\n      SparkMD5.prototype.reset = function () {\n        this._buff = \"\";\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n        return this;\n      };\n\n      SparkMD5.prototype.getState = function () {\n        return {\n          buff: this._buff,\n          length: this._length,\n          hash: this._hash\n        };\n      };\n\n      SparkMD5.prototype.setState = function (state) {\n        this._buff = state.buff;\n        this._length = state.length;\n        this._hash = state.hash;\n        return this;\n      };\n\n      SparkMD5.prototype.destroy = function () {\n        delete this._hash;\n        delete this._buff;\n        delete this._length;\n      };\n\n      SparkMD5.prototype._finish = function (tail, length) {\n        var i = length,\n            tmp,\n            lo,\n            hi;\n        tail[i >> 2] |= 128 << (i % 4 << 3);\n\n        if (i > 55) {\n          md5cycle(this._hash, tail);\n\n          for (i = 0; i < 16; i += 1) {\n            tail[i] = 0;\n          }\n        }\n\n        tmp = this._length * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(this._hash, tail);\n      };\n\n      SparkMD5.hash = function (str, raw) {\n        return SparkMD5.hashBinary(toUtf8(str), raw);\n      };\n\n      SparkMD5.hashBinary = function (content, raw) {\n        var hash = md51(content),\n            ret = hex(hash);\n        return raw ? hexToBinaryString(ret) : ret;\n      };\n\n      SparkMD5.ArrayBuffer = function () {\n        this.reset();\n      };\n\n      SparkMD5.ArrayBuffer.prototype.append = function (arr) {\n        var buff = concatenateArrayBuffers(this._buff.buffer, arr, true),\n            length = buff.length,\n            i;\n        this._length += arr.byteLength;\n\n        for (i = 64; i <= length; i += 64) {\n          md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n        }\n\n        this._buff = i - 64 < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n        return this;\n      };\n\n      SparkMD5.ArrayBuffer.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            i,\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n          tail[i >> 2] |= buff[i] << (i % 4 << 3);\n        }\n\n        this._finish(tail, length);\n\n        ret = hex(this._hash);\n\n        if (raw) {\n          ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n        return ret;\n      };\n\n      SparkMD5.ArrayBuffer.prototype.reset = function () {\n        this._buff = new Uint8Array(0);\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n        return this;\n      };\n\n      SparkMD5.ArrayBuffer.prototype.getState = function () {\n        var state = SparkMD5.prototype.getState.call(this);\n        state.buff = arrayBuffer2Utf8Str(state.buff);\n        return state;\n      };\n\n      SparkMD5.ArrayBuffer.prototype.setState = function (state) {\n        state.buff = utf8Str2ArrayBuffer(state.buff, true);\n        return SparkMD5.prototype.setState.call(this, state);\n      };\n\n      SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n      SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n\n      SparkMD5.ArrayBuffer.hash = function (arr, raw) {\n        var hash = md51_array(new Uint8Array(arr)),\n            ret = hex(hash);\n        return raw ? hexToBinaryString(ret) : ret;\n      };\n\n      return SparkMD5;\n    });\n  });\n\n  var classCallCheck = function classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var fileSlice = File.prototype.slice || File.prototype.mozSlice || File.prototype.webkitSlice;\n\n  var FileChecksum = function () {\n    createClass(FileChecksum, null, [{\n      key: \"create\",\n      value: function create(file, callback) {\n        var instance = new FileChecksum(file);\n        instance.create(callback);\n      }\n    }]);\n\n    function FileChecksum(file) {\n      classCallCheck(this, FileChecksum);\n      this.file = file;\n      this.chunkSize = 2097152;\n      this.chunkCount = Math.ceil(this.file.size / this.chunkSize);\n      this.chunkIndex = 0;\n    }\n\n    createClass(FileChecksum, [{\n      key: \"create\",\n      value: function create(callback) {\n        var _this = this;\n\n        this.callback = callback;\n        this.md5Buffer = new sparkMd5.ArrayBuffer();\n        this.fileReader = new FileReader();\n        this.fileReader.addEventListener(\"load\", function (event) {\n          return _this.fileReaderDidLoad(event);\n        });\n        this.fileReader.addEventListener(\"error\", function (event) {\n          return _this.fileReaderDidError(event);\n        });\n        this.readNextChunk();\n      }\n    }, {\n      key: \"fileReaderDidLoad\",\n      value: function fileReaderDidLoad(event) {\n        this.md5Buffer.append(event.target.result);\n\n        if (!this.readNextChunk()) {\n          var binaryDigest = this.md5Buffer.end(true);\n          var base64digest = btoa(binaryDigest);\n          this.callback(null, base64digest);\n        }\n      }\n    }, {\n      key: \"fileReaderDidError\",\n      value: function fileReaderDidError(event) {\n        this.callback(\"Error reading \" + this.file.name);\n      }\n    }, {\n      key: \"readNextChunk\",\n      value: function readNextChunk() {\n        if (this.chunkIndex < this.chunkCount || this.chunkIndex == 0 && this.chunkCount == 0) {\n          var start = this.chunkIndex * this.chunkSize;\n          var end = Math.min(start + this.chunkSize, this.file.size);\n          var bytes = fileSlice.call(this.file, start, end);\n          this.fileReader.readAsArrayBuffer(bytes);\n          this.chunkIndex++;\n          return true;\n        } else {\n          return false;\n        }\n      }\n    }]);\n    return FileChecksum;\n  }();\n\n  function getMetaValue(name) {\n    var element = findElement(document.head, 'meta[name=\"' + name + '\"]');\n\n    if (element) {\n      return element.getAttribute(\"content\");\n    }\n  }\n\n  function findElements(root, selector) {\n    if (typeof root == \"string\") {\n      selector = root;\n      root = document;\n    }\n\n    var elements = root.querySelectorAll(selector);\n    return toArray$1(elements);\n  }\n\n  function findElement(root, selector) {\n    if (typeof root == \"string\") {\n      selector = root;\n      root = document;\n    }\n\n    return root.querySelector(selector);\n  }\n\n  function dispatchEvent(element, type) {\n    var eventInit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var disabled = element.disabled;\n    var bubbles = eventInit.bubbles,\n        cancelable = eventInit.cancelable,\n        detail = eventInit.detail;\n    var event = document.createEvent(\"Event\");\n    event.initEvent(type, bubbles || true, cancelable || true);\n    event.detail = detail || {};\n\n    try {\n      element.disabled = false;\n      element.dispatchEvent(event);\n    } finally {\n      element.disabled = disabled;\n    }\n\n    return event;\n  }\n\n  function toArray$1(value) {\n    if (Array.isArray(value)) {\n      return value;\n    } else if (Array.from) {\n      return Array.from(value);\n    } else {\n      return [].slice.call(value);\n    }\n  }\n\n  var BlobRecord = function () {\n    function BlobRecord(file, checksum, url) {\n      var _this = this;\n\n      classCallCheck(this, BlobRecord);\n      this.file = file;\n      this.attributes = {\n        filename: file.name,\n        content_type: file.type,\n        byte_size: file.size,\n        checksum: checksum\n      };\n      this.xhr = new XMLHttpRequest();\n      this.xhr.open(\"POST\", url, true);\n      this.xhr.responseType = \"json\";\n      this.xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n      this.xhr.setRequestHeader(\"Accept\", \"application/json\");\n      this.xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n      this.xhr.setRequestHeader(\"X-CSRF-Token\", getMetaValue(\"csrf-token\"));\n      this.xhr.addEventListener(\"load\", function (event) {\n        return _this.requestDidLoad(event);\n      });\n      this.xhr.addEventListener(\"error\", function (event) {\n        return _this.requestDidError(event);\n      });\n    }\n\n    createClass(BlobRecord, [{\n      key: \"create\",\n      value: function create(callback) {\n        this.callback = callback;\n        this.xhr.send(JSON.stringify({\n          blob: this.attributes\n        }));\n      }\n    }, {\n      key: \"requestDidLoad\",\n      value: function requestDidLoad(event) {\n        if (this.status >= 200 && this.status < 300) {\n          var response = this.response;\n          var direct_upload = response.direct_upload;\n          delete response.direct_upload;\n          this.attributes = response;\n          this.directUploadData = direct_upload;\n          this.callback(null, this.toJSON());\n        } else {\n          this.requestDidError(event);\n        }\n      }\n    }, {\n      key: \"requestDidError\",\n      value: function requestDidError(event) {\n        this.callback('Error creating Blob for \"' + this.file.name + '\". Status: ' + this.status);\n      }\n    }, {\n      key: \"toJSON\",\n      value: function toJSON() {\n        var result = {};\n\n        for (var key in this.attributes) {\n          result[key] = this.attributes[key];\n        }\n\n        return result;\n      }\n    }, {\n      key: \"status\",\n      get: function get$$1() {\n        return this.xhr.status;\n      }\n    }, {\n      key: \"response\",\n      get: function get$$1() {\n        var _xhr = this.xhr,\n            responseType = _xhr.responseType,\n            response = _xhr.response;\n\n        if (responseType == \"json\") {\n          return response;\n        } else {\n          return JSON.parse(response);\n        }\n      }\n    }]);\n    return BlobRecord;\n  }();\n\n  var BlobUpload = function () {\n    function BlobUpload(blob) {\n      var _this = this;\n\n      classCallCheck(this, BlobUpload);\n      this.blob = blob;\n      this.file = blob.file;\n      var _blob$directUploadDat = blob.directUploadData,\n          url = _blob$directUploadDat.url,\n          headers = _blob$directUploadDat.headers;\n      this.xhr = new XMLHttpRequest();\n      this.xhr.open(\"PUT\", url, true);\n      this.xhr.responseType = \"text\";\n\n      for (var key in headers) {\n        this.xhr.setRequestHeader(key, headers[key]);\n      }\n\n      this.xhr.addEventListener(\"load\", function (event) {\n        return _this.requestDidLoad(event);\n      });\n      this.xhr.addEventListener(\"error\", function (event) {\n        return _this.requestDidError(event);\n      });\n    }\n\n    createClass(BlobUpload, [{\n      key: \"create\",\n      value: function create(callback) {\n        this.callback = callback;\n        this.xhr.send(this.file.slice());\n      }\n    }, {\n      key: \"requestDidLoad\",\n      value: function requestDidLoad(event) {\n        var _xhr = this.xhr,\n            status = _xhr.status,\n            response = _xhr.response;\n\n        if (status >= 200 && status < 300) {\n          this.callback(null, response);\n        } else {\n          this.requestDidError(event);\n        }\n      }\n    }, {\n      key: \"requestDidError\",\n      value: function requestDidError(event) {\n        this.callback('Error storing \"' + this.file.name + '\". Status: ' + this.xhr.status);\n      }\n    }]);\n    return BlobUpload;\n  }();\n\n  var id = 0;\n\n  var DirectUpload = function () {\n    function DirectUpload(file, url, delegate) {\n      classCallCheck(this, DirectUpload);\n      this.id = ++id;\n      this.file = file;\n      this.url = url;\n      this.delegate = delegate;\n    }\n\n    createClass(DirectUpload, [{\n      key: \"create\",\n      value: function create(callback) {\n        var _this = this;\n\n        FileChecksum.create(this.file, function (error, checksum) {\n          if (error) {\n            callback(error);\n            return;\n          }\n\n          var blob = new BlobRecord(_this.file, checksum, _this.url);\n          notify(_this.delegate, \"directUploadWillCreateBlobWithXHR\", blob.xhr);\n          blob.create(function (error) {\n            if (error) {\n              callback(error);\n            } else {\n              var upload = new BlobUpload(blob);\n              notify(_this.delegate, \"directUploadWillStoreFileWithXHR\", upload.xhr);\n              upload.create(function (error) {\n                if (error) {\n                  callback(error);\n                } else {\n                  callback(null, blob.toJSON());\n                }\n              });\n            }\n          });\n        });\n      }\n    }]);\n    return DirectUpload;\n  }();\n\n  function notify(object, methodName) {\n    if (object && typeof object[methodName] == \"function\") {\n      for (var _len = arguments.length, messages = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        messages[_key - 2] = arguments[_key];\n      }\n\n      return object[methodName].apply(object, messages);\n    }\n  }\n\n  var DirectUploadController = function () {\n    function DirectUploadController(input, file) {\n      classCallCheck(this, DirectUploadController);\n      this.input = input;\n      this.file = file;\n      this.directUpload = new DirectUpload(this.file, this.url, this);\n      this.dispatch(\"initialize\");\n    }\n\n    createClass(DirectUploadController, [{\n      key: \"start\",\n      value: function start(callback) {\n        var _this = this;\n\n        var hiddenInput = document.createElement(\"input\");\n        hiddenInput.type = \"hidden\";\n        hiddenInput.name = this.input.name;\n        this.input.insertAdjacentElement(\"beforebegin\", hiddenInput);\n        this.dispatch(\"start\");\n        this.directUpload.create(function (error, attributes) {\n          if (error) {\n            hiddenInput.parentNode.removeChild(hiddenInput);\n\n            _this.dispatchError(error);\n          } else {\n            hiddenInput.value = attributes.signed_id;\n          }\n\n          _this.dispatch(\"end\");\n\n          callback(error);\n        });\n      }\n    }, {\n      key: \"uploadRequestDidProgress\",\n      value: function uploadRequestDidProgress(event) {\n        var progress = event.loaded / event.total * 100;\n\n        if (progress) {\n          this.dispatch(\"progress\", {\n            progress: progress\n          });\n        }\n      }\n    }, {\n      key: \"dispatch\",\n      value: function dispatch(name) {\n        var detail = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        detail.file = this.file;\n        detail.id = this.directUpload.id;\n        return dispatchEvent(this.input, \"direct-upload:\" + name, {\n          detail: detail\n        });\n      }\n    }, {\n      key: \"dispatchError\",\n      value: function dispatchError(error) {\n        var event = this.dispatch(\"error\", {\n          error: error\n        });\n\n        if (!event.defaultPrevented) {\n          alert(error);\n        }\n      }\n    }, {\n      key: \"directUploadWillCreateBlobWithXHR\",\n      value: function directUploadWillCreateBlobWithXHR(xhr) {\n        this.dispatch(\"before-blob-request\", {\n          xhr: xhr\n        });\n      }\n    }, {\n      key: \"directUploadWillStoreFileWithXHR\",\n      value: function directUploadWillStoreFileWithXHR(xhr) {\n        var _this2 = this;\n\n        this.dispatch(\"before-storage-request\", {\n          xhr: xhr\n        });\n        xhr.upload.addEventListener(\"progress\", function (event) {\n          return _this2.uploadRequestDidProgress(event);\n        });\n      }\n    }, {\n      key: \"url\",\n      get: function get$$1() {\n        return this.input.getAttribute(\"data-direct-upload-url\");\n      }\n    }]);\n    return DirectUploadController;\n  }();\n\n  var inputSelector = \"input[type=file][data-direct-upload-url]:not([disabled])\";\n\n  var DirectUploadsController = function () {\n    function DirectUploadsController(form) {\n      classCallCheck(this, DirectUploadsController);\n      this.form = form;\n      this.inputs = findElements(form, inputSelector).filter(function (input) {\n        return input.files.length;\n      });\n    }\n\n    createClass(DirectUploadsController, [{\n      key: \"start\",\n      value: function start(callback) {\n        var _this = this;\n\n        var controllers = this.createDirectUploadControllers();\n\n        var startNextController = function startNextController() {\n          var controller = controllers.shift();\n\n          if (controller) {\n            controller.start(function (error) {\n              if (error) {\n                callback(error);\n\n                _this.dispatch(\"end\");\n              } else {\n                startNextController();\n              }\n            });\n          } else {\n            callback();\n\n            _this.dispatch(\"end\");\n          }\n        };\n\n        this.dispatch(\"start\");\n        startNextController();\n      }\n    }, {\n      key: \"createDirectUploadControllers\",\n      value: function createDirectUploadControllers() {\n        var controllers = [];\n        this.inputs.forEach(function (input) {\n          toArray$1(input.files).forEach(function (file) {\n            var controller = new DirectUploadController(input, file);\n            controllers.push(controller);\n          });\n        });\n        return controllers;\n      }\n    }, {\n      key: \"dispatch\",\n      value: function dispatch(name) {\n        var detail = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return dispatchEvent(this.form, \"direct-uploads:\" + name, {\n          detail: detail\n        });\n      }\n    }]);\n    return DirectUploadsController;\n  }();\n\n  var processingAttribute = \"data-direct-uploads-processing\";\n  var submitButtonsByForm = new WeakMap();\n  var started = false;\n\n  function start() {\n    if (!started) {\n      started = true;\n      document.addEventListener(\"click\", didClick, true);\n      document.addEventListener(\"submit\", didSubmitForm);\n      document.addEventListener(\"ajax:before\", didSubmitRemoteElement);\n    }\n  }\n\n  function didClick(event) {\n    var target = event.target;\n\n    if ((target.tagName == \"INPUT\" || target.tagName == \"BUTTON\") && target.type == \"submit\" && target.form) {\n      submitButtonsByForm.set(target.form, target);\n    }\n  }\n\n  function didSubmitForm(event) {\n    handleFormSubmissionEvent(event);\n  }\n\n  function didSubmitRemoteElement(event) {\n    if (event.target.tagName == \"FORM\") {\n      handleFormSubmissionEvent(event);\n    }\n  }\n\n  function handleFormSubmissionEvent(event) {\n    var form = event.target;\n\n    if (form.hasAttribute(processingAttribute)) {\n      event.preventDefault();\n      return;\n    }\n\n    var controller = new DirectUploadsController(form);\n    var inputs = controller.inputs;\n\n    if (inputs.length) {\n      event.preventDefault();\n      form.setAttribute(processingAttribute, \"\");\n      inputs.forEach(disable);\n      controller.start(function (error) {\n        form.removeAttribute(processingAttribute);\n\n        if (error) {\n          inputs.forEach(enable);\n        } else {\n          submitForm(form);\n        }\n      });\n    }\n  }\n\n  function submitForm(form) {\n    var button = submitButtonsByForm.get(form) || findElement(form, \"input[type=submit], button[type=submit]\");\n\n    if (button) {\n      var _button = button,\n          disabled = _button.disabled;\n      button.disabled = false;\n      button.focus();\n      button.click();\n      button.disabled = disabled;\n    } else {\n      button = document.createElement(\"input\");\n      button.type = \"submit\";\n      button.style.display = \"none\";\n      form.appendChild(button);\n      button.click();\n      form.removeChild(button);\n    }\n\n    submitButtonsByForm.delete(form);\n  }\n\n  function disable(input) {\n    input.disabled = true;\n  }\n\n  function enable(input) {\n    input.disabled = false;\n  }\n\n  function autostart() {\n    if (window.ActiveStorage) {\n      start();\n    }\n  }\n\n  setTimeout(autostart, 1);\n  exports.start = start;\n  exports.DirectUpload = DirectUpload;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n});","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _common = require(\"./common\");\n\nvar emailRegex = /^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/i;\n\nvar _default = (0, _common.regex)('email', emailRegex);\n\nexports.default = _default;","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = String(data[index]);\n      s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","function _typeof2(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\n/*!\n * Name: vue-upload-component\n * Version: 2.8.21\n * Author: Marco Lang\n */\n(function (global, factory) {\n  (typeof exports === \"undefined\" ? \"undefined\" : _typeof2(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : global.VueUploadComponent = factory();\n})(this, function () {\n  'use strict';\n  /**\n   * Creates a XHR request\n   *\n   * @param {Object} options\n   */\n\n  var createRequest = function createRequest(options) {\n    var xhr = new XMLHttpRequest();\n    xhr.open(options.method || 'GET', options.url);\n    xhr.responseType = 'json';\n\n    if (options.headers) {\n      Object.keys(options.headers).forEach(function (key) {\n        xhr.setRequestHeader(key, options.headers[key]);\n      });\n    }\n\n    return xhr;\n  };\n  /**\n   * Sends a XHR request with certain body\n   *\n   * @param {XMLHttpRequest} xhr\n   * @param {Object} body\n   */\n\n\n  var sendRequest = function sendRequest(xhr, body) {\n    return new Promise(function (resolve, reject) {\n      xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 300) {\n          var response;\n\n          try {\n            response = JSON.parse(xhr.response);\n          } catch (err) {\n            response = xhr.response;\n          }\n\n          resolve(response);\n        } else {\n          reject(xhr.response);\n        }\n      };\n\n      xhr.onerror = function () {\n        return reject(xhr.response);\n      };\n\n      xhr.send(JSON.stringify(body));\n    });\n  };\n  /**\n   * Sends a XHR request with certain form data\n   *\n   * @param {XMLHttpRequest} xhr\n   * @param {Object} data\n   */\n\n\n  var sendFormRequest = function sendFormRequest(xhr, data) {\n    var body = new FormData();\n\n    for (var name in data) {\n      body.append(name, data[name]);\n    }\n\n    return new Promise(function (resolve, reject) {\n      xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 300) {\n          var response;\n\n          try {\n            response = JSON.parse(xhr.response);\n          } catch (err) {\n            response = xhr.response;\n          }\n\n          resolve(response);\n        } else {\n          reject(xhr.response);\n        }\n      };\n\n      xhr.onerror = function () {\n        return reject(xhr.response);\n      };\n\n      xhr.send(body);\n    });\n  };\n  /**\n   * Creates and sends XHR request\n   *\n   * @param {Object} options\n   *\n   * @returns Promise\n   */\n\n\n  function request(options) {\n    var xhr = createRequest(options);\n    return sendRequest(xhr, options.body);\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var ChunkUploadHandler = function () {\n    /**\n     * Constructor\n     *\n     * @param {File} file\n     * @param {Object} options\n     */\n    function ChunkUploadHandler(file, options) {\n      _classCallCheck(this, ChunkUploadHandler);\n\n      this.file = file;\n      this.options = options;\n      this.chunks = [];\n      this.sessionId = null;\n      this.chunkSize = null;\n      this.speedInterval = null;\n    }\n    /**\n     * Gets the max retries from options\n     */\n\n\n    _createClass(ChunkUploadHandler, [{\n      key: 'createChunks',\n\n      /**\n       * Creates all the chunks in the initial state\n       */\n      value: function createChunks() {\n        this.chunks = [];\n        var start = 0;\n        var end = this.chunkSize;\n\n        while (start < this.fileSize) {\n          this.chunks.push({\n            blob: this.file.file.slice(start, end),\n            startOffset: start,\n            active: false,\n            retries: this.maxRetries\n          });\n          start = end;\n          end = start + this.chunkSize;\n        }\n      }\n      /**\n       * Updates the progress of the file with the handler's progress\n       */\n\n    }, {\n      key: 'updateFileProgress',\n      value: function updateFileProgress() {\n        this.file.progress = this.progress;\n      }\n      /**\n       * Paues the upload process\n       * - Stops all active requests\n       * - Sets the file not active\n       */\n\n    }, {\n      key: 'pause',\n      value: function pause() {\n        this.file.active = false;\n        this.stopChunks();\n      }\n      /**\n       * Stops all the current chunks\n       */\n\n    }, {\n      key: 'stopChunks',\n      value: function stopChunks() {\n        this.chunksUploading.forEach(function (chunk) {\n          chunk.xhr.abort();\n          chunk.active = false;\n        });\n        this.stopSpeedCalc();\n      }\n      /**\n       * Resumes the file upload\n       * - Sets the file active\n       * - Starts the following chunks\n       */\n\n    }, {\n      key: 'resume',\n      value: function resume() {\n        this.file.active = true;\n        this.startChunking();\n      }\n      /**\n       * Starts the file upload\n       *\n       * @returns Promise\n       * - resolve  The file was uploaded\n       * - reject   The file upload failed\n       */\n\n    }, {\n      key: 'upload',\n      value: function upload() {\n        var _this = this;\n\n        this.promise = new Promise(function (resolve, reject) {\n          _this.resolve = resolve;\n          _this.reject = reject;\n        });\n        this.start();\n        return this.promise;\n      }\n      /**\n       * Start phase\n       * Sends a request to the backend to initialise the chunks\n       */\n\n    }, {\n      key: 'start',\n      value: function start() {\n        var _this2 = this;\n\n        request({\n          method: 'POST',\n          headers: Object.assign({}, this.headers, {\n            'Content-Type': 'application/json'\n          }),\n          url: this.action,\n          body: Object.assign(this.startBody, {\n            phase: 'start',\n            mime_type: this.fileType,\n            size: this.fileSize,\n            name: this.fileName\n          })\n        }).then(function (res) {\n          if (res.status !== 'success') {\n            _this2.file.response = res;\n            return _this2.reject('server');\n          }\n\n          _this2.sessionId = res.data.session_id;\n          _this2.chunkSize = res.data.end_offset;\n\n          _this2.createChunks();\n\n          _this2.startChunking();\n        }).catch(function (res) {\n          _this2.file.response = res;\n\n          _this2.reject('server');\n        });\n      }\n      /**\n       * Starts to upload chunks\n       */\n\n    }, {\n      key: 'startChunking',\n      value: function startChunking() {\n        for (var i = 0; i < this.maxActiveChunks; i++) {\n          this.uploadNextChunk();\n        }\n\n        this.startSpeedCalc();\n      }\n      /**\n       * Uploads the next chunk\n       * - Won't do anything if the process is paused\n       * - Will start finish phase if there are no more chunks to upload\n       */\n\n    }, {\n      key: 'uploadNextChunk',\n      value: function uploadNextChunk() {\n        if (this.file.active) {\n          if (this.hasChunksToUpload) {\n            return this.uploadChunk(this.chunksToUpload[0]);\n          }\n\n          if (this.chunksUploading.length === 0) {\n            return this.finish();\n          }\n        }\n      }\n      /**\n       * Uploads a chunk\n       * - Sends the chunk to the backend\n       * - Sets the chunk as uploaded if everything went well\n       * - Decreases the number of retries if anything went wrong\n       * - Fails if there are no more retries\n       *\n       * @param {Object} chunk\n       */\n\n    }, {\n      key: 'uploadChunk',\n      value: function uploadChunk(chunk) {\n        var _this3 = this;\n\n        chunk.progress = 0;\n        chunk.active = true;\n        this.updateFileProgress();\n        chunk.xhr = createRequest({\n          method: 'POST',\n          headers: this.headers,\n          url: this.action\n        });\n        chunk.xhr.upload.addEventListener('progress', function (evt) {\n          if (evt.lengthComputable) {\n            chunk.progress = Math.round(evt.loaded / evt.total * 100);\n          }\n        }, false);\n        sendFormRequest(chunk.xhr, Object.assign(this.uploadBody, {\n          phase: 'upload',\n          session_id: this.sessionId,\n          start_offset: chunk.startOffset,\n          chunk: chunk.blob\n        })).then(function (res) {\n          chunk.active = false;\n\n          if (res.status === 'success') {\n            chunk.uploaded = true;\n          } else {\n            if (chunk.retries-- <= 0) {\n              _this3.stopChunks();\n\n              return _this3.reject('upload');\n            }\n          }\n\n          _this3.uploadNextChunk();\n        }).catch(function () {\n          chunk.active = false;\n\n          if (chunk.retries-- <= 0) {\n            _this3.stopChunks();\n\n            return _this3.reject('upload');\n          }\n\n          _this3.uploadNextChunk();\n        });\n      }\n      /**\n       * Finish phase\n       * Sends a request to the backend to finish the process\n       */\n\n    }, {\n      key: 'finish',\n      value: function finish() {\n        var _this4 = this;\n\n        this.updateFileProgress();\n        this.stopSpeedCalc();\n        request({\n          method: 'POST',\n          headers: Object.assign({}, this.headers, {\n            'Content-Type': 'application/json'\n          }),\n          url: this.action,\n          body: Object.assign(this.finishBody, {\n            phase: 'finish',\n            session_id: this.sessionId\n          })\n        }).then(function (res) {\n          _this4.file.response = res;\n\n          if (res.status !== 'success') {\n            return _this4.reject('server');\n          }\n\n          _this4.resolve(res);\n        }).catch(function (res) {\n          _this4.file.response = res;\n\n          _this4.reject('server');\n        });\n      }\n      /**\n       * Sets an interval to calculate and\n       * set upload speed every 3 seconds\n       */\n\n    }, {\n      key: 'startSpeedCalc',\n      value: function startSpeedCalc() {\n        var _this5 = this;\n\n        this.file.speed = 0;\n        var lastUploadedBytes = 0;\n\n        if (!this.speedInterval) {\n          this.speedInterval = window.setInterval(function () {\n            var uploadedBytes = _this5.progress / 100 * _this5.fileSize;\n            _this5.file.speed = uploadedBytes - lastUploadedBytes;\n            lastUploadedBytes = uploadedBytes;\n          }, 1000);\n        }\n      }\n      /**\n       * Removes the upload speed interval\n       */\n\n    }, {\n      key: 'stopSpeedCalc',\n      value: function stopSpeedCalc() {\n        this.speedInterval && window.clearInterval(this.speedInterval);\n        this.speedInterval = null;\n        this.file.speed = 0;\n      }\n    }, {\n      key: 'maxRetries',\n      get: function get() {\n        return parseInt(this.options.maxRetries, 10);\n      }\n      /**\n       * Gets the max number of active chunks being uploaded at once from options\n       */\n\n    }, {\n      key: 'maxActiveChunks',\n      get: function get() {\n        return parseInt(this.options.maxActive, 10);\n      }\n      /**\n       * Gets the file type\n       */\n\n    }, {\n      key: 'fileType',\n      get: function get() {\n        return this.file.type;\n      }\n      /**\n       * Gets the file size\n       */\n\n    }, {\n      key: 'fileSize',\n      get: function get() {\n        return this.file.size;\n      }\n      /**\n       * Gets the file name\n       */\n\n    }, {\n      key: 'fileName',\n      get: function get() {\n        return this.file.name;\n      }\n      /**\n       * Gets action (url) to upload the file\n       */\n\n    }, {\n      key: 'action',\n      get: function get() {\n        return this.options.action || null;\n      }\n      /**\n       * Gets the body to be merged when sending the request in start phase\n       */\n\n    }, {\n      key: 'startBody',\n      get: function get() {\n        return this.options.startBody || {};\n      }\n      /**\n       * Gets the body to be merged when sending the request in upload phase\n       */\n\n    }, {\n      key: 'uploadBody',\n      get: function get() {\n        return this.options.uploadBody || {};\n      }\n      /**\n       * Gets the body to be merged when sending the request in finish phase\n       */\n\n    }, {\n      key: 'finishBody',\n      get: function get() {\n        return this.options.finishBody || {};\n      }\n      /**\n       * Gets the headers of the requests from options\n       */\n\n    }, {\n      key: 'headers',\n      get: function get() {\n        return this.options.headers || {};\n      }\n      /**\n       * Whether it's ready to upload files or not\n       */\n\n    }, {\n      key: 'readyToUpload',\n      get: function get() {\n        return !!this.chunks;\n      }\n      /**\n       * Gets the progress of the chunk upload\n       * - Gets all the completed chunks\n       * - Gets the progress of all the chunks that are being uploaded\n       */\n\n    }, {\n      key: 'progress',\n      get: function get() {\n        var _this6 = this;\n\n        var completedProgress = this.chunksUploaded.length / this.chunks.length * 100;\n        var uploadingProgress = this.chunksUploading.reduce(function (progress, chunk) {\n          return progress + (chunk.progress | 0) / _this6.chunks.length;\n        }, 0);\n        return Math.min(completedProgress + uploadingProgress, 100);\n      }\n      /**\n       * Gets all the chunks that are pending to be uploaded\n       */\n\n    }, {\n      key: 'chunksToUpload',\n      get: function get() {\n        return this.chunks.filter(function (chunk) {\n          return !chunk.active && !chunk.uploaded;\n        });\n      }\n      /**\n       * Whether there are chunks to upload or not\n       */\n\n    }, {\n      key: 'hasChunksToUpload',\n      get: function get() {\n        return this.chunksToUpload.length > 0;\n      }\n      /**\n       * Gets all the chunks that are uploading\n       */\n\n    }, {\n      key: 'chunksUploading',\n      get: function get() {\n        return this.chunks.filter(function (chunk) {\n          return !!chunk.xhr && !!chunk.active;\n        });\n      }\n      /**\n       * Gets all the chunks that have finished uploading\n       */\n\n    }, {\n      key: 'chunksUploaded',\n      get: function get() {\n        return this.chunks.filter(function (chunk) {\n          return !!chunk.uploaded;\n        });\n      }\n    }]);\n\n    return ChunkUploadHandler;\n  }(); //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n\n\n  var script = {\n    methods: {\n      change: function change(e) {\n        this.$parent.addInputFile(e.target);\n\n        if (e.target.files) {\n          e.target.value = '';\n\n          if (e.target.files.length && !/safari/i.test(navigator.userAgent)) {\n            e.target.type = '';\n            e.target.type = 'file';\n          }\n        } else {\n          // ie9 fix #219\n          this.$destroy(); // eslint-disable-next-line\n\n          new this.constructor({\n            parent: this.$parent,\n            el: this.$el\n          });\n        }\n      }\n    }\n  };\n\n  function normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier\n  /* server only */\n  , shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\n    if (typeof shadowMode !== 'boolean') {\n      createInjectorSSR = createInjector;\n      createInjector = shadowMode;\n      shadowMode = false;\n    } // Vue.extend constructor export interop.\n\n\n    var options = typeof script === 'function' ? script.options : script; // render functions\n\n    if (template && template.render) {\n      options.render = template.render;\n      options.staticRenderFns = template.staticRenderFns;\n      options._compiled = true; // functional template\n\n      if (isFunctionalTemplate) {\n        options.functional = true;\n      }\n    } // scopedId\n\n\n    if (scopeId) {\n      options._scopeId = scopeId;\n    }\n\n    var hook;\n\n    if (moduleIdentifier) {\n      // server build\n      hook = function hook(context) {\n        // 2.3 injection\n        context = context || // cached call\n        this.$vnode && this.$vnode.ssrContext || // stateful\n        this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext; // functional\n        // 2.2 with runInNewContext: true\n\n        if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n          context = __VUE_SSR_CONTEXT__;\n        } // inject component styles\n\n\n        if (style) {\n          style.call(this, createInjectorSSR(context));\n        } // register component module identifier for async chunk inference\n\n\n        if (context && context._registeredComponents) {\n          context._registeredComponents.add(moduleIdentifier);\n        }\n      }; // used by ssr in case component is cached and beforeCreate\n      // never gets called\n\n\n      options._ssrRegister = hook;\n    } else if (style) {\n      hook = shadowMode ? function () {\n        style.call(this, createInjectorShadow(this.$root.$options.shadowRoot));\n      } : function (context) {\n        style.call(this, createInjector(context));\n      };\n    }\n\n    if (hook) {\n      if (options.functional) {\n        // register for functional component in vue file\n        var originalRender = options.render;\n\n        options.render = function renderWithStyleInjection(h, context) {\n          hook.call(context);\n          return originalRender(h, context);\n        };\n      } else {\n        // inject component registration as beforeCreate hook\n        var existing = options.beforeCreate;\n        options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n      }\n    }\n\n    return script;\n  }\n\n  var normalizeComponent_1 = normalizeComponent;\n  /* script */\n\n  var __vue_script__ = script;\n  /* template */\n\n  var __vue_render__ = function __vue_render__() {\n    var _vm = this;\n\n    var _h = _vm.$createElement;\n\n    var _c = _vm._self._c || _h;\n\n    return _c('input', {\n      attrs: {\n        \"type\": \"file\",\n        \"name\": _vm.$parent.name,\n        \"id\": _vm.$parent.inputId || _vm.$parent.name,\n        \"accept\": _vm.$parent.accept,\n        \"capture\": _vm.$parent.capture,\n        \"disabled\": _vm.$parent.disabled,\n        \"webkitdirectory\": _vm.$parent.directory && _vm.$parent.features.directory,\n        \"directory\": _vm.$parent.directory && _vm.$parent.features.directory,\n        \"multiple\": _vm.$parent.multiple && _vm.$parent.features.html5\n      },\n      on: {\n        \"change\": _vm.change\n      }\n    });\n  };\n\n  var __vue_staticRenderFns__ = [];\n  /* style */\n\n  var __vue_inject_styles__ = undefined;\n  /* scoped */\n\n  var __vue_scope_id__ = undefined;\n  /* module identifier */\n\n  var __vue_module_identifier__ = undefined;\n  /* functional template */\n\n  var __vue_is_functional_template__ = false;\n  /* style inject */\n\n  /* style inject SSR */\n\n  var InputFile = normalizeComponent_1({\n    render: __vue_render__,\n    staticRenderFns: __vue_staticRenderFns__\n  }, __vue_inject_styles__, __vue_script__, __vue_scope_id__, __vue_is_functional_template__, __vue_module_identifier__, undefined, undefined);\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\n    return _typeof2(obj);\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n  };\n\n  function _toConsumableArray(arr) {\n    if (Array.isArray(arr)) {\n      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n        arr2[i] = arr[i];\n      }\n\n      return arr2;\n    } else {\n      return Array.from(arr);\n    }\n  }\n\n  var CHUNK_DEFAULT_OPTIONS = {\n    headers: {},\n    action: '',\n    minSize: 1048576,\n    maxActive: 3,\n    maxRetries: 5,\n    handler: ChunkUploadHandler\n  };\n  var script$1 = {\n    components: {\n      InputFile: InputFile\n    },\n    props: {\n      inputId: {\n        type: String\n      },\n      name: {\n        type: String,\n        default: 'file'\n      },\n      accept: {\n        type: String\n      },\n      capture: {},\n      disabled: {},\n      multiple: {\n        type: Boolean\n      },\n      maximum: {\n        type: Number,\n        default: function _default() {\n          return this.multiple ? 0 : 1;\n        }\n      },\n      addIndex: {\n        type: [Boolean, Number]\n      },\n      directory: {\n        type: Boolean\n      },\n      postAction: {\n        type: String\n      },\n      putAction: {\n        type: String\n      },\n      customAction: {\n        type: Function\n      },\n      headers: {\n        type: Object,\n        default: Object\n      },\n      data: {\n        type: Object,\n        default: Object\n      },\n      timeout: {\n        type: Number,\n        default: 0\n      },\n      drop: {\n        default: false\n      },\n      dropDirectory: {\n        type: Boolean,\n        default: true\n      },\n      size: {\n        type: Number,\n        default: 0\n      },\n      extensions: {\n        default: Array\n      },\n      value: {\n        type: Array,\n        default: Array\n      },\n      thread: {\n        type: Number,\n        default: 1\n      },\n      // Chunk upload enabled\n      chunkEnabled: {\n        type: Boolean,\n        default: false\n      },\n      // Chunk upload properties\n      chunk: {\n        type: Object,\n        default: function _default() {\n          return CHUNK_DEFAULT_OPTIONS;\n        }\n      }\n    },\n    data: function data() {\n      return {\n        files: this.value,\n        features: {\n          html5: true,\n          directory: false,\n          drop: false\n        },\n        active: false,\n        dropActive: false,\n        uploading: 0,\n        destroy: false\n      };\n    },\n\n    /**\n     * mounted\n     * @return {[type]} [description]\n     */\n    mounted: function mounted() {\n      var input = document.createElement('input');\n      input.type = 'file';\n      input.multiple = true; // html5 \n\n      if (window.FormData && input.files) {\n        // \n        if (typeof input.webkitdirectory === 'boolean' || typeof input.directory === 'boolean') {\n          this.features.directory = true;\n        } // \n\n\n        if (this.features.html5 && typeof input.ondrop !== 'undefined') {\n          this.features.drop = true;\n        }\n      } else {\n        this.features.html5 = false;\n      } // files \n\n\n      this.maps = {};\n\n      if (this.files) {\n        for (var i = 0; i < this.files.length; i++) {\n          var file = this.files[i];\n          this.maps[file.id] = file;\n        }\n      }\n\n      this.$nextTick(function () {\n        var _this = this; // \n\n\n        if (this.$parent) {\n          this.$parent.$forceUpdate(); // \n\n          this.$parent.$nextTick(function () {\n            _this.watchDrop(_this.drop);\n          });\n        } else {\n          // \n          this.watchDrop(this.drop);\n        }\n      });\n    },\n\n    /**\n     * beforeDestroy\n     * @return {[type]} [description]\n     */\n    beforeDestroy: function beforeDestroy() {\n      // \n      this.destroy = true; // \n\n      this.active = false; // \n\n      this.watchDrop(false);\n    },\n    computed: {\n      /**\n       * uploading \n       * @return {[type]} [description]\n       */\n\n      /**\n       * uploaded \n       * @return {[type]} [description]\n       */\n      uploaded: function uploaded() {\n        var file = void 0;\n\n        for (var i = 0; i < this.files.length; i++) {\n          file = this.files[i];\n\n          if (file.fileObject && !file.error && !file.success) {\n            return false;\n          }\n        }\n\n        return true;\n      },\n      chunkOptions: function chunkOptions() {\n        return Object.assign(CHUNK_DEFAULT_OPTIONS, this.chunk);\n      },\n      className: function className() {\n        return ['file-uploads', this.features.html5 ? 'file-uploads-html5' : 'file-uploads-html4', this.features.directory && this.directory ? 'file-uploads-directory' : undefined, this.features.drop && this.drop ? 'file-uploads-drop' : undefined, this.disabled ? 'file-uploads-disabled' : undefined];\n      }\n    },\n    watch: {\n      active: function active(_active) {\n        this.watchActive(_active);\n      },\n      dropActive: function dropActive() {\n        if (this.$parent) {\n          this.$parent.$forceUpdate();\n        }\n      },\n      drop: function drop(value) {\n        this.watchDrop(value);\n      },\n      value: function value(files) {\n        if (this.files === files) {\n          return;\n        }\n\n        this.files = files;\n        var oldMaps = this.maps; //  maps \n\n        this.maps = {};\n\n        for (var i = 0; i < this.files.length; i++) {\n          var file = this.files[i];\n          this.maps[file.id] = file;\n        } // add, update\n\n\n        for (var key in this.maps) {\n          var newFile = this.maps[key];\n          var oldFile = oldMaps[key];\n\n          if (newFile !== oldFile) {\n            this.emitFile(newFile, oldFile);\n          }\n        } // delete\n\n\n        for (var _key in oldMaps) {\n          if (!this.maps[_key]) {\n            this.emitFile(undefined, oldMaps[_key]);\n          }\n        }\n      }\n    },\n    methods: {\n      // \n      clear: function clear() {\n        if (this.files.length) {\n          var files = this.files;\n          this.files = []; // \n\n          this.maps = {}; // \n\n          this.emitInput();\n\n          for (var i = 0; i < files.length; i++) {\n            this.emitFile(undefined, files[i]);\n          }\n        }\n\n        return true;\n      },\n      // \n      get: function get(id) {\n        if (!id) {\n          return false;\n        }\n\n        if ((typeof id === 'undefined' ? 'undefined' : _typeof(id)) === 'object') {\n          return this.maps[id.id] || false;\n        }\n\n        return this.maps[id] || false;\n      },\n      // \n      add: function add(_files) {\n        var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.addIndex;\n        var files = _files;\n        var isArray = files instanceof Array; // \n\n        if (!isArray) {\n          files = [files];\n        } // \n\n\n        var addFiles = [];\n\n        for (var i = 0; i < files.length; i++) {\n          var file = files[i];\n\n          if (this.features.html5 && file instanceof Blob) {\n            file = {\n              file: file,\n              size: file.size,\n              name: file.webkitRelativePath || file.relativePath || file.name || 'unknown',\n              type: file.type\n            };\n          }\n\n          var fileObject = false;\n          if (file.fileObject === false) ;else if (file.fileObject) {\n            fileObject = true;\n          } else if (typeof Element !== 'undefined' && file.el instanceof Element) {\n            fileObject = true;\n          } else if (typeof Blob !== 'undefined' && file.file instanceof Blob) {\n            fileObject = true;\n          }\n\n          if (fileObject) {\n            file = _extends({\n              fileObject: true,\n              size: -1,\n              name: 'Filename',\n              type: '',\n              active: false,\n              error: '',\n              success: false,\n              putAction: this.putAction,\n              postAction: this.postAction,\n              timeout: this.timeout\n            }, file, {\n              response: {},\n              progress: '0.00',\n              // \n              speed: 0 // \n              // xhr: false,                // \n              // iframe: false,             // \n\n            });\n            file.data = _extends({}, this.data, file.data ? file.data : {});\n            file.headers = _extends({}, this.headers, file.headers ? file.headers : {});\n          } //  id\n\n\n          if (!file.id) {\n            file.id = Math.random().toString(36).substr(2);\n          }\n\n          if (this.emitFilter(file, undefined)) {\n            continue;\n          } // \n\n\n          if (this.maximum > 1 && addFiles.length + this.files.length >= this.maximum) {\n            break;\n          }\n\n          addFiles.push(file); // \n\n          if (this.maximum === 1) {\n            break;\n          }\n        } // \n\n\n        if (!addFiles.length) {\n          return false;\n        } //  1 \n\n\n        if (this.maximum === 1) {\n          this.clear();\n        } //  files\n\n\n        var newFiles = void 0;\n\n        if (index === true || index === 0) {\n          newFiles = addFiles.concat(this.files);\n        } else if (index) {\n          var _newFiles;\n\n          newFiles = this.files.concat([]);\n\n          (_newFiles = newFiles).splice.apply(_newFiles, [index, 0].concat(addFiles));\n        } else {\n          newFiles = this.files.concat(addFiles);\n        }\n\n        this.files = newFiles; // \n\n        for (var _i = 0; _i < addFiles.length; _i++) {\n          var _file2 = addFiles[_i];\n          this.maps[_file2.id] = _file2;\n        } // \n\n\n        this.emitInput();\n\n        for (var _i2 = 0; _i2 < addFiles.length; _i2++) {\n          this.emitFile(addFiles[_i2], undefined);\n        }\n\n        return isArray ? addFiles : addFiles[0];\n      },\n      // \n      addInputFile: function addInputFile(el) {\n        var files = [];\n\n        if (el.files) {\n          for (var i = 0; i < el.files.length; i++) {\n            var file = el.files[i];\n            files.push({\n              size: file.size,\n              name: file.webkitRelativePath || file.relativePath || file.name,\n              type: file.type,\n              file: file\n            });\n          }\n        } else {\n          var names = el.value.replace(/\\\\/g, '/').split('/');\n          delete el.__vuex__;\n          files.push({\n            name: names[names.length - 1],\n            el: el\n          });\n        }\n\n        return this.add(files);\n      },\n      //  DataTransfer\n      addDataTransfer: function addDataTransfer(dataTransfer) {\n        var _this2 = this;\n\n        var files = [];\n\n        if (dataTransfer.items && dataTransfer.items.length) {\n          var items = [];\n\n          for (var i = 0; i < dataTransfer.items.length; i++) {\n            var item = dataTransfer.items[i];\n\n            if (item.getAsEntry) {\n              item = item.getAsEntry() || item.getAsFile();\n            } else if (item.webkitGetAsEntry) {\n              item = item.webkitGetAsEntry() || item.getAsFile();\n            } else {\n              item = item.getAsFile();\n            }\n\n            if (item) {\n              items.push(item);\n            }\n          }\n\n          return new Promise(function (resolve, reject) {\n            var forEach = function forEach(i) {\n              var item = items[i]; //   \n\n              if (!item || _this2.maximum > 0 && files.length >= _this2.maximum) {\n                return resolve(_this2.add(files));\n              }\n\n              _this2.getEntry(item).then(function (results) {\n                files.push.apply(files, _toConsumableArray(results));\n                forEach(i + 1);\n              });\n            };\n\n            forEach(0);\n          });\n        }\n\n        if (dataTransfer.files.length) {\n          for (var _i3 = 0; _i3 < dataTransfer.files.length; _i3++) {\n            files.push(dataTransfer.files[_i3]);\n\n            if (this.maximum > 0 && files.length >= this.maximum) {\n              break;\n            }\n          }\n\n          return Promise.resolve(this.add(files));\n        }\n\n        return Promise.resolve([]);\n      },\n      //  entry\n      getEntry: function getEntry(entry) {\n        var _this3 = this;\n\n        var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n        return new Promise(function (resolve, reject) {\n          if (entry.isFile) {\n            entry.file(function (file) {\n              resolve([{\n                size: file.size,\n                name: path + file.name,\n                type: file.type,\n                file: file\n              }]);\n            });\n          } else if (entry.isDirectory && _this3.dropDirectory) {\n            var files = [];\n            var dirReader = entry.createReader();\n\n            var readEntries = function readEntries() {\n              dirReader.readEntries(function (entries) {\n                var forEach = function forEach(i) {\n                  if (!entries[i] && i === 0 || _this3.maximum > 0 && files.length >= _this3.maximum) {\n                    return resolve(files);\n                  }\n\n                  if (!entries[i]) {\n                    return readEntries();\n                  }\n\n                  _this3.getEntry(entries[i], path + entry.name + '/').then(function (results) {\n                    files.push.apply(files, _toConsumableArray(results));\n                    forEach(i + 1);\n                  });\n                };\n\n                forEach(0);\n              });\n            };\n\n            readEntries();\n          } else {\n            resolve([]);\n          }\n        });\n      },\n      replace: function replace(id1, id2) {\n        var file1 = this.get(id1);\n        var file2 = this.get(id2);\n\n        if (!file1 || !file2 || file1 === file2) {\n          return false;\n        }\n\n        var files = this.files.concat([]);\n        var index1 = files.indexOf(file1);\n        var index2 = files.indexOf(file2);\n\n        if (index1 === -1 || index2 === -1) {\n          return false;\n        }\n\n        files[index1] = file2;\n        files[index2] = file1;\n        this.files = files;\n        this.emitInput();\n        return true;\n      },\n      // \n      remove: function remove(id) {\n        var file = this.get(id);\n\n        if (file) {\n          if (this.emitFilter(undefined, file)) {\n            return false;\n          }\n\n          var files = this.files.concat([]);\n          var index = files.indexOf(file);\n\n          if (index === -1) {\n            console.error('remove', file);\n            return false;\n          }\n\n          files.splice(index, 1);\n          this.files = files; // \n\n          delete this.maps[file.id]; // \n\n          this.emitInput();\n          this.emitFile(undefined, file);\n        }\n\n        return file;\n      },\n      // \n      update: function update(id, data) {\n        var file = this.get(id);\n\n        if (file) {\n          var newFile = _extends({}, file, data); // \n\n\n          if (file.fileObject && file.active && !newFile.active && !newFile.error && !newFile.success) {\n            newFile.error = 'abort';\n          }\n\n          if (this.emitFilter(newFile, file)) {\n            return false;\n          }\n\n          var files = this.files.concat([]);\n          var index = files.indexOf(file);\n\n          if (index === -1) {\n            console.error('update', file);\n            return false;\n          }\n\n          files.splice(index, 1, newFile);\n          this.files = files; //      id)\n\n          delete this.maps[file.id];\n          this.maps[newFile.id] = newFile; // \n\n          this.emitInput();\n          this.emitFile(newFile, file);\n          return newFile;\n        }\n\n        return false;\n      },\n      //   \n      emitFilter: function emitFilter(newFile, oldFile) {\n        var isPrevent = false;\n        this.$emit('input-filter', newFile, oldFile, function () {\n          isPrevent = true;\n          return isPrevent;\n        });\n        return isPrevent;\n      },\n      //   \n      emitFile: function emitFile(newFile, oldFile) {\n        this.$emit('input-file', newFile, oldFile);\n\n        if (newFile && newFile.fileObject && newFile.active && (!oldFile || !oldFile.active)) {\n          this.uploading++; // \n\n          this.$nextTick(function () {\n            var _this4 = this;\n\n            setTimeout(function () {\n              _this4.upload(newFile).then(function () {\n                // eslint-disable-next-line\n                newFile = _this4.get(newFile);\n\n                if (newFile && newFile.fileObject) {\n                  _this4.update(newFile, {\n                    active: false,\n                    success: !newFile.error\n                  });\n                }\n              }).catch(function (e) {\n                _this4.update(newFile, {\n                  active: false,\n                  success: false,\n                  error: e.code || e.error || e.message || e\n                });\n              });\n            }, parseInt(Math.random() * 50 + 50, 10));\n          });\n        } else if ((!newFile || !newFile.fileObject || !newFile.active) && oldFile && oldFile.fileObject && oldFile.active) {\n          // \n          this.uploading--;\n        } // \n\n\n        if (this.active && (Boolean(newFile) !== Boolean(oldFile) || newFile.active !== oldFile.active)) {\n          this.watchActive(true);\n        }\n      },\n      emitInput: function emitInput() {\n        this.$emit('input', this.files);\n      },\n      // \n      upload: function upload(id) {\n        var file = this.get(id); // \n\n        if (!file) {\n          return Promise.reject('not_exists');\n        } // \n\n\n        if (!file.fileObject) {\n          return Promise.reject('file_object');\n        } // \n\n\n        if (file.error) {\n          return Promise.reject(file.error);\n        } // \n\n\n        if (file.success) {\n          return Promise.resolve(file);\n        } // \n\n\n        var extensions = this.extensions;\n\n        if (extensions && (extensions.length || typeof extensions.length === 'undefined')) {\n          if ((typeof extensions === 'undefined' ? 'undefined' : _typeof(extensions)) !== 'object' || !(extensions instanceof RegExp)) {\n            if (typeof extensions === 'string') {\n              extensions = extensions.split(',').map(function (value) {\n                return value.trim();\n              }).filter(function (value) {\n                return value;\n              });\n            }\n\n            extensions = new RegExp('\\\\.(' + extensions.join('|').replace(/\\./g, '\\\\.') + ')$', 'i');\n          }\n\n          if (file.name.search(extensions) === -1) {\n            return Promise.reject('extension');\n          }\n        } // \n\n\n        if (this.size > 0 && file.size >= 0 && file.size > this.size) {\n          return Promise.reject('size');\n        }\n\n        if (this.customAction) {\n          return this.customAction(file, this);\n        }\n\n        if (this.features.html5) {\n          if (this.shouldUseChunkUpload(file)) {\n            return this.uploadChunk(file);\n          }\n\n          if (file.putAction) {\n            return this.uploadPut(file);\n          }\n\n          if (file.postAction) {\n            return this.uploadHtml5(file);\n          }\n        }\n\n        if (file.postAction) {\n          return this.uploadHtml4(file);\n        }\n\n        return Promise.reject('No action configured');\n      },\n\n      /**\n       * Whether this file should be uploaded using chunk upload or not\n       *\n       * @param Object file\n       */\n      shouldUseChunkUpload: function shouldUseChunkUpload(file) {\n        return this.chunkEnabled && !!this.chunkOptions.handler && file.size > this.chunkOptions.minSize;\n      },\n\n      /**\n       * Upload a file using Chunk method\n       *\n       * @param File file\n       */\n      uploadChunk: function uploadChunk(file) {\n        var HandlerClass = this.chunkOptions.handler;\n        file.chunk = new HandlerClass(file, this.chunkOptions);\n        return file.chunk.upload();\n      },\n      uploadPut: function uploadPut(file) {\n        var querys = [];\n        var value = void 0;\n\n        for (var key in file.data) {\n          value = file.data[key];\n\n          if (value !== null && value !== undefined) {\n            querys.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n          }\n        }\n\n        var queryString = querys.length ? (file.putAction.indexOf('?') === -1 ? '?' : '&') + querys.join('&') : '';\n        var xhr = new XMLHttpRequest();\n        xhr.open('PUT', file.putAction + queryString);\n        return this.uploadXhr(xhr, file, file.file);\n      },\n      uploadHtml5: function uploadHtml5(file) {\n        var form = new window.FormData();\n        var value = void 0;\n\n        for (var key in file.data) {\n          value = file.data[key];\n\n          if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && typeof value.toString !== 'function') {\n            if (value instanceof File) {\n              form.append(key, value, value.name);\n            } else {\n              form.append(key, JSON.stringify(value));\n            }\n          } else if (value !== null && value !== undefined) {\n            form.append(key, value);\n          }\n        }\n\n        form.append(this.name, file.file, file.file.filename || file.name);\n        var xhr = new XMLHttpRequest();\n        xhr.open('POST', file.postAction);\n        return this.uploadXhr(xhr, file, form);\n      },\n      uploadXhr: function uploadXhr(xhr, _file, body) {\n        var _this5 = this;\n\n        var file = _file;\n        var speedTime = 0;\n        var speedLoaded = 0; // \n\n        xhr.upload.onprogress = function (e) {\n          //   \n          file = _this5.get(file);\n\n          if (!e.lengthComputable || !file || !file.fileObject || !file.active) {\n            return;\n          } //   \n\n\n          var speedTime2 = Math.round(Date.now() / 1000);\n\n          if (speedTime2 === speedTime) {\n            return;\n          }\n\n          speedTime = speedTime2;\n          file = _this5.update(file, {\n            progress: (e.loaded / e.total * 100).toFixed(2),\n            speed: e.loaded - speedLoaded\n          });\n          speedLoaded = e.loaded;\n        }; // \n\n\n        var interval = setInterval(function () {\n          file = _this5.get(file);\n\n          if (file && file.fileObject && !file.success && !file.error && file.active) {\n            return;\n          }\n\n          if (interval) {\n            clearInterval(interval);\n            interval = false;\n          }\n\n          try {\n            xhr.abort();\n            xhr.timeout = 1;\n          } catch (e) {}\n        }, 100);\n        return new Promise(function (resolve, reject) {\n          var complete = void 0;\n\n          var fn = function fn(e) {\n            // \n            if (complete) {\n              return;\n            }\n\n            complete = true;\n\n            if (interval) {\n              clearInterval(interval);\n              interval = false;\n            }\n\n            file = _this5.get(file); // \n\n            if (!file) {\n              return reject('not_exists');\n            } // \n\n\n            if (!file.fileObject) {\n              return reject('file_object');\n            } // \n\n\n            if (file.error) {\n              return reject(file.error);\n            } // \n\n\n            if (!file.active) {\n              return reject('abort');\n            } //  \n\n\n            if (file.success) {\n              return resolve(file);\n            }\n\n            var data = {};\n\n            switch (e.type) {\n              case 'timeout':\n              case 'abort':\n                data.error = e.type;\n                break;\n\n              case 'error':\n                if (!xhr.status) {\n                  data.error = 'network';\n                } else if (xhr.status >= 500) {\n                  data.error = 'server';\n                } else if (xhr.status >= 400) {\n                  data.error = 'denied';\n                }\n\n                break;\n\n              default:\n                if (xhr.status >= 500) {\n                  data.error = 'server';\n                } else if (xhr.status >= 400) {\n                  data.error = 'denied';\n                } else {\n                  data.progress = '100.00';\n                }\n\n            }\n\n            if (xhr.responseText) {\n              var contentType = xhr.getResponseHeader('Content-Type');\n\n              if (contentType && contentType.indexOf('/json') !== -1) {\n                data.response = JSON.parse(xhr.responseText);\n              } else {\n                data.response = xhr.responseText;\n              }\n            } // \n\n\n            file = _this5.update(file, data); // \n\n            if (file.error) {\n              return reject(file.error);\n            } // \n\n\n            return resolve(file);\n          }; // \n\n\n          xhr.onload = fn;\n          xhr.onerror = fn;\n          xhr.onabort = fn;\n          xhr.ontimeout = fn; // \n\n          if (file.timeout) {\n            xhr.timeout = file.timeout;\n          } // headers\n\n\n          for (var key in file.headers) {\n            xhr.setRequestHeader(key, file.headers[key]);\n          } //  xhr\n\n\n          file = _this5.update(file, {\n            xhr: xhr\n          }); // \n\n          xhr.send(body);\n        });\n      },\n      uploadHtml4: function uploadHtml4(_file) {\n        var _this6 = this;\n\n        var file = _file;\n\n        var onKeydown = function onKeydown(e) {\n          if (e.keyCode === 27) {\n            e.preventDefault();\n          }\n        };\n\n        var iframe = document.createElement('iframe');\n        iframe.id = 'upload-iframe-' + file.id;\n        iframe.name = 'upload-iframe-' + file.id;\n        iframe.src = 'about:blank';\n        iframe.setAttribute('style', 'width:1px;height:1px;top:-999em;position:absolute; margin-top:-999em;');\n        var form = document.createElement('form');\n        form.action = file.postAction;\n        form.name = 'upload-form-' + file.id;\n        form.setAttribute('method', 'POST');\n        form.setAttribute('target', 'upload-iframe-' + file.id);\n        form.setAttribute('enctype', 'multipart/form-data');\n        var value = void 0;\n        var input = void 0;\n\n        for (var key in file.data) {\n          value = file.data[key];\n\n          if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && typeof value.toString !== 'function') {\n            value = JSON.stringify(value);\n          }\n\n          if (value !== null && value !== undefined) {\n            input = document.createElement('input');\n            input.type = 'hidden';\n            input.name = key;\n            input.value = value;\n            form.appendChild(input);\n          }\n        }\n\n        form.appendChild(file.el);\n        document.body.appendChild(iframe).appendChild(form);\n\n        var getResponseData = function getResponseData() {\n          var doc = void 0;\n\n          try {\n            if (iframe.contentWindow) {\n              doc = iframe.contentWindow.document;\n            }\n          } catch (err) {}\n\n          if (!doc) {\n            try {\n              doc = iframe.contentDocument ? iframe.contentDocument : iframe.document;\n            } catch (err) {\n              doc = iframe.document;\n            }\n          }\n\n          if (doc && doc.body) {\n            return doc.body.innerHTML;\n          }\n\n          return null;\n        };\n\n        return new Promise(function (resolve, reject) {\n          setTimeout(function () {\n            file = _this6.update(file, {\n              iframe: iframe\n            }); // \n\n            if (!file) {\n              return reject('not_exists');\n            } // \n\n\n            var interval = setInterval(function () {\n              file = _this6.get(file);\n\n              if (file && file.fileObject && !file.success && !file.error && file.active) {\n                return;\n              }\n\n              if (interval) {\n                clearInterval(interval);\n                interval = false;\n              }\n\n              iframe.onabort({\n                type: file ? 'abort' : 'not_exists'\n              });\n            }, 100);\n            var complete = void 0;\n\n            var fn = function fn(e) {\n              // \n              if (complete) {\n                return;\n              }\n\n              complete = true;\n\n              if (interval) {\n                clearInterval(interval);\n                interval = false;\n              } //  esc \n\n\n              document.body.removeEventListener('keydown', onKeydown);\n              file = _this6.get(file); // \n\n              if (!file) {\n                return reject('not_exists');\n              } // \n\n\n              if (!file.fileObject) {\n                return reject('file_object');\n              } // \n\n\n              if (file.error) {\n                return reject(file.error);\n              } // \n\n\n              if (!file.active) {\n                return reject('abort');\n              } //  \n\n\n              if (file.success) {\n                return resolve(file);\n              }\n\n              var response = getResponseData();\n              var data = {};\n\n              switch (e.type) {\n                case 'abort':\n                  data.error = 'abort';\n                  break;\n\n                case 'error':\n                  if (file.error) {\n                    data.error = file.error;\n                  } else if (response === null) {\n                    data.error = 'network';\n                  } else {\n                    data.error = 'denied';\n                  }\n\n                  break;\n\n                default:\n                  if (file.error) {\n                    data.error = file.error;\n                  } else if (data === null) {\n                    data.error = 'network';\n                  } else {\n                    data.progress = '100.00';\n                  }\n\n              }\n\n              if (response !== null) {\n                if (response && response.substr(0, 1) === '{' && response.substr(response.length - 1, 1) === '}') {\n                  try {\n                    response = JSON.parse(response);\n                  } catch (err) {}\n                }\n\n                data.response = response;\n              } // \n\n\n              file = _this6.update(file, data);\n\n              if (file.error) {\n                return reject(file.error);\n              } // \n\n\n              return resolve(file);\n            }; // \n\n\n            iframe.onload = fn;\n            iframe.onerror = fn;\n            iframe.onabort = fn; //  esc \n\n            document.body.addEventListener('keydown', onKeydown); // \n\n            form.submit();\n          }, 50);\n        }).then(function (res) {\n          iframe.parentNode && iframe.parentNode.removeChild(iframe);\n          return res;\n        }).catch(function (res) {\n          iframe.parentNode && iframe.parentNode.removeChild(iframe);\n          return res;\n        });\n      },\n      watchActive: function watchActive(active) {\n        var file = void 0;\n        var index = 0;\n\n        while (file = this.files[index]) {\n          index++;\n          if (!file.fileObject) ;else if (active && !this.destroy) {\n            if (this.uploading >= this.thread || this.uploading && !this.features.html5) {\n              break;\n            }\n\n            if (!file.active && !file.error && !file.success) {\n              this.update(file, {\n                active: true\n              });\n            }\n          } else {\n            if (file.active) {\n              this.update(file, {\n                active: false\n              });\n            }\n          }\n        }\n\n        if (this.uploading === 0) {\n          this.active = false;\n        }\n      },\n      watchDrop: function watchDrop(_el) {\n        var el = _el;\n\n        if (!this.features.drop) {\n          return;\n        } // \n\n\n        if (this.dropElement) {\n          try {\n            document.removeEventListener('dragenter', this.onDragenter, false);\n            document.removeEventListener('dragleave', this.onDragleave, false);\n            document.removeEventListener('drop', this.onDocumentDrop, false);\n            this.dropElement.removeEventListener('dragover', this.onDragover, false);\n            this.dropElement.removeEventListener('drop', this.onDrop, false);\n          } catch (e) {}\n        }\n\n        if (!el) {\n          el = false;\n        } else if (typeof el === 'string') {\n          el = document.querySelector(el) || this.$root.$el.querySelector(el);\n        } else if (el === true) {\n          el = this.$parent.$el;\n        }\n\n        this.dropElement = el;\n\n        if (this.dropElement) {\n          document.addEventListener('dragenter', this.onDragenter, false);\n          document.addEventListener('dragleave', this.onDragleave, false);\n          document.addEventListener('drop', this.onDocumentDrop, false);\n          this.dropElement.addEventListener('dragover', this.onDragover, false);\n          this.dropElement.addEventListener('drop', this.onDrop, false);\n        }\n      },\n      onDragenter: function onDragenter(e) {\n        e.preventDefault();\n\n        if (this.dropActive) {\n          return;\n        }\n\n        if (!e.dataTransfer) {\n          return;\n        }\n\n        var dt = e.dataTransfer;\n\n        if (dt.files && dt.files.length) {\n          this.dropActive = true;\n        } else if (!dt.types) {\n          this.dropActive = true;\n        } else if (dt.types.indexOf && dt.types.indexOf('Files') !== -1) {\n          this.dropActive = true;\n        } else if (dt.types.contains && dt.types.contains('Files')) {\n          this.dropActive = true;\n        }\n      },\n      onDragleave: function onDragleave(e) {\n        e.preventDefault();\n\n        if (!this.dropActive) {\n          return;\n        }\n\n        if (e.target.nodeName === 'HTML' || e.target === e.explicitOriginalTarget || !e.fromElement && (e.clientX <= 0 || e.clientY <= 0 || e.clientX >= window.innerWidth || e.clientY >= window.innerHeight)) {\n          this.dropActive = false;\n        }\n      },\n      onDragover: function onDragover(e) {\n        e.preventDefault();\n      },\n      onDocumentDrop: function onDocumentDrop() {\n        this.dropActive = false;\n      },\n      onDrop: function onDrop(e) {\n        e.preventDefault();\n        this.addDataTransfer(e.dataTransfer);\n      }\n    }\n  };\n  var isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\n\n  function createInjector(context) {\n    return function (id, style) {\n      return addStyle(id, style);\n    };\n  }\n\n  var HEAD = document.head || document.getElementsByTagName('head')[0];\n  var styles = {};\n\n  function addStyle(id, css) {\n    var group = isOldIE ? css.media || 'default' : id;\n    var style = styles[group] || (styles[group] = {\n      ids: new Set(),\n      styles: []\n    });\n\n    if (!style.ids.has(id)) {\n      style.ids.add(id);\n      var code = css.source;\n\n      if (css.map) {\n        // https://developer.chrome.com/devtools/docs/javascript-debugging\n        // this makes source maps inside style tags work properly in Chrome\n        code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'; // http://stackoverflow.com/a/26603875\n\n        code += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) + ' */';\n      }\n\n      if (!style.element) {\n        style.element = document.createElement('style');\n        style.element.type = 'text/css';\n        if (css.media) style.element.setAttribute('media', css.media);\n        HEAD.appendChild(style.element);\n      }\n\n      if ('styleSheet' in style.element) {\n        style.styles.push(code);\n        style.element.styleSheet.cssText = style.styles.filter(Boolean).join('\\n');\n      } else {\n        var index = style.ids.size - 1;\n        var textNode = document.createTextNode(code);\n        var nodes = style.element.childNodes;\n        if (nodes[index]) style.element.removeChild(nodes[index]);\n        if (nodes.length) style.element.insertBefore(textNode, nodes[index]);else style.element.appendChild(textNode);\n      }\n    }\n  }\n\n  var browser = createInjector;\n  /* script */\n\n  var __vue_script__$1 = script$1;\n  /* template */\n\n  var __vue_render__$1 = function __vue_render__() {\n    var _vm = this;\n\n    var _h = _vm.$createElement;\n\n    var _c = _vm._self._c || _h;\n\n    return _c('span', {\n      class: _vm.className\n    }, [_vm._t(\"default\"), _vm._v(\" \"), _c('label', {\n      attrs: {\n        \"for\": _vm.inputId || _vm.name\n      }\n    }), _vm._v(\" \"), _c('input-file')], 2);\n  };\n\n  var __vue_staticRenderFns__$1 = [];\n  /* style */\n\n  var __vue_inject_styles__$1 = function __vue_inject_styles__(inject) {\n    if (!inject) return;\n    inject(\"data-v-76d380b6_0\", {\n      source: \".file-uploads{overflow:hidden;position:relative;text-align:center;display:inline-block}.file-uploads.file-uploads-html4 input,.file-uploads.file-uploads-html5 label{background:#fff;opacity:0;font-size:20em;z-index:1;top:0;left:0;right:0;bottom:0;position:absolute;width:100%;height:100%}.file-uploads.file-uploads-html4 label,.file-uploads.file-uploads-html5 input{background:rgba(255,255,255,0);overflow:hidden;position:fixed;width:1px;height:1px;z-index:-1;opacity:0}\",\n      map: undefined,\n      media: undefined\n    });\n  };\n  /* scoped */\n\n\n  var __vue_scope_id__$1 = undefined;\n  /* module identifier */\n\n  var __vue_module_identifier__$1 = undefined;\n  /* functional template */\n\n  var __vue_is_functional_template__$1 = false;\n  /* style inject SSR */\n\n  var FileUpload = normalizeComponent_1({\n    render: __vue_render__$1,\n    staticRenderFns: __vue_staticRenderFns__$1\n  }, __vue_inject_styles__$1, __vue_script__$1, __vue_scope_id__$1, __vue_is_functional_template__$1, __vue_module_identifier__$1, browser, undefined);\n  var FileUpload$1 = /*#__PURE__*/Object.freeze({\n    default: FileUpload\n  });\n\n  function getCjsExportFromNamespace(n) {\n    return n && n['default'] || n;\n  }\n\n  var require$$0 = getCjsExportFromNamespace(FileUpload$1);\n  var src = require$$0;\n  return src;\n});"],"sourceRoot":""}