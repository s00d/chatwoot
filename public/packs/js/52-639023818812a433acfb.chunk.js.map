{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.object.from-entries.js","webpack:///./app/javascript/dashboard/composables/useI18n.js","webpack:///./app/javascript/dashboard/composables/index.js","webpack:///./app/javascript/dashboard/composables/store.js","webpack:///./app/javascript/dashboard/composables/route.js","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/categories/EditCategory.vue?6e6f","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/categories/EditCategory.vue?1634","webpack:///app/javascript/dashboard/routes/dashboard/helpcenter/pages/categories/EditCategory.vue","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/categories/EditCategory.vue?9709","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/categories/EditCategory.vue","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/categories/CategoryListItem.vue?a8eb","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/categories/ListAllCategories.vue?1c2a","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/categories/CategoryListItem.vue?78a1","webpack:///app/javascript/dashboard/routes/dashboard/helpcenter/pages/categories/CategoryListItem.vue","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/categories/CategoryListItem.vue","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/categories/CategoryListItem.vue?fa9b","webpack:///ListAllCategories.vue","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/categories/ListAllCategories.vue?4a8b","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/categories/ListAllCategories.vue"],"names":["$","iterate","createProperty","target","stat","fromEntries","iterable","obj","k","v","AS_ENTRIES","i18nInstance","VueI18n","useI18n","Error","i18n","instance","getCurrentInstance","vm","proxy","Vue","locale","computed","get","set","t","$t","bind","tc","$tc","d","$d","te","$te","n","$n","useTrack","$track","useAlert","message","action","bus","$emit","useStore","$store","useStoreGetters","store","Object","keys","getters","map","getter","useRoute","route","reactive","assign","$root","$route","watchEffect","useRouter","router","$router","component","_vm","this","_c","_self","attrs","show","onClose","on","$event","_v","staticClass","preventDefault","onUpdate","apply","arguments","_s","portalName","$v","name","$error","category","icon","changeName","onClickInsertEmoji","class","error","slug","slugError","$touch","model","value","callback","$$v","trim","expression","directives","rawName","domProps","composing","description","editCategory","_m","_l","key","id","meta","articles_count","modifiers","deleteCategory","categories","length","_e","selectedCategory","currentLocaleCode","showEditCategoryModal","showAddCategoryModal","track","currentPortalSlug","params","portalSlug","categoriesByLocaleCode","currentPortal","currentPortalName","allLocales","config","allowed_locales","allowedLocaleCodes","code","fetchCategoriesByPortalSlugAndLocale","localeCode","dispatch","alertMessage","categoryId","DELETE_CATEGORY","hasArticles","errorMessage","event","_setup","_setupProxy","changeCurrentCategory","allowedLocaleCode","openAddCategoryModal","CategoryListItem","openEditCategoryModal","EditCategory","closeEditCategoryModal","AddCategory","closeAddCategoryModal"],"mappings":"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","file":"js/52-639023818812a433acfb.chunk.js","sourcesContent":["var $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar createProperty = require('../internals/create-property');\n\n// `Object.fromEntries` method\n// https://github.com/tc39/proposal-object-from-entries\n$({ target: 'Object', stat: true }, {\n  fromEntries: function fromEntries(iterable) {\n    var obj = {};\n    iterate(iterable, function (k, v) {\n      createProperty(obj, k, v);\n    }, { AS_ENTRIES: true });\n    return obj;\n  }\n});\n","import { computed, getCurrentInstance } from 'vue';\nimport Vue from 'vue';\nimport VueI18n from 'vue-i18n';\n\nlet i18nInstance = VueI18n;\n\nexport function useI18n() {\n  if (!i18nInstance) throw new Error('vue-i18n not initialized');\n\n  const i18n = i18nInstance;\n\n  const instance = getCurrentInstance();\n  const vm = instance?.proxy || instance || new Vue({});\n\n  const locale = computed({\n    get() {\n      return i18n.locale;\n    },\n    set(v) {\n      i18n.locale = v;\n    },\n  });\n\n  return {\n    locale,\n    t: vm.$t.bind(vm),\n    tc: vm.$tc.bind(vm),\n    d: vm.$d.bind(vm),\n    te: vm.$te.bind(vm),\n    n: vm.$n.bind(vm),\n  };\n}\n","import { getCurrentInstance } from 'vue';\n\nexport const useTrack = () => {\n  const vm = getCurrentInstance();\n  if (!vm) throw new Error('must be called in setup');\n\n  return vm.proxy.$track;\n};\n\nexport function useAlert(message, action) {\n  bus.$emit('newToastMessage', message, action);\n}\n","import { computed } from 'vue';\nimport { getCurrentInstance } from 'vue';\n\nexport const useStore = () => {\n  const vm = getCurrentInstance();\n  if (!vm) throw new Error('must be called in setup');\n  return vm.proxy.$store;\n};\n\nexport const useStoreGetters = () => {\n  const store = useStore();\n  return Object.fromEntries(\n    Object.keys(store.getters).map(getter => [\n      getter,\n      computed(() => store.getters[getter]),\n    ])\n  );\n};\n\nexport const mapGetter = key => {\n  const store = useStore();\n  return computed(() => store.getters[key]);\n};\n","import { getCurrentInstance, reactive, watchEffect } from 'vue';\n\n/**\n * Returns the current route location. Equivalent to using `$route` inside\n * templates.\n */\nexport function useRoute() {\n  const instance = getCurrentInstance();\n  const route = reactive(Object.assign({}, instance.proxy.$root.$route));\n  watchEffect(() => {\n    Object.assign(route, instance.proxy.$root.$route);\n  });\n\n  return route;\n}\n\n/**\n * Returns the router instance. Equivalent to using `$router` inside\n * templates.\n */\nexport function useRouter() {\n  const instance = getCurrentInstance();\n  const router = instance.proxy.$root.$router;\n  watchEffect(() => {\n    if (router) {\n      Object.assign(router, instance.proxy.$root.$router);\n    }\n  });\n  return router;\n}\n","export * from \"-!../../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCategory.vue?vue&type=style&index=0&id=164550a9&prod&scoped=true&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('woot-modal',{attrs:{\"show\":_vm.show,\"on-close\":_vm.onClose},on:{\"update:show\":function($event){_vm.show=$event}}},[_c('woot-modal-header',{attrs:{\"header-title\":_vm.$t('HELP_CENTER.CATEGORY.EDIT.TITLE'),\"header-content\":_vm.$t('HELP_CENTER.CATEGORY.EDIT.SUB_TITLE')}}),_vm._v(\" \"),_c('form',{staticClass:\"w-full\",on:{\"submit\":function($event){$event.preventDefault();return _vm.onUpdate.apply(null, arguments)}}},[_c('div',{staticClass:\"w-full\"},[_c('div',{staticClass:\"flex flex-row w-full mt-0 mx-0 mb-4\"},[_c('div',{staticClass:\"w-[50%]\"},[_c('label',[_c('span',[_vm._v(_vm._s(_vm.$t('HELP_CENTER.CATEGORY.EDIT.PORTAL')))]),_vm._v(\" \"),_c('p',{staticClass:\"text-slate-600 dark:text-slate-400\"},[_vm._v(_vm._s(_vm.portalName))])])]),_vm._v(\" \"),_c('div',{staticClass:\"w-[50%]\"},[_c('label',[_c('span',[_vm._v(_vm._s(_vm.$t('HELP_CENTER.CATEGORY.EDIT.LOCALE')))]),_vm._v(\" \"),_c('p',{staticClass:\"text-slate-600 dark:text-slate-400\"},[_vm._v(_vm._s(_vm.locale))])])])]),_vm._v(\" \"),_c('category-name-icon-input',{attrs:{\"label\":_vm.$t('HELP_CENTER.CATEGORY.EDIT.NAME.LABEL'),\"placeholder\":_vm.$t('HELP_CENTER.CATEGORY.EDIT.NAME.PLACEHOLDER'),\"help-text\":_vm.$t('HELP_CENTER.CATEGORY.EDIT.NAME.HELP_TEXT'),\"has-error\":_vm.$v.name.$error,\"error-message\":_vm.$t('HELP_CENTER.CATEGORY.ADD.NAME.ERROR'),\"existing-name\":_vm.category.name,\"saved-icon\":_vm.category.icon},on:{\"name-change\":_vm.changeName,\"icon-change\":_vm.onClickInsertEmoji}}),_vm._v(\" \"),_c('woot-input',{staticClass:\"w-full\",class:{ error: _vm.$v.slug.$error },attrs:{\"error\":_vm.slugError,\"label\":_vm.$t('HELP_CENTER.CATEGORY.EDIT.SLUG.LABEL'),\"placeholder\":_vm.$t('HELP_CENTER.CATEGORY.EDIT.SLUG.PLACEHOLDER'),\"help-text\":_vm.$t('HELP_CENTER.CATEGORY.EDIT.SLUG.HELP_TEXT')},on:{\"input\":_vm.$v.slug.$touch},model:{value:(_vm.slug),callback:function ($$v) {_vm.slug=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"slug\"}}),_vm._v(\" \"),_c('label',[_vm._v(\"\\n        \"+_vm._s(_vm.$t('HELP_CENTER.CATEGORY.EDIT.DESCRIPTION.LABEL'))+\"\\n        \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.description),expression:\"description\"}],attrs:{\"rows\":\"3\",\"type\":\"text\",\"placeholder\":_vm.$t('HELP_CENTER.CATEGORY.EDIT.DESCRIPTION.PLACEHOLDER')},domProps:{\"value\":(_vm.description)},on:{\"input\":function($event){if($event.target.composing)return;_vm.description=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"w-full\"},[_c('div',{staticClass:\"flex flex-row justify-end gap-2 py-2 px-0 w-full\"},[_c('woot-button',{staticClass:\"button clear\",on:{\"click\":function($event){$event.preventDefault();return _vm.onClose.apply(null, arguments)}}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('HELP_CENTER.CATEGORY.EDIT.BUTTONS.CANCEL'))+\"\\n          \")]),_vm._v(\" \"),_c('woot-button',{on:{\"click\":_vm.editCategory}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('HELP_CENTER.CATEGORY.EDIT.BUTTONS.CREATE'))+\"\\n          \")])],1)])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- eslint-disable vue/no-mutating-props -->\n<template>\n  <woot-modal :show.sync=\"show\" :on-close=\"onClose\">\n    <woot-modal-header\n      :header-title=\"$t('HELP_CENTER.CATEGORY.EDIT.TITLE')\"\n      :header-content=\"$t('HELP_CENTER.CATEGORY.EDIT.SUB_TITLE')\"\n    />\n    <form class=\"w-full\" @submit.prevent=\"onUpdate\">\n      <div class=\"w-full\">\n        <div class=\"flex flex-row w-full mt-0 mx-0 mb-4\">\n          <div class=\"w-[50%]\">\n            <label>\n              <span>{{ $t('HELP_CENTER.CATEGORY.EDIT.PORTAL') }}</span>\n              <p class=\"text-slate-600 dark:text-slate-400\">{{ portalName }}</p>\n            </label>\n          </div>\n          <div class=\"w-[50%]\">\n            <label>\n              <span>{{ $t('HELP_CENTER.CATEGORY.EDIT.LOCALE') }}</span>\n              <p class=\"text-slate-600 dark:text-slate-400\">{{ locale }}</p>\n            </label>\n          </div>\n        </div>\n        <category-name-icon-input\n          :label=\"$t('HELP_CENTER.CATEGORY.EDIT.NAME.LABEL')\"\n          :placeholder=\"$t('HELP_CENTER.CATEGORY.EDIT.NAME.PLACEHOLDER')\"\n          :help-text=\"$t('HELP_CENTER.CATEGORY.EDIT.NAME.HELP_TEXT')\"\n          :has-error=\"$v.name.$error\"\n          :error-message=\"$t('HELP_CENTER.CATEGORY.ADD.NAME.ERROR')\"\n          :existing-name=\"category.name\"\n          :saved-icon=\"category.icon\"\n          @name-change=\"changeName\"\n          @icon-change=\"onClickInsertEmoji\"\n        />\n        <woot-input\n          v-model.trim=\"slug\"\n          :class=\"{ error: $v.slug.$error }\"\n          class=\"w-full\"\n          :error=\"slugError\"\n          :label=\"$t('HELP_CENTER.CATEGORY.EDIT.SLUG.LABEL')\"\n          :placeholder=\"$t('HELP_CENTER.CATEGORY.EDIT.SLUG.PLACEHOLDER')\"\n          :help-text=\"$t('HELP_CENTER.CATEGORY.EDIT.SLUG.HELP_TEXT')\"\n          @input=\"$v.slug.$touch\"\n        />\n        <label>\n          {{ $t('HELP_CENTER.CATEGORY.EDIT.DESCRIPTION.LABEL') }}\n          <textarea\n            v-model=\"description\"\n            rows=\"3\"\n            type=\"text\"\n            :placeholder=\"\n              $t('HELP_CENTER.CATEGORY.EDIT.DESCRIPTION.PLACEHOLDER')\n            \"\n          />\n        </label>\n        <div class=\"w-full\">\n          <div class=\"flex flex-row justify-end gap-2 py-2 px-0 w-full\">\n            <woot-button class=\"button clear\" @click.prevent=\"onClose\">\n              {{ $t('HELP_CENTER.CATEGORY.EDIT.BUTTONS.CANCEL') }}\n            </woot-button>\n            <woot-button @click=\"editCategory\">\n              {{ $t('HELP_CENTER.CATEGORY.EDIT.BUTTONS.CREATE') }}\n            </woot-button>\n          </div>\n        </div>\n      </div>\n    </form>\n  </woot-modal>\n</template>\n\n<script>\nimport alertMixin from 'shared/mixins/alertMixin';\nimport { required, minLength } from 'vuelidate/lib/validators';\nimport { convertToCategorySlug } from 'dashboard/helper/commons.js';\nimport { PORTALS_EVENTS } from '../../../../../helper/AnalyticsHelper/events';\nimport CategoryNameIconInput from './NameEmojiInput.vue';\n\nexport default {\n  components: { CategoryNameIconInput },\n  mixins: [alertMixin],\n  props: {\n    show: {\n      type: Boolean,\n      default: true,\n    },\n    portalName: {\n      type: String,\n      default: '',\n    },\n    locale: {\n      type: String,\n      default: '',\n    },\n    category: {\n      type: Object,\n      default: () => {},\n    },\n    selectedPortalSlug: {\n      type: String,\n      default: '',\n    },\n  },\n  data() {\n    return {\n      id: this.category.id,\n      name: '',\n      icon: '',\n      slug: '',\n      description: '',\n    };\n  },\n  validations: {\n    name: {\n      required,\n      minLength: minLength(2),\n    },\n    slug: {\n      required,\n    },\n  },\n  computed: {\n    slugError() {\n      if (this.$v.slug.$error) {\n        return this.$t('HELP_CENTER.CATEGORY.ADD.SLUG.ERROR');\n      }\n      return '';\n    },\n  },\n  mounted() {\n    this.updateDataFromStore();\n  },\n  methods: {\n    updateDataFromStore() {\n      const { category } = this;\n      this.name = category.name;\n      this.icon = category.icon;\n      this.slug = category.slug;\n      this.description = category.description;\n    },\n    changeName(name) {\n      this.name = name;\n      this.slug = convertToCategorySlug(this.name);\n    },\n    onClickInsertEmoji(emoji) {\n      this.icon = emoji;\n    },\n    onUpdate() {\n      this.$emit('update');\n    },\n    onClose() {\n      this.$emit('cancel');\n    },\n    async editCategory() {\n      const { id, name, slug, icon, description } = this;\n      const data = {\n        id,\n        name,\n        icon,\n        slug,\n        description,\n      };\n      this.$v.$touch();\n      if (this.$v.$invalid) {\n        return;\n      }\n      try {\n        await this.$store.dispatch('categories/update', {\n          portalSlug: this.selectedPortalSlug,\n          categoryId: id,\n          categoryObj: data,\n        });\n        this.alertMessage = this.$t(\n          'HELP_CENTER.CATEGORY.EDIT.API.SUCCESS_MESSAGE'\n        );\n        this.$track(PORTALS_EVENTS.EDIT_CATEGORY);\n        this.onClose();\n      } catch (error) {\n        const errorMessage = error?.message;\n        this.alertMessage =\n          errorMessage ||\n          this.$t('HELP_CENTER.CATEGORY.EDIT.API.ERROR_MESSAGE');\n      } finally {\n        this.showAlert(this.alertMessage);\n      }\n    },\n  },\n};\n</script>\n<style scoped lang=\"scss\">\n.article-info {\n  width: 100%;\n  margin: 0 0 var(--space-normal);\n  .value {\n    color: var(--s-600);\n  }\n}\n\n.input-container::v-deep {\n  margin: 0 0 var(--space-normal);\n\n  input {\n    margin-bottom: 0;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCategory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCategory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditCategory.vue?vue&type=template&id=164550a9&scoped=true&\"\nimport script from \"./EditCategory.vue?vue&type=script&lang=js&\"\nexport * from \"./EditCategory.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditCategory.vue?vue&type=style&index=0&id=164550a9&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"164550a9\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryListItem.vue?vue&type=style&index=0&id=ab335bce&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"w-full max-w-6xl\"},[_c('header',{staticClass:\"flex items-center justify-between mb-4\"},[_c('div',{staticClass:\"flex items-center w-full gap-3\"},[_c('label',{staticClass:\"mb-0 text-base font-normal text-slate-800 dark:text-slate-100\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('HELP_CENTER.PORTAL.EDIT.CATEGORIES.TITLE'))+\"\\n      \")]),_vm._v(\" \"),_c('select',{staticClass:\"w-[15%] h-8 mb-0 py-0.5\",domProps:{\"value\":_setup.currentLocaleCode},on:{\"change\":_setup.changeCurrentCategory}},_vm._l((_setup.allowedLocaleCodes),function(allowedLocaleCode){return _c('option',{key:allowedLocaleCode,domProps:{\"value\":allowedLocaleCode}},[_vm._v(\"\\n          \"+_vm._s(allowedLocaleCode)+\"\\n        \")])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"items-center flex-none\"},[_c('woot-button',{attrs:{\"size\":\"small\",\"variant\":\"smooth\",\"color-scheme\":\"primary\",\"icon\":\"add\"},on:{\"click\":_setup.openAddCategoryModal}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('HELP_CENTER.PORTAL.EDIT.CATEGORIES.NEW_CATEGORY'))+\"\\n      \")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"category-list\"},[_c(_setup.CategoryListItem,{attrs:{\"categories\":_setup.categoriesByLocaleCode},on:{\"delete\":_setup.deleteCategory,\"edit\":_setup.openEditCategoryModal}})],1),_vm._v(\" \"),(_setup.showEditCategoryModal)?_c(_setup.EditCategory,{attrs:{\"show\":_setup.showEditCategoryModal,\"portal-name\":_setup.currentPortalName,\"locale\":_setup.selectedCategory.locale,\"category\":_setup.selectedCategory,\"selected-portal-slug\":_setup.currentPortalSlug},on:{\"update:show\":function($event){_setup.showEditCategoryModal=$event},\"cancel\":_setup.closeEditCategoryModal}}):_vm._e(),_vm._v(\" \"),(_setup.showAddCategoryModal)?_c(_setup.AddCategory,{attrs:{\"show\":_setup.showAddCategoryModal,\"portal-name\":_setup.currentPortalName,\"locale\":_setup.currentLocaleCode},on:{\"update:show\":function($event){_setup.showAddCategoryModal=$event},\"cancel\":_setup.closeAddCategoryModal}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryListItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryListItem.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <table>\n      <thead>\n        <tr>\n          <th scope=\"col\">\n            {{ $t('HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.NAME') }}\n          </th>\n          <th scope=\"col\">\n            {{ $t('HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.DESCRIPTION') }}\n          </th>\n          <th scope=\"col\">\n            {{ $t('HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.LOCALE') }}\n          </th>\n          <th scope=\"col\">\n            {{ $t('HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.ARTICLE_COUNT') }}\n          </th>\n          <th scope=\"col\" />\n        </tr>\n      </thead>\n      <tr>\n        <td colspan=\"100%\" class=\"horizontal-line\" />\n      </tr>\n      <tbody>\n        <tr v-for=\"category in categories\" :key=\"category.id\">\n          <td>\n            <span>{{ category.icon }} {{ category.name }}</span>\n          </td>\n          <td>\n            <span>{{ category.description }}</span>\n          </td>\n          <td>\n            <span>{{ category.locale }}</span>\n          </td>\n          <td>\n            <span>{{ category.meta.articles_count }}</span>\n          </td>\n          <td>\n            <woot-button\n              v-tooltip.top-end=\"\n                $t(\n                  'HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.ACTION_BUTTON.EDIT'\n                )\n              \"\n              size=\"tiny\"\n              variant=\"smooth\"\n              icon=\"edit\"\n              color-scheme=\"secondary\"\n              @click=\"editCategory(category)\"\n            />\n            <woot-button\n              v-tooltip.top-end=\"\n                $t(\n                  'HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.ACTION_BUTTON.DELETE'\n                )\n              \"\n              size=\"tiny\"\n              variant=\"smooth\"\n              icon=\"delete\"\n              color-scheme=\"alert\"\n              @click=\"deleteCategory(category)\"\n            />\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <p\n      v-if=\"categories.length === 0\"\n      class=\"flex justify-center text-slate-500 dark:text-slate-300 text-base mt-8\"\n    >\n      {{ $t('HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.EMPTY_TEXT') }}\n    </p>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    categories: {\n      type: Array,\n      default: () => [],\n    },\n  },\n\n  methods: {\n    editCategory(category) {\n      this.$emit('edit', category);\n    },\n    deleteCategory(category) {\n      this.$emit('delete', category);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\ntable {\n  thead tr th {\n    @apply text-sm font-medium normal-case text-slate-800 dark:text-slate-100 pl-0 rtl:pl-2.5 rtl:pr-0 pt-0;\n  }\n\n  tbody tr {\n    @apply border-b-0;\n    td {\n      @apply text-sm pl-0 rtl:pl-2.5 rtl:pr-0 text-slate-700 dark:text-slate-100;\n    }\n  }\n}\n.horizontal-line {\n  @apply border-b border-solid border-slate-75 dark:border-slate-700;\n}\n</style>\n","import { render, staticRenderFns } from \"./CategoryListItem.vue?vue&type=template&id=ab335bce&scoped=true&\"\nimport script from \"./CategoryListItem.vue?vue&type=script&lang=js&\"\nexport * from \"./CategoryListItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CategoryListItem.vue?vue&type=style&index=0&id=ab335bce&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ab335bce\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('table',[_c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.NAME'))+\"\\n        \")]),_vm._v(\" \"),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.DESCRIPTION'))+\"\\n        \")]),_vm._v(\" \"),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.LOCALE'))+\"\\n        \")]),_vm._v(\" \"),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.ARTICLE_COUNT'))+\"\\n        \")]),_vm._v(\" \"),_c('th',{attrs:{\"scope\":\"col\"}})])]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('tbody',_vm._l((_vm.categories),function(category){return _c('tr',{key:category.id},[_c('td',[_c('span',[_vm._v(_vm._s(category.icon)+\" \"+_vm._s(category.name))])]),_vm._v(\" \"),_c('td',[_c('span',[_vm._v(_vm._s(category.description))])]),_vm._v(\" \"),_c('td',[_c('span',[_vm._v(_vm._s(category.locale))])]),_vm._v(\" \"),_c('td',[_c('span',[_vm._v(_vm._s(category.meta.articles_count))])]),_vm._v(\" \"),_c('td',[_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top-end\",value:(\n              _vm.$t(\n                'HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.ACTION_BUTTON.EDIT'\n              )\n            ),expression:\"\\n              $t(\\n                'HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.ACTION_BUTTON.EDIT'\\n              )\\n            \",modifiers:{\"top-end\":true}}],attrs:{\"size\":\"tiny\",\"variant\":\"smooth\",\"icon\":\"edit\",\"color-scheme\":\"secondary\"},on:{\"click\":function($event){return _vm.editCategory(category)}}}),_vm._v(\" \"),_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top-end\",value:(\n              _vm.$t(\n                'HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.ACTION_BUTTON.DELETE'\n              )\n            ),expression:\"\\n              $t(\\n                'HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.ACTION_BUTTON.DELETE'\\n              )\\n            \",modifiers:{\"top-end\":true}}],attrs:{\"size\":\"tiny\",\"variant\":\"smooth\",\"icon\":\"delete\",\"color-scheme\":\"alert\"},on:{\"click\":function($event){return _vm.deleteCategory(category)}}})],1)])}),0)]),_vm._v(\" \"),(_vm.categories.length === 0)?_c('p',{staticClass:\"flex justify-center text-slate-500 dark:text-slate-300 text-base mt-8\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.EMPTY_TEXT'))+\"\\n  \")]):_vm._e()])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('tr',[_c('td',{staticClass:\"horizontal-line\",attrs:{\"colspan\":\"100%\"}})])\n}]\n\nexport { render, staticRenderFns }","<script setup>\nimport { useRoute } from 'dashboard/composables/route';\nimport { useStoreGetters, useStore } from 'dashboard/composables/store';\nimport { useI18n } from 'dashboard/composables/useI18n';\nimport { useAlert, useTrack } from 'dashboard/composables';\nimport { PORTALS_EVENTS } from 'dashboard/helper/AnalyticsHelper/events';\n\nimport { defineComponent, ref, computed } from 'vue';\n\nimport CategoryListItem from './CategoryListItem.vue';\nimport AddCategory from './AddCategory.vue';\nimport EditCategory from './EditCategory.vue';\n\ndefineComponent({\n  name: 'ListAllCategories',\n});\n\nconst selectedCategory = ref({});\nconst currentLocaleCode = ref('en');\nconst showEditCategoryModal = ref(false);\nconst showAddCategoryModal = ref(false);\n\nconst getters = useStoreGetters();\nconst store = useStore();\nconst route = useRoute();\nconst track = useTrack();\nconst { t } = useI18n();\nconst currentPortalSlug = computed(() => {\n  return route.params.portalSlug;\n});\n\nconst categoriesByLocaleCode = computed(() => {\n  return getters['categories/categoriesByLocaleCode'].value(\n    currentLocaleCode.value\n  );\n});\n\nconst currentPortal = computed(() => {\n  const slug = currentPortalSlug.value;\n  if (slug) return getters['portals/portalBySlug'].value(slug);\n\n  return getters['portals/allPortals'].value[0];\n});\nconst currentPortalName = computed(() => {\n  return currentPortal.value ? currentPortal.value.name : '';\n});\nconst allLocales = computed(() => {\n  return currentPortal.value ? currentPortal.value.config.allowed_locales : [];\n});\n\nconst allowedLocaleCodes = computed(() => {\n  return allLocales.value.map(locale => locale.code);\n});\n\nfunction openAddCategoryModal() {\n  showAddCategoryModal.value = true;\n}\nfunction openEditCategoryModal(category) {\n  selectedCategory.value = category;\n  showEditCategoryModal.value = true;\n}\nfunction closeAddCategoryModal() {\n  showAddCategoryModal.value = false;\n}\nfunction closeEditCategoryModal() {\n  showEditCategoryModal.value = false;\n}\nasync function fetchCategoriesByPortalSlugAndLocale(localeCode) {\n  await store.dispatch('categories/index', {\n    portalSlug: currentPortalSlug.value,\n    locale: localeCode,\n  });\n}\n\nasync function deleteCategory(category) {\n  let alertMessage = '';\n  try {\n    await store.dispatch('categories/delete', {\n      portalSlug: currentPortalSlug.value,\n      categoryId: category.id,\n    });\n    alertMessage = t('HELP_CENTER.CATEGORY.DELETE.API.SUCCESS_MESSAGE');\n    track(PORTALS_EVENTS.DELETE_CATEGORY, {\n      hasArticles: category?.meta?.articles_count !== 0,\n    });\n  } catch (error) {\n    const errorMessage = error?.message;\n    alertMessage =\n      errorMessage || t('HELP_CENTER.CATEGORY.DELETE.API.ERROR_MESSAGE');\n  } finally {\n    useAlert(alertMessage);\n  }\n}\nfunction changeCurrentCategory(event) {\n  const localeCode = event.target.value;\n  currentLocaleCode.value = localeCode;\n  fetchCategoriesByPortalSlugAndLocale(localeCode);\n}\n</script>\n\n<template>\n  <div class=\"w-full max-w-6xl\">\n    <header class=\"flex items-center justify-between mb-4\">\n      <div class=\"flex items-center w-full gap-3\">\n        <label\n          class=\"mb-0 text-base font-normal text-slate-800 dark:text-slate-100\"\n        >\n          {{ $t('HELP_CENTER.PORTAL.EDIT.CATEGORIES.TITLE') }}\n        </label>\n        <select\n          :value=\"currentLocaleCode\"\n          class=\"w-[15%] h-8 mb-0 py-0.5\"\n          @change=\"changeCurrentCategory\"\n        >\n          <option\n            v-for=\"allowedLocaleCode in allowedLocaleCodes\"\n            :key=\"allowedLocaleCode\"\n            :value=\"allowedLocaleCode\"\n          >\n            {{ allowedLocaleCode }}\n          </option>\n        </select>\n      </div>\n      <div class=\"items-center flex-none\">\n        <woot-button\n          size=\"small\"\n          variant=\"smooth\"\n          color-scheme=\"primary\"\n          icon=\"add\"\n          @click=\"openAddCategoryModal\"\n        >\n          {{ $t('HELP_CENTER.PORTAL.EDIT.CATEGORIES.NEW_CATEGORY') }}\n        </woot-button>\n      </div>\n    </header>\n    <div class=\"category-list\">\n      <category-list-item\n        :categories=\"categoriesByLocaleCode\"\n        @delete=\"deleteCategory\"\n        @edit=\"openEditCategoryModal\"\n      />\n    </div>\n    <edit-category\n      v-if=\"showEditCategoryModal\"\n      :show.sync=\"showEditCategoryModal\"\n      :portal-name=\"currentPortalName\"\n      :locale=\"selectedCategory.locale\"\n      :category=\"selectedCategory\"\n      :selected-portal-slug=\"currentPortalSlug\"\n      @cancel=\"closeEditCategoryModal\"\n    />\n    <add-category\n      v-if=\"showAddCategoryModal\"\n      :show.sync=\"showAddCategoryModal\"\n      :portal-name=\"currentPortalName\"\n      :locale=\"currentLocaleCode\"\n      @cancel=\"closeAddCategoryModal\"\n    />\n  </div>\n</template>\n","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListAllCategories.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListAllCategories.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./ListAllCategories.vue?vue&type=template&id=4c5e6134&\"\nimport script from \"./ListAllCategories.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./ListAllCategories.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}