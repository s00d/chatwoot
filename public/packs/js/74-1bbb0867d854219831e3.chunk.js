(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{2671:function(e,t,r){"use strict";var a={props:{label:{type:String,default:""},name:{type:String,required:!0},icon:{type:String,default:""},hasError:{type:Boolean,default:!1},errorMessage:{type:String,default:""}}},n=r(6),s=Object(n.a)(a,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"space-y-1"},[e.label?t("label",{staticClass:"flex justify-between text-sm font-medium leading-6 text-slate-900 dark:text-white",class:{"text-red-500":e.hasError},attrs:{for:e.name}},[e._t("label",(function(){return[e._v("\n      "+e._s(e.label)+"\n    ")]})),e._v(" "),e._t("rightOfLabel")],2):e._e(),e._v(" "),t("div",{staticClass:"w-full"},[t("div",{staticClass:"flex items-center relative w-full"},[e.icon?t("fluent-icon",{staticClass:"absolute left-2 transform text-slate-400 dark:text-slate-600 w-5 h-5",attrs:{size:"16",icon:e.icon}}):e._e(),e._v(" "),e._t("default")],2),e._v(" "),e.errorMessage&&e.hasError?t("span",{staticClass:"text-xs text-red-400 leading-2"},[e._v("\n      "+e._s(e.errorMessage)+"\n    ")]):e._e()])])}),[],!1,null,null,null);t.a=s.exports},2896:function(e,t,r){"use strict";r(53);var a=r(5),n={__name:"TableHeaderCell",props:{span:{type:Number,required:!0},label:{type:String,required:!0,default:""}},setup:function(e){var t=e,r=Object(a.computed)((function(){return 1===t.span?"col-span-1":2===t.span?"col-span-2":3===t.span?"col-span-3":4===t.span?"col-span-4":5===t.span?"col-span-5":6===t.span?"col-span-6":7===t.span?"col-span-7":8===t.span?"col-span-8":9===t.span?"col-span-9":10===t.span?"col-span-10":"col-span-1"}));return{__sfc:!0,props:t,spanClass:r}}},s=r(6),i=Object(s.a)(n,(function(){var e=this;return(0,e._self._c)("div",{staticClass:"flex items-center px-0 py-2 text-xs font-medium text-left uppercase text-slate-700 dark:text-slate-100 rtl:text-right",class:e._self._setupProxy.spanClass},[e._t("default",(function(){return[e._v("\n    "+e._s(e.label)+"\n  ")]}))],2)}),[],!1,null,null,null);t.a=i.exports},2966:function(e,t,r){},3205:function(e,t,r){"use strict";r(2966)},3345:function(e,t,r){"use strict";r.r(t);r(34),r(41),r(72),r(11),r(7),r(9),r(13),r(10),r(14),r(8),r(25);var a=r(243),n=r(249),s=r(78),i=r(27),o=r(51),l=r(1912),u=r(5),c=(r(19),r(21),r(23),r(208),r(33),r(35),r(61),r(65),r(53),r(538)),d={__name:"InitialsAvatar",props:{name:{type:String,default:""},size:{type:Number,default:72}},setup:function(e){var t=e,r={1:"bg-ash-200 text-ash-900",2:"bg-amber-200 text-amber-900",3:"bg-pink-100 text-pink-800",4:"bg-purple-100 text-purple-800",5:"bg-indigo-100 text-indigo-800",6:"bg-grass-100 text-grass-800",7:"bg-mint-100 text-mint-800",8:"bg-orange-100 text-orange-800"},a=Object(u.computed)((function(){return{fontSize:"".concat(Math.floor(t.size/2.5),"px")}})),n=Object(u.computed)((function(){return r[t.name.length%8+1]})),s=Object(u.computed)((function(){return Object(c.b)(t.name)}));return{__sfc:!0,colors:r,props:t,style:a,colorClass:n,initial:s}}},p=r(6),f=Object(p.a)(d,(function(){var e=this,t=e._self._c,r=e._self._setupProxy;return t("div",{staticClass:"rounded-xl flex leading-[100%] font-medium items-center justify-center text-center cursor-default",class:`h-[${e.size}px] w-[${e.size}px] ${r.colorClass}`,style:r.style,attrs:{"aria-hidden":"true"}},[e._t("default",(function(){return[e._v(e._s(r.initial))]}))],2)}),[],!1,null,null,null).exports;function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var a,n,s=[],i=!0,o=!1;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(s.push(a.value),!t||s.length!==t);i=!0);}catch(l){o=!0,n=l}finally{try{i||null==r.return||r.return()}finally{if(o)throw n}}return s}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var _={__name:"ProfileAvatar",props:{src:{type:String,default:""},name:{type:String,default:""}},emits:["change","delete"],setup:function(e,t){var r=t.emit,a=e,n=Object(u.ref)(!1),s=Object(u.ref)(!1),i=Object(u.ref)(null),o=Object(u.computed)((function(){return a.src&&!s.value}));return{__sfc:!0,props:a,emits:r,hasImageLoaded:n,imageLoadedError:s,fileInputRef:i,shouldShowImage:o,onImageLoadError:function(){s.value=!0},onImageLoad:function(){n.value=!0,s.value=!1},openFileInput:function(){i.value.click()},onImageUpload:function(e){var t=m(e.target.files,1)[0];r("change",{file:t,url:t?URL.createObjectURL(t):null})},onAvatarDelete:function(){r("delete")},InitialsAvatar:f}}},S=Object(p.a)(_,(function(){var e=this,t=e._self._c,r=e._self._setupProxy;return t("div",{staticClass:"relative rounded-xl h-[72px] w-[72px] cursor-pointe group"},[r.shouldShowImage?t("img",{staticClass:"rounded-xl h-[72px] w-[72px]",attrs:{alt:e.name,src:e.src,draggable:"false"},on:{load:r.onImageLoad,error:r.onImageLoadError}}):r.shouldShowImage?e._e():t(r.InitialsAvatar,{attrs:{name:e.name,size:72}}),e._v(" "),t("input",{ref:"fileInputRef",attrs:{type:"file",accept:"image/png, image/jpeg, image/jpg, image/gif, image/webp",hidden:""},on:{change:r.onImageUpload}}),e._v(" "),t("div",{staticClass:"hidden group-hover:block"},[e.src?t("button",{staticClass:"absolute z-10 flex items-center justify-center w-6 h-6 p-1 border border-white rounded-full select-none dark:border-ash-75 reset-base -top-2 -right-2 bg-ash-300",on:{click:r.onAvatarDelete}},[t("fluent-icon",{staticClass:"text-ash-900",attrs:{icon:"dismiss",size:"16"}})],1):e._e(),e._v(" "),t("button",{staticClass:"reset-base absolute h-[72px] w-[72px] top-0 left-0 rounded-xl select-none flex items-center justify-center bg-modal-backdrop-dark dark:bg-modal-backdrop-dark",on:{click:r.openFileInput}},[t("fluent-icon",{staticClass:"text-white",attrs:{icon:"avatar-upload",size:"32"}})],1)])],1)}),[],!1,null,null,null).exports,v=r(1785),g={__name:"UserProfilePicture",props:{src:{type:String,default:""},name:{type:String,default:""}},emits:["change","delete"],setup:function(e,t){var r=t.emit,a=e,n=Object(u.computed)((function(){return Object(v.b)(a.name)}));return{__sfc:!0,props:a,emits:r,userNameWithoutEmoji:n,updateProfilePicture:function(e){r("change",e)},deleteProfilePicture:function(){r("delete")},ProfileAvatar:S}}},E=Object(p.a)(g,(function(){var e=this,t=e._self._c,r=e._self._setupProxy;return t("div",{staticClass:"flex flex-col gap-2"},[t("span",{staticClass:"text-sm font-medium text-ash-900"},[e._v("\n    "+e._s(e.$t("PROFILE_SETTINGS.FORM.PICTURE"))+"\n  ")]),e._v(" "),t(r.ProfileAvatar,{attrs:{src:e.src,name:r.userNameWithoutEmoji},on:{change:r.updateProfilePicture,delete:r.deleteProfilePicture}})],1)}),[],!1,null,null,null).exports,O=(r(77),{__name:"Button",props:{variant:{type:String,default:"solid",validator:function(e){return["outline","ghost","solid"].includes(e)}},size:{type:String,default:"large",validator:function(e){return["medium","large"].includes(e)}},icon:{type:String,default:""},colorScheme:{type:String,default:"primary",validator:function(e){return["primary","secondary","danger"].includes(e)}},trailingIcon:{type:Boolean,default:!1}},emits:["click"],setup:function(e,t){var r=t.emit,a=e,n=Object(u.useAttrs)(),s={outline:"outline outline-1 -outline-offset-1",ghost:"hover:text-600 active:text-600 focus:outline focus:outline-offset-1",solid:"hover:bg-700 active:bg-700 focus:outline focus:outline-offset-1 focus:outline-2"},i=Object(u.computed)((function(){if(n.disabled)return"bg-ash-200 text-ash-600 cursor-not-allowed";var e={primary:{outline:"".concat(s.outline," outline-primary-400 hover:text-primary-600 active:text-primary-600"),ghost:"".concat(s.ghost," focus:outline-primary-400"),solid:"".concat(s.solid," bg-primary-600 text-white focus:outline-primary-400")},secondary:{outline:"".concat(s.outline," outline-ash-400 hover:text-ash-900 active:text-ash-900 "),ghost:"".concat(s.ghost," focus:outline-ash-400"),solid:"".concat(s.solid," bg-ash-100 text-ash-900 focus:outline-ash-400")},danger:{outline:"".concat(s.outline," outline-ruby-400 hover:text-ruby-600 active:text-ruby-600"),ghost:"".concat(s.ghost," focus:outline-ruby-400"),solid:"".concat(s.solid," bg-ruby-600 text-white focus:outline-ruby-400")}}[a.colorScheme];return e[a.variant]||e.solid})),o=Object(u.computed)((function(){return"medium"===a.size?"h-8 px-3 py-1.5 text-sm":"h-10 px-4 py-2.5 text"})),l=Object(u.computed)((function(){return[i.value,o.value]}));return{__sfc:!0,props:a,attrs:n,baseClasses:s,colorClass:i,sizeClass:o,buttonClasses:l,emit:r,onClick:function(){a.disabled||r("click")}}}}),I=Object(p.a)(O,(function(){var e=this,t=e._self._c,r=e._self._setupProxy;return t("button",e._b({staticClass:"inline-flex items-center gap-1 text-sm font-medium reset-base rounded-xl w-fit",class:r.buttonClasses,on:{click:r.onClick}},"button",e.$attrs,!1),[e.icon&&!e.trailingIcon?t("fluent-icon",{staticClass:"flex-shrink-0",attrs:{size:"1.16em",icon:e.icon}}):e._e(),e._v(" "),e.$slots.default?t("span",{staticClass:"text-sm font-medium truncate ltr:text-left rtl:text-right"},[e._t("default")],2):e._e(),e._v(" "),e.icon&&e.trailingIcon?t("fluent-icon",{staticClass:"flex-shrink-0",attrs:{size:"1.16em",icon:e.icon}}):e._e()],1)}),[],!1,null,null,null).exports,b=r(62);function T(e,t,r,a,n,s,i){try{var o=e[s](i),l=o.value}catch(u){return void r(u)}o.done?t(l):Promise.resolve(l).then(a,n)}var x={components:{FormButton:I},mixins:[s.a],props:{name:{type:String,default:""},email:{type:String,default:""},displayName:{type:String,default:""},emailEnabled:{type:Boolean,default:!1}},data:function(){return{userName:this.name,userDisplayName:this.displayName,userEmail:this.email,inputStyles:{borderRadius:"12px",padding:"6px 12px",fontSize:"14px",marginBottom:"2px"}}},validations:{userName:{required:b.required,minLength:Object(b.minLength)(1)},userDisplayName:{},userEmail:{required:b.required,email:b.email}},watch:{name:{handler:function(e){this.userName=e},immediate:!0},displayName:{handler:function(e){this.userDisplayName=e},immediate:!0},email:{handler:function(e){this.userEmail=e},immediate:!0}},methods:{updateUser:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$v.$touch(),!t.$v.$invalid){e.next=4;break}return t.showAlert(t.$t("PROFILE_SETTINGS.FORM.ERROR")),e.abrupt("return");case 4:t.$emit("update-user",{name:t.userName,displayName:t.userDisplayName,email:t.userEmail});case 5:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(a,n){var s=e.apply(t,r);function i(e){T(s,a,n,i,o,"next",e)}function o(e){T(s,a,n,i,o,"throw",e)}i(void 0)}))})()}}},y=x,N=Object(p.a)(y,(function(){var e=this,t=e._self._c;return t("form",{staticClass:"flex flex-col gap-4",on:{submit:function(t){return t.preventDefault(),e.updateUser("profile")}}},[t("woot-input",{class:{error:e.$v.userName.$error},attrs:{styles:e.inputStyles,label:e.$t("PROFILE_SETTINGS.FORM.NAME.LABEL"),placeholder:e.$t("PROFILE_SETTINGS.FORM.NAME.PLACEHOLDER"),error:`${e.$v.userName.$error?e.$t("PROFILE_SETTINGS.FORM.NAME.ERROR"):""}`},on:{input:e.$v.userName.$touch},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),e._v(" "),t("woot-input",{class:{error:e.$v.userDisplayName.$error},attrs:{styles:e.inputStyles,label:e.$t("PROFILE_SETTINGS.FORM.DISPLAY_NAME.LABEL"),placeholder:e.$t("PROFILE_SETTINGS.FORM.DISPLAY_NAME.PLACEHOLDER"),error:`${e.$v.userDisplayName.$error?e.$t("PROFILE_SETTINGS.FORM.DISPLAY_NAME.ERROR"):""}`},on:{input:e.$v.userDisplayName.$touch},model:{value:e.userDisplayName,callback:function(t){e.userDisplayName=t},expression:"userDisplayName"}}),e._v(" "),e.emailEnabled?t("woot-input",{class:{error:e.$v.userEmail.$error},attrs:{styles:e.inputStyles,label:e.$t("PROFILE_SETTINGS.FORM.EMAIL.LABEL"),placeholder:e.$t("PROFILE_SETTINGS.FORM.EMAIL.PLACEHOLDER"),error:`${e.$v.userEmail.$error?e.$t("PROFILE_SETTINGS.FORM.EMAIL.ERROR"):""}`},on:{input:e.$v.userEmail.$touch},model:{value:e.userEmail,callback:function(t){e.userEmail=t},expression:"userEmail"}}):e._e(),e._v(" "),t("form-button",{attrs:{type:"submit","color-scheme":"primary",variant:"solid",size:"large"}},[e._v("\n    "+e._s(e.$t("PROFILE_SETTINGS.BTN_TEXT"))+"\n  ")])],1)}),[],!1,null,null,null).exports,R=r(1911),P=r(1898),C={__name:"MessageSignature",props:{messageSignature:{type:String,default:""}},emits:["update-signature"],setup:function(e,t){var r=t.emit,a=e,n=P.d,s=Object(u.ref)(a.messageSignature);Object(u.watch)((function(){var e;return null!==(e=a.messageSignature)&&void 0!==e?e:""}),(function(e){s.value=e}));return{__sfc:!0,props:a,customEditorMenuList:n,signature:s,emit:r,updateSignature:function(){r("update-signature",s.value)},WootMessageEditor:R.a,FormButton:I}}},A=Object(p.a)(C,(function(){var e=this,t=e._self._c,r=e._self._setupProxy;return t("form",{staticClass:"flex flex-col gap-6",on:{submit:function(e){return e.preventDefault(),r.updateSignature()}}},[t(r.WootMessageEditor,{staticClass:"message-editor h-[10rem] !px-3",attrs:{id:"message-signature-input","is-format-mode":!0,placeholder:e.$t("PROFILE_SETTINGS.FORM.MESSAGE_SIGNATURE.PLACEHOLDER"),"enabled-menu-options":r.customEditorMenuList,"enable-suggestions":!1,"show-image-resize-toolbar":!0},model:{value:r.signature,callback:function(e){r.signature=e},expression:"signature"}}),e._v(" "),t(r.FormButton,{attrs:{type:"submit","color-scheme":"primary",variant:"solid",size:"large"}},[e._v("\n    "+e._s(e.$t("PROFILE_SETTINGS.FORM.MESSAGE_SIGNATURE_SECTION.BTN_TEXT"))+"\n  ")])],1)}),[],!1,null,null,null).exports,F={__name:"HotKeyCard",props:{active:{type:Boolean,default:!1},title:{type:String,default:""},description:{type:String,default:""},lightImage:{type:String,default:""},darkImage:{type:String,default:""}},setup:function(e){return{__sfc:!0}}},w=Object(p.a)(F,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"flex flex-col gap-4 w-full h-fit sm:max-h-[220px] p-4 sm:max-w-[350px] rounded-md border border-solid border-ash-200",class:{"border-primary-300 ":e.active},on:{click:function(t){return e.$emit("click")}}},[t("div",{staticClass:"flex flex-col gap-2 items-center w-full rounded-t-[5px]"},[t("div",{staticClass:"flex items-center justify-between w-full gap-1"},[t("div",{staticClass:"flex items-center text-base font-medium text-ash-900"},[e._v("\n        "+e._s(e.title)+"\n      ")]),e._v(" "),t("input",{staticClass:"shadow cursor-pointer grid place-items-center border-2 border-ash-200 appearance-none rounded-full w-5 h-5 checked:bg-primary-600 before:content-[''] before:bg-primary-600 before:border-4 before:rounded-full before:border-ash-25 checked:before:w-[18px] checked:before:h-[18px] checked:border checked:border-primary-600",attrs:{type:"radio",name:`hotkey-${e.title}`},domProps:{checked:e.active}})]),e._v(" "),t("span",{staticClass:"text-ash-900 text-sm line-clamp-2 leading-[1.4] text-start"},[e._v("\n      "+e._s(e.description)+"\n    ")])]),e._v(" "),t("div",[t("img",{staticClass:"block object-cover w-full dark:hidden",attrs:{src:e.lightImage,alt:`Light themed image for ${e.title}`}}),e._v(" "),t("img",{staticClass:"hidden object-cover w-full dark:block",attrs:{src:e.darkImage,alt:`Dark themed image for ${e.title}`}})])])}),[],!1,null,null,null).exports;function k(e,t,r,a,n,s,i){try{var o=e[s](i),l=o.value}catch(u){return void r(u)}o.done?t(l):Promise.resolve(l).then(a,n)}var L={components:{FormButton:I},mixins:[s.a],data:function(){return{currentPassword:"",password:"",passwordConfirmation:"",isPasswordChanging:!1,errorMessage:"",inputStyles:{borderRadius:"12px",padding:"6px 12px",fontSize:"14px",marginBottom:"2px"}}},validations:{currentPassword:{required:b.required},password:{minLength:Object(b.minLength)(6)},passwordConfirmation:{minLength:Object(b.minLength)(6),isEqPassword:function(e){return e===this.password}}},computed:{isButtonDisabled:function(){return!this.currentPassword||!this.passwordConfirmation||!this.$v.passwordConfirmation.isEqPassword}},methods:{changePassword:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$v.$touch(),!t.$v.$invalid){e.next=4;break}return t.showAlert(t.$t("PROFILE_SETTINGS.FORM.ERROR")),e.abrupt("return");case 4:return r=t.$t("PROFILE_SETTINGS.PASSWORD_UPDATE_SUCCESS"),e.prev=5,e.next=8,t.$store.dispatch("updateProfile",{password:t.password,password_confirmation:t.passwordConfirmation,current_password:t.currentPassword});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),r=Object(o.e)(e.t0)||t.$t("RESET_PASSWORD.API.ERROR_MESSAGE");case 13:return e.prev=13,t.showAlert(r),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[5,10,13,16]])})),function(){var t=this,r=arguments;return new Promise((function(a,n){var s=e.apply(t,r);function i(e){k(s,a,n,i,o,"next",e)}function o(e){k(s,a,n,i,o,"throw",e)}i(void 0)}))})()}}},$=L,M=Object(p.a)($,(function(){var e=this,t=e._self._c;return t("form",{on:{submit:function(t){return t.preventDefault(),e.changePassword()}}},[t("div",{staticClass:"flex flex-col w-full gap-4"},[t("woot-input",{class:{error:e.$v.currentPassword.$error},attrs:{type:"password",styles:e.inputStyles,label:e.$t("PROFILE_SETTINGS.FORM.CURRENT_PASSWORD.LABEL"),placeholder:e.$t("PROFILE_SETTINGS.FORM.CURRENT_PASSWORD.PLACEHOLDER"),error:`${e.$v.currentPassword.$error?e.$t("PROFILE_SETTINGS.FORM.CURRENT_PASSWORD.ERROR"):""}`},on:{input:e.$v.currentPassword.$touch},model:{value:e.currentPassword,callback:function(t){e.currentPassword=t},expression:"currentPassword"}}),e._v(" "),t("woot-input",{class:{error:e.$v.password.$error},attrs:{type:"password",styles:e.inputStyles,label:e.$t("PROFILE_SETTINGS.FORM.PASSWORD.LABEL"),placeholder:e.$t("PROFILE_SETTINGS.FORM.PASSWORD.PLACEHOLDER"),error:`${e.$v.password.$error?e.$t("PROFILE_SETTINGS.FORM.PASSWORD.ERROR"):""}`},on:{input:e.$v.password.$touch},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),t("woot-input",{class:{error:e.$v.passwordConfirmation.$error},attrs:{type:"password",styles:e.inputStyles,label:e.$t("PROFILE_SETTINGS.FORM.PASSWORD_CONFIRMATION.LABEL"),placeholder:e.$t("PROFILE_SETTINGS.FORM.PASSWORD_CONFIRMATION.PLACEHOLDER"),error:`${e.$v.passwordConfirmation.$error?e.$t("PROFILE_SETTINGS.FORM.PASSWORD_CONFIRMATION.ERROR"):""}`},on:{input:e.$v.passwordConfirmation.$touch},model:{value:e.passwordConfirmation,callback:function(t){e.passwordConfirmation=t},expression:"passwordConfirmation"}}),e._v(" "),t("form-button",{attrs:{type:"submit","color-scheme":"primary",variant:"solid",size:"large",disabled:e.isButtonDisabled}},[e._v("\n      "+e._s(e.$t("PROFILE_SETTINGS.FORM.PASSWORD_SECTION.BTN_TEXT"))+"\n    ")])],1)])}),[],!1,null,null,null).exports,j=(r(96),r(43),r(368)),G=r(2896),D={__name:"CheckBox",props:{isChecked:{type:Boolean,default:!1},value:{type:String,default:null}},emits:["input"],setup:function(e,t){var r=t.emit,a=e,n=Object(u.computed)({get:function(){return a.isChecked},set:function(e){return r("update",a.value,e)}});return{__sfc:!0,props:a,emit:r,checked:n}}},U=Object(p.a)(D,(function(){var e=this,t=e._self._c,r=e._self._setupProxy;return t("input",{directives:[{name:"model",rawName:"v-model",value:r.checked,expression:"checked"}],staticClass:"flex-shrink-0 mt-0.5 border-ash-200 border bg-ash-50 checked:border-none checked:bg-primary-600 dark:checked:bg-primary-600 shadow-sm appearance-none rounded-[4px] w-4 h-4 focus:ring-1 after:content-[''] after:text-white checked:after:content-['\u2713'] after:flex after:items-center after:justify-center after:text-center after:text-xs after:font-bold after:relative",attrs:{id:e.value,type:"checkbox"},domProps:{value:e.value,checked:Array.isArray(r.checked)?e._i(r.checked,e.value)>-1:r.checked},on:{change:function(t){var a=r.checked,n=t.target,s=!!n.checked;if(Array.isArray(a)){var i=e.value,o=e._i(a,i);n.checked?o<0&&(r.checked=a.concat([i])):o>-1&&(r.checked=a.slice(0,o).concat(a.slice(o+1)))}else r.checked=s}}})}),[],!1,null,null,null).exports,B=r(1903),z=r(70),W={props:{value:{type:Boolean,default:!1}},methods:{onClick:function(){this.$emit("input",!this.value)}}},H=Object(p.a)(W,(function(){var e=this,t=e._self._c;return t("button",{staticClass:"relative flex-shrink-0 h-4 p-0 border-none shadow-inner w-7 rounded-3xl",class:e.value?"bg-primary-600 shadow-primary-800":"shadow-ash-400 bg-ash-200",attrs:{type:"button",role:"switch","aria-checked":e.value.toString()},on:{click:e.onClick}},[t("span",{staticClass:"rounded-full bg-white top-0.5 absolute dark:bg-white w-3 h-3 translate-y-0 duration-200 transition-transform ease-in-out",class:e.value?"ltr:translate-x-0 rtl:translate-x-[12px]":"ltr:-translate-x-[12px] rtl:translate-x-0",attrs:{"aria-hidden":"true"}})])}),[],!1,null,null,null).exports,Y=[{label:"PROFILE_SETTINGS.FORM.NOTIFICATIONS.TYPES.CONVERSATION_CREATED",value:"conversation_creation"},{label:"PROFILE_SETTINGS.FORM.NOTIFICATIONS.TYPES.CONVERSATION_ASSIGNED",value:"conversation_assignment"},{label:"PROFILE_SETTINGS.FORM.NOTIFICATIONS.TYPES.CONVERSATION_MENTION",value:"conversation_mention"},{label:"PROFILE_SETTINGS.FORM.NOTIFICATIONS.TYPES.ASSIGNED_CONVERSATION_NEW_MESSAGE",value:"assigned_conversation_new_message"},{label:"PROFILE_SETTINGS.FORM.NOTIFICATIONS.TYPES.PARTICIPATING_CONVERSATION_NEW_MESSAGE",value:"participating_conversation_new_message"},{label:"PROFILE_SETTINGS.FORM.NOTIFICATIONS.TYPES.SLA_MISSED_FIRST_RESPONSE",value:"sla_missed_first_response"},{label:"PROFILE_SETTINGS.FORM.NOTIFICATIONS.TYPES.SLA_MISSED_NEXT_RESPONSE",value:"sla_missed_next_response"},{label:"PROFILE_SETTINGS.FORM.NOTIFICATIONS.TYPES.SLA_MISSED_RESOLUTION",value:"sla_missed_resolution"}],q=[{value:"none",label:"none"},{value:"mine",label:"mine"},{value:"all",label:"all"}];function V(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return K(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function X(e,t,r,a,n,s,i){try{var o=e[s](i),l=o.value}catch(u){return void r(u)}o.done?t(l):Promise.resolve(l).then(a,n)}function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){Z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ee={components:{TableHeaderCell:G.a,FormSwitch:H,CheckBox:U},mixins:[s.a,j.a,n.a],data:function(){return{selectedEmailFlags:[],selectedPushFlags:[],enableAudioAlerts:!1,hasEnabledPushPermissions:!1,notificationTypes:Y}},computed:Q(Q({},Object(i.mapGetters)({accountId:"getCurrentAccountId",emailFlags:"userNotificationSettings/getSelectedEmailFlags",pushFlags:"userNotificationSettings/getSelectedPushFlags",uiSettings:"getUISettings",isFeatureEnabledonAccount:"accounts/isFeatureEnabledonAccount"})),{},{hasPushAPISupport:function(){return!!("Notification"in window)},isSLAEnabled:function(){return this.isFeatureEnabledonAccount(this.accountId,z.a.SLA)},filteredNotificationTypes:function(){var e=this;return this.notificationTypes.filter((function(t){return!!e.isSLAEnabled||!["sla_missed_first_response","sla_missed_next_response","sla_missed_resolution"].includes(t.value)}))}}),watch:{emailFlags:function(e){this.selectedEmailFlags=e},pushFlags:function(e){this.selectedPushFlags=e}},mounted:function(){Object(B.a)()&&this.getPushSubscription(),this.$store.dispatch("userNotificationSettings/get")},methods:{checkFlagStatus:function(e,t){return("email"===e?this.selectedEmailFlags:this.selectedPushFlags).includes("".concat(e,"_").concat(t))},onRegistrationSuccess:function(){this.hasEnabledPushPermissions=!0},onRequestPermissions:function(){Object(B.c)({onSuccess:this.onRegistrationSuccess})},getPushSubscription:function(){var e=this;Object(B.d)((function(t){return t.pushManager.getSubscription().then((function(t){e.hasEnabledPushPermissions=!!t})).catch((function(e){return console.log(e)}))}))},updateNotificationSettings:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.$store.dispatch("userNotificationSettings/update",{selectedEmailFlags:t.selectedEmailFlags,selectedPushFlags:t.selectedPushFlags}),t.showAlert(t.$t("PROFILE_SETTINGS.FORM.API.UPDATE_SUCCESS"))}catch(r){t.showAlert(t.$t("PROFILE_SETTINGS.FORM.API.UPDATE_ERROR"))}case 1:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(a,n){var s=e.apply(t,r);function i(e){X(s,a,n,i,o,"next",e)}function o(e){X(s,a,n,i,o,"throw",e)}i(void 0)}))})()},handleAudioInput:function(e){this.enableAudioAlerts=e.target.value,this.updateUISettings({enable_audio_alerts:this.enableAudioAlerts}),this.showAlert(this.$t("PROFILE_SETTINGS.FORM.API.UPDATE_SUCCESS"))},handleAudioAlertConditions:function(e){var t=e.target.value;"tab_is_inactive"===t?this.updateUISettings({always_play_audio_alert:!e.target.checked}):"conversations_are_read"===t&&this.updateUISettings({alert_if_unread_assigned_conversation_exist:e.target.checked}),this.showAlert(this.$t("PROFILE_SETTINGS.FORM.API.UPDATE_SUCCESS"))},handleAudioToneChange:function(e){this.updateUISettings({notification_tone:e}),this.showAlert(this.$t("PROFILE_SETTINGS.FORM.API.UPDATE_SUCCESS"))},handleInput:function(e,t){"email"===e?this.handleEmailInput(t):this.handlePushInput(t)},handleEmailInput:function(e){this.selectedEmailFlags=this.toggleInput(this.selectedEmailFlags,e),this.updateNotificationSettings()},handlePushInput:function(e){this.selectedPushFlags=this.toggleInput(this.selectedPushFlags,e),this.updateNotificationSettings()},toggleInput:function(e,t){return e.includes(t)?e.filter((function(e){return e!==t})):[].concat(V(e),[t])}}},te=ee,re=Object(p.a)(te,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex flex-col gap-6",attrs:{id:"profile-settings-notifications"}},[t("div",{staticClass:"hidden sm:block"},[t("div",{staticClass:"grid content-center h-12 grid-cols-12 gap-4 py-0 rounded-t-xl"},[t("table-header-cell",{attrs:{span:7,label:"`${$t('PROFILE_SETTINGS.FORM.NOTIFICATIONS.TYPE_TITLE')}`"}},[t("span",{staticClass:"text-sm font-normal normal-case text-ash-800"},[e._v("\n          "+e._s(e.$t("PROFILE_SETTINGS.FORM.NOTIFICATIONS.TYPE_TITLE"))+"\n        ")])]),e._v(" "),t("table-header-cell",{attrs:{span:2,label:"`${$t('PROFILE_SETTINGS.FORM.NOTIFICATIONS.EMAIL')}`"}},[t("span",{staticClass:"text-sm font-medium normal-case text-ash-900"},[e._v("\n          "+e._s(e.$t("PROFILE_SETTINGS.FORM.NOTIFICATIONS.EMAIL"))+"\n        ")])]),e._v(" "),t("table-header-cell",{attrs:{span:3,label:"`${$t('PROFILE_SETTINGS.FORM.NOTIFICATIONS.PUSH')}`"}},[t("div",{staticClass:"flex items-center justify-between gap-1"},[t("span",{staticClass:"text-sm font-medium normal-case text-ash-900 whitespace-nowrap"},[e._v("\n            "+e._s(e.$t("PROFILE_SETTINGS.FORM.NOTIFICATIONS.PUSH"))+"\n          ")])])])],1),e._v(" "),e._l(e.filteredNotificationTypes,(function(r,a){return t("div",{key:a},[t("div",{staticClass:"grid items-center content-center h-12 grid-cols-12 gap-4 py-0 rounded-t-xl"},[t("div",{staticClass:"flex flex-row items-start gap-2 col-span-7 px-0 py-2 text-sm tracking-[0.5] rtl:text-right"},[t("span",{staticClass:"text-sm text-ash-900"},[e._v("\n            "+e._s(e.$t(r.label))+"\n          ")])]),e._v(" "),e._l(["email","push"],(function(a,n){return t("div",{key:n,staticClass:"flex items-start gap-2 px-0 text-sm tracking-[0.5] text-left rtl:text-right",class:"col-span-"+("push"===a?3:2)},[t("CheckBox",{attrs:{value:`${a}_${r.value}`,"is-checked":e.checkFlagStatus(a,r.value,e.selectedPushFlags)},on:{update:t=>e.handleInput(a,t)}})],1)}))],2)])}))],2),e._v(" "),t("div",{staticClass:"flex flex-col gap-6 sm:hidden"},[t("span",{staticClass:"text-sm font-medium normal-case text-ash-900"},[e._v("\n      "+e._s(e.$t("PROFILE_SETTINGS.FORM.EMAIL_NOTIFICATIONS_SECTION.TITLE"))+"\n    ")]),e._v(" "),t("div",{staticClass:"flex flex-col gap-4"},e._l(e.filteredNotificationTypes,(function(r,a){return t("div",{key:a,staticClass:"flex flex-row items-start gap-2"},[t("CheckBox",{attrs:{id:`email_${r.value}`,value:`email_${r.value}`,"is-checked":e.checkFlagStatus("email",r.value)},on:{update:e.handleEmailInput}}),e._v(" "),t("span",{staticClass:"text-sm text-ash-900"},[e._v(e._s(e.$t(r.label)))])],1)})),0),e._v(" "),t("div",{staticClass:"flex items-center justify-start gap-2"},[t("span",{staticClass:"text-sm font-medium normal-case text-ash-900"},[e._v("\n        "+e._s(e.$t("PROFILE_SETTINGS.FORM.PUSH_NOTIFICATIONS_SECTION.TITLE"))+"\n      ")])]),e._v(" "),t("div",{staticClass:"flex flex-col gap-4"},e._l(e.filteredNotificationTypes,(function(r,a){return t("div",{key:a,staticClass:"flex flex-row items-start gap-2"},[t("CheckBox",{attrs:{id:`push_${r.value}`,value:`push_${r.value}`,"is-checked":e.checkFlagStatus("push",r.value)},on:{update:e.handlePushInput}}),e._v(" "),t("span",{staticClass:"text-sm text-ash-900"},[e._v(e._s(e.$t(r.label)))])],1)})),0)]),e._v(" "),t("div",{staticClass:"flex items-center justify-between w-full gap-2 p-4 border border-solid border-ash-200 rounded-xl"},[t("div",{staticClass:"flex flex-row items-center gap-2"},[t("fluent-icon",{staticClass:"flex-shrink-0 text-ash-900",attrs:{icon:"alert",size:"18"}}),e._v(" "),t("span",{staticClass:"text-sm text-ash-900"},[e._v("\n        "+e._s(e.$t("PROFILE_SETTINGS.FORM.NOTIFICATIONS.BROWSER_PERMISSION"))+"\n      ")])],1),e._v(" "),t("form-switch",{attrs:{value:e.hasEnabledPushPermissions},on:{input:e.onRequestPermissions}})],1)])}),[],!1,null,null,null).exports,ae={components:{WithLabel:r(2671).a},props:{id:{type:String,default:""},options:{type:Array,default:function(){return[]}},placeholder:{type:String,default:""},name:{type:String,required:!0},icon:{type:String,default:""},label:{type:String,required:!0},value:{type:String,default:""},hasError:{type:Boolean,default:!1},errorMessage:{type:String,default:""}},methods:{onInput:function(e){this.$emit("input",e.target.value)}}},ne=(r(3205),Object(p.a)(ae,(function(){var e=this,t=e._self._c;return t("with-label",{attrs:{label:e.label,icon:e.icon,name:e.name,"has-error":e.hasError,"error-message":e.errorMessage}},[t("select",{staticClass:"block w-full px-3 py-2 pr-6 mb-0 border-0 shadow-sm outline-none appearance-none rounded-xl select-caret ring-ash-200 ring-1 ring-inset placeholder:text-ash-900 focus:ring-2 focus:ring-inset focus:ring-primary-500 sm:text-sm sm:leading-6",class:{"text-ash-400":!e.value,"text-ash-900":e.value,"pl-9":e.icon},attrs:{id:e.id,selected:e.value,name:e.name},on:{input:e.onInput}},[t("option",{staticClass:"hidden",attrs:{value:"",disabled:"",selected:""}},[e._v("\n      "+e._s(e.placeholder)+"\n    ")]),e._v(" "),e._t("default",(function(){return e._l(e.options,(function(r){return t("option",{key:r.value,domProps:{value:r.value}},[e._v("\n        "+e._s(r.label)+"\n      ")])}))}))],2)])}),[],!1,null,"941993c2",null).exports),se={__name:"AudioAlertTone",props:{value:{type:String,required:!0,validator:function(e){return["ding","bell"].includes(e)}},label:{type:String,default:""}},emits:["change"],setup:function(e,t){var r=t.emit,a=e,n=Object(u.computed)((function(){return[{value:"ding",label:"Ding"},{value:"bell",label:"Bell"}]})),s=Object(u.computed)({get:function(){return a.value},set:function(e){r("change",e)}});return{__sfc:!0,props:a,alertTones:n,emit:r,selectedValue:s,FormSelect:ne}}},ie=Object(p.a)(se,(function(){var e=this,t=e._self._c,r=e._self._setupProxy;return t(r.FormSelect,{staticClass:"max-w-xl",attrs:{name:"alertTone",spacing:"compact",value:r.selectedValue,options:r.alertTones,label:e.label},model:{value:r.selectedValue,callback:function(e){r.selectedValue=e},expression:"selectedValue"}},e._l(r.alertTones,(function(a){return t("option",{key:a.label,domProps:{value:a.value,selected:a.value===r.selectedValue}},[e._v("\n    "+e._s(a.label)+"\n  ")])})),0)}),[],!1,null,null,null).exports,oe={__name:"AudioAlertEvent",props:{label:{type:String,default:""},value:{type:String,default:"all"}},emits:["update"],setup:function(e,t){var r=t.emit,a=e,n=q,s=Object(u.computed)({get:function(){return a.value},set:function(e){r("update",e)}});return{__sfc:!0,props:a,alertEvents:n,emit:r,selectedValue:s}}},le=Object(p.a)(oe,(function(){var e=this,t=e._self._c,r=e._self._setupProxy;return t("div",[t("label",{staticClass:"flex justify-between pb-1 text-sm font-medium leading-6 text-ash-900"},[e._v("\n    "+e._s(e.label)+"\n  ")]),e._v(" "),t("div",{staticClass:"flex flex-row justify-between h-10 max-w-xl p-2 border border-solid rounded-xl border-ash-200"},e._l(r.alertEvents,(function(a){return t("div",{key:a.value,staticClass:"flex flex-row items-center justify-center gap-2 px-4 border-r border-ash-200 grow last:border-r-0"},[t("input",{directives:[{name:"model",rawName:"v-model",value:r.selectedValue,expression:"selectedValue"}],staticClass:"shadow-sm cursor-pointer grid place-items-center border-2 border-ash-200 appearance-none rounded-full w-4 h-4 checked:bg-primary-600 before:content-[''] before:bg-primary-600 before:border-4 before:rounded-full before:border-ash-25 checked:before:w-[14px] checked:before:h-[14px] checked:border checked:border-primary-600",attrs:{id:`radio-${a.value}`,type:"radio"},domProps:{value:a.value,checked:e._q(r.selectedValue,a.value)},on:{change:function(e){r.selectedValue=a.value}}}),e._v(" "),t("label",{staticClass:"text-sm font-medium",class:r.selectedValue===a.value?"text-ash-900":"text-ash-800",attrs:{for:`radio-${a.value}`}},[e._v("\n        "+e._s(e.$t(`PROFILE_SETTINGS.FORM.AUDIO_NOTIFICATIONS_SECTION.ALERT_TYPES.${a.label.toUpperCase()}`))+"\n      ")])])})),0)])}),[],!1,null,null,null).exports,ue={__name:"AudioAlertCondition",props:{label:{type:String,required:!0},items:{type:Array,required:!0}},emits:["change"],setup:function(e,t){var r=t.emit;return{__sfc:!0,emit:r,onChange:function(e,t){r("change",e,t)},CheckBox:U}}};function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function de(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pe={components:{AudioAlertEvent:le,AudioAlertTone:ie,AudioAlertCondition:Object(p.a)(ue,(function(){var e=this,t=e._self._c,r=e._self._setupProxy;return t("div",[t("label",{staticClass:"flex justify-between pb-1 text-sm font-medium leading-6 text-ash-900"},[e._v("\n    "+e._s(e.label)+"\n  ")]),e._v(" "),t("div",{staticClass:"flex flex-col gap-4"},e._l(e.items,(function(a){return t("div",{key:a.id,staticClass:"flex flex-row items-start gap-2"},[t(r.CheckBox,{attrs:{"is-checked":a.model,value:a.value},on:{update:r.onChange}}),e._v(" "),t("label",{staticClass:"text-sm font-normal text-ash-900"},[e._v("\n        "+e._s(a.label)+"\n      ")])],1)})),0)])}),[],!1,null,null,null).exports},mixins:[s.a,j.a,n.a],data:function(){return{audioAlert:"",playAudioWhenTabIsInactive:!1,alertIfUnreadConversationExist:!1,alertTone:"ding",audioAlertConditions:[]}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){de(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(i.mapGetters)({accountId:"getCurrentAccountId",uiSettings:"getUISettings"})),watch:{uiSettings:function(e){this.notificationUISettings(e)}},mounted:function(){this.notificationUISettings(this.uiSettings),this.$store.dispatch("userNotificationSettings/get")},methods:{notificationUISettings:function(e){var t=e.enable_audio_alerts,r=void 0===t?"":t,a=e.always_play_audio_alert,n=e.alert_if_unread_assigned_conversation_exist,s=e.notification_tone;this.audioAlert=r,this.playAudioWhenTabIsInactive=!a,this.alertIfUnreadConversationExist=n,this.audioAlertConditions=[{id:"audio1",label:this.$t("PROFILE_SETTINGS.FORM.AUDIO_NOTIFICATIONS_SECTION.CONDITIONS.CONDITION_ONE"),model:this.playAudioWhenTabIsInactive,value:"tab_is_inactive"},{id:"audio2",label:this.$t("PROFILE_SETTINGS.FORM.AUDIO_NOTIFICATIONS_SECTION.CONDITIONS.CONDITION_TWO"),model:this.alertIfUnreadConversationExist,value:"conversations_are_read"}],this.alertTone=s||"ding"},handAudioAlertChange:function(e){this.audioAlert=e,this.updateUISettings({enable_audio_alerts:this.audioAlert}),this.showAlert(this.$t("PROFILE_SETTINGS.FORM.API.UPDATE_SUCCESS"))},handleAudioAlertConditions:function(e,t){"tab_is_inactive"===e?this.updateUISettings({always_play_audio_alert:!t}):"conversations_are_read"===e&&this.updateUISettings({alert_if_unread_assigned_conversation_exist:t}),this.showAlert(this.$t("PROFILE_SETTINGS.FORM.API.UPDATE_SUCCESS"))},handleAudioToneChange:function(e){this.updateUISettings({notification_tone:e}),this.showAlert(this.$t("PROFILE_SETTINGS.FORM.API.UPDATE_SUCCESS"))}}},fe=pe,me=Object(p.a)(fe,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex flex-col gap-6",attrs:{id:"profile-settings-notifications"}},[t("audio-alert-tone",{attrs:{value:e.alertTone,label:e.$t("PROFILE_SETTINGS.FORM.AUDIO_NOTIFICATIONS_SECTION.DEFAULT_TONE.TITLE")},on:{change:e.handleAudioToneChange}}),e._v(" "),t("audio-alert-event",{attrs:{label:e.$t("PROFILE_SETTINGS.FORM.AUDIO_NOTIFICATIONS_SECTION.ALERT_TYPE.TITLE"),value:e.audioAlert},on:{update:e.handAudioAlertChange}}),e._v(" "),t("audio-alert-condition",{attrs:{items:e.audioAlertConditions,label:e.$t("PROFILE_SETTINGS.FORM.AUDIO_NOTIFICATIONS_SECTION.CONDITIONS.TITLE")},on:{change:e.handleAudioAlertConditions}})],1)}),[],!1,null,null,null).exports,he={__name:"FormSection",props:{title:{type:String,default:""},description:{type:String,default:""}},setup:function(e){return{__sfc:!0}}},_e=Object(p.a)(he,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"flex flex-col items-start w-full gap-6"},[t("div",{staticClass:"flex flex-col w-full gap-4"},[e.title?t("h4",{staticClass:"text-lg font-medium text-ash-900"},[e._v("\n      "+e._s(e.title)+"\n    ")]):e._e(),e._v(" "),e._m(0),e._v(" "),e.description?t("p",{staticClass:"mb-0 text-sm font-normal text-ash-900"},[e._v("\n      "+e._s(e.description)+"\n    ")]):e._e()]),e._v(" "),t("div",{staticClass:"flex flex-col w-full gap-6"},[e._t("default")],2)])}),[function(){var e=this._self._c;this._self._setupProxy;return e("div",{staticClass:"flex flex-row items-center justify-between"},[e("div",{staticClass:"flex-grow h-px bg-ash-200"})])}],!1,null,null,null).exports,Se={__name:"AccessToken",props:{value:{type:String,default:""}},emits:["on-copy"],setup:function(e,t){var r=t.emit,a=e,n=Object(u.ref)("password"),s=Object(u.computed)((function(){return"password"===n.value?"eye-hide":"eye-show"}));return{__sfc:!0,props:a,emit:r,inputType:n,toggleMasked:function(){n.value="password"===n.value?"text":"password"},maskIcon:s,onClick:function(){r("on-copy",a.value)},FormButton:I}}};function ve(e,t,r,a,n,s,i){try{var o=e[s](i),l=o.value}catch(u){return void r(u)}o.done?t(l):Promise.resolve(l).then(a,n)}function ge(e){return function(){var t=this,r=arguments;return new Promise((function(a,n){var s=e.apply(t,r);function i(e){ve(s,a,n,i,o,"next",e)}function o(e){ve(s,a,n,i,o,"throw",e)}i(void 0)}))}}function Ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(r),!0).forEach((function(t){Ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var be={components:{MessageSignature:A,FormSection:_e,UserProfilePicture:E,UserBasicDetails:N,HotKeyCard:w,ChangePassword:M,NotificationPreferences:re,AudioNotifications:me,AccessToken:Object(p.a)(Se,(function(){var e=this,t=e._self._c,r=e._self._setupProxy;return t("div",{staticClass:"flex flex-row justify-between gap-4"},[t("woot-input",{staticClass:"flex-1 [&>input]:!py-1.5 ltr:[&>input]:!pr-9 ltr:[&>input]:!pl-3 rtl:[&>input]:!pl-9 rtl:[&>input]:!pr-3 focus:[&>input]:!border-slate-200 focus:[&>input]:dark:!border-slate-600 [&>input]:cursor-not-allowed relative",attrs:{name:"access_token",styles:{borderRadius:"12px",fontSize:"14px",marginBottom:"2px"},type:r.inputType,value:e.value,readonly:""},scopedSlots:e._u([{key:"masked",fn:function(){return[t("button",{staticClass:"absolute top-1.5 ltr:right-0.5 rtl:left-0.5",on:{click:r.toggleMasked}},[t("fluent-icon",{attrs:{icon:r.maskIcon,size:16}})],1)]},proxy:!0}])}),e._v(" "),t(r.FormButton,{attrs:{type:"submit",size:"large",icon:"text-copy",variant:"outline","color-scheme":"secondary"},on:{click:r.onClick}},[e._v("\n    "+e._s(e.$t("PROFILE_SETTINGS.FORM.ACCESS_TOKEN.COPY"))+"\n  ")])],1)}),[],!1,null,null,null).exports},mixins:[s.a,a.a,n.a],data:function(){return{avatarFile:"",avatarUrl:"",name:"",displayName:"",email:"",messageSignature:"",hotKeys:[{key:"enter",title:this.$t("PROFILE_SETTINGS.FORM.SEND_MESSAGE.CARD.ENTER_KEY.HEADING"),description:this.$t("PROFILE_SETTINGS.FORM.SEND_MESSAGE.CARD.ENTER_KEY.CONTENT"),lightImage:"/assets/images/dashboard/profile/hot-key-enter.svg",darkImage:"/assets/images/dashboard/profile/hot-key-enter-dark.svg"},{key:"cmd_enter",title:this.$t("PROFILE_SETTINGS.FORM.SEND_MESSAGE.CARD.CMD_ENTER_KEY.HEADING"),description:this.$t("PROFILE_SETTINGS.FORM.SEND_MESSAGE.CARD.CMD_ENTER_KEY.CONTENT"),lightImage:"/assets/images/dashboard/profile/hot-key-ctrl-enter.svg",darkImage:"/assets/images/dashboard/profile/hot-key-ctrl-enter-dark.svg"}]}},computed:Oe({},Object(i.mapGetters)({currentUser:"getCurrentUser",currentUserId:"getCurrentUserID",globalConfig:"globalConfig/get"})),mounted:function(){this.currentUserId&&this.initializeUser()},methods:{initializeUser:function(){this.name=this.currentUser.name,this.email=this.currentUser.email,this.avatarUrl=this.currentUser.avatar_url,this.displayName=this.currentUser.display_name,this.messageSignature=this.currentUser.message_signature},isEditorHotKeyEnabled:n.b,dispatchUpdate:function(e,t,r){var a=this;return ge(regeneratorRuntime.mark((function n(){var s,i,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s="",n.prev=1,n.next=4,a.$store.dispatch("updateProfile",e);case 4:return s=t,n.abrupt("return",!0);case 8:return n.prev=8,n.t0=n.catch(1),s=null!==n.t0&&void 0!==n.t0&&null!==(i=n.t0.response)&&void 0!==i&&null!==(o=i.data)&&void 0!==o&&o.error?n.t0.response.data.error:r,n.abrupt("return",!1);case 12:return n.prev=12,a.showAlert(s),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[1,8,12,15]])})))()},updateProfile:function(e){var t=this;return ge(regeneratorRuntime.mark((function r(){var a,n,s,i,l,u;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.name,n=e.email,s=e.displayName,i=t.currentUser.email!==n,t.name=a||t.name,t.email=n||t.email,t.displayName=s||t.displayName,l={name:t.name,email:t.email,displayName:t.displayName,avatar:t.avatarFile},r.next=8,t.dispatchUpdate(l,i?t.$t("PROFILE_SETTINGS.AFTER_EMAIL_CHANGED"):t.$t("PROFILE_SETTINGS.UPDATE_SUCCESS"),t.$t("RESET_PASSWORD.API.ERROR_MESSAGE"));case 8:u=r.sent,i&&u&&Object(o.b)();case 10:case"end":return r.stop()}}),r)})))()},updateSignature:function(e){var t=this;return ge(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a={message_signature:e},n=t.$t("PROFILE_SETTINGS.FORM.MESSAGE_SIGNATURE_SECTION.API_SUCCESS"),s=t.$t("PROFILE_SETTINGS.FORM.MESSAGE_SIGNATURE_SECTION.API_ERROR"),r.next=5,t.dispatchUpdate(a,n,s);case 5:case"end":return r.stop()}}),r)})))()},updateProfilePicture:function(e){var t=e.file,r=e.url;this.avatarFile=t,this.avatarUrl=r},deleteProfilePicture:function(){var e=this;return ge(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("deleteAvatar");case 3:e.avatarUrl="",e.avatarFile="",e.showAlert(e.$t("PROFILE_SETTINGS.AVATAR_DELETE_SUCCESS")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.showAlert(e.$t("PROFILE_SETTINGS.AVATAR_DELETE_FAILED"));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},toggleHotKey:function(e){this.hotKeys=this.hotKeys.map((function(t){return t.key===e?Oe(Oe({},t),{},{active:!t.active}):t})),this.updateUISettings({editor_message_key:e}),this.showAlert(this.$t("PROFILE_SETTINGS.FORM.SEND_MESSAGE.UPDATE_SUCCESS"))},onCopyToken:function(e){var t=this;return ge(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(l.a)(e);case 2:t.showAlert(t.$t("COMPONENTS.CODE.COPY_SUCCESSFUL"));case 3:case"end":return r.stop()}}),r)})))()}}},Te=Object(p.a)(be,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"grid py-16 px-5 font-inter mx-auto gap-16 sm:max-w-[720px]"},[t("div",{staticClass:"flex flex-col gap-6"},[t("h2",{staticClass:"text-2xl font-medium text-ash-900"},[e._v("\n      "+e._s(e.$t("PROFILE_SETTINGS.TITLE"))+"\n    ")]),e._v(" "),t("user-profile-picture",{attrs:{src:e.avatarUrl,name:e.name,size:"72px"},on:{change:e.updateProfilePicture,delete:e.deleteProfilePicture}}),e._v(" "),t("user-basic-details",{attrs:{name:e.name,"display-name":e.displayName,email:e.email,"email-enabled":!e.globalConfig.disableUserProfileUpdate},on:{"update-user":e.updateProfile}})],1),e._v(" "),t("form-section",{attrs:{title:e.$t("PROFILE_SETTINGS.FORM.MESSAGE_SIGNATURE_SECTION.TITLE"),description:e.$t("PROFILE_SETTINGS.FORM.MESSAGE_SIGNATURE_SECTION.NOTE")}},[t("message-signature",{attrs:{"message-signature":e.messageSignature},on:{"update-signature":e.updateSignature}})],1),e._v(" "),t("form-section",{attrs:{title:e.$t("PROFILE_SETTINGS.FORM.SEND_MESSAGE.TITLE"),description:e.$t("PROFILE_SETTINGS.FORM.SEND_MESSAGE.NOTE")}},[t("div",{staticClass:"flex flex-col justify-between w-full gap-5 sm:gap-4 sm:flex-row"},e._l(e.hotKeys,(function(r){return t("button",{key:r.key,staticClass:"px-0 reset-base"},[t("hot-key-card",{key:r.title,attrs:{title:r.title,description:r.description,"light-image":r.lightImage,"dark-image":r.darkImage,active:e.isEditorHotKeyEnabled(e.uiSettings,r.key)},on:{click:function(t){return e.toggleHotKey(r.key)}}})],1)})),0)]),e._v(" "),t("form-section",{attrs:{title:e.$t("PROFILE_SETTINGS.FORM.PASSWORD_SECTION.TITLE")}},[e.globalConfig.disableUserProfileUpdate?e._e():t("change-password")],1),e._v(" "),t("form-section",{attrs:{title:e.$t("PROFILE_SETTINGS.FORM.AUDIO_NOTIFICATIONS_SECTION.TITLE"),description:e.$t("PROFILE_SETTINGS.FORM.AUDIO_NOTIFICATIONS_SECTION.NOTE")}},[t("audio-notifications")],1),e._v(" "),t("form-section",{attrs:{title:e.$t("PROFILE_SETTINGS.FORM.NOTIFICATIONS.TITLE")}},[t("notification-preferences")],1),e._v(" "),t("form-section",{attrs:{title:e.$t("PROFILE_SETTINGS.FORM.ACCESS_TOKEN.TITLE"),description:e.useInstallationName(e.$t("PROFILE_SETTINGS.FORM.ACCESS_TOKEN.NOTE"),e.globalConfig.installationName)}},[t("access-token",{attrs:{value:e.currentUser.access_token},on:{"on-copy":e.onCopyToken}})],1)],1)}),[],!1,null,null,null);t.default=Te.exports}}]);
//# sourceMappingURL=74-1bbb0867d854219831e3.chunk.js.map