(window.webpackJsonp=window.webpackJsonp||[]).push([[62,85],{2827:function(t,e,o){},2953:function(t,e,o){"use strict";o(2827)},3075:function(t,e,o){},3116:function(t,e,o){"use strict";o.r(e);o(35),o(43),o(9),o(36),o(10),o(27);var a=o(79),n=o(66),r=o(326),s=o(96);function l(t,e,o,a,n,r,s){try{var l=t[r](s),i=l.value}catch(c){return void o(c)}l.done?e(i):Promise.resolve(i).then(a,n)}var i={components:{CategoryNameIconInput:o(1994).a},mixins:[a.a],props:{show:{type:Boolean,default:!0},portalName:{type:String,default:""},locale:{type:String,default:""},category:{type:Object,default:function(){}},selectedPortalSlug:{type:String,default:""}},data:function(){return{id:this.category.id,name:"",icon:"",slug:"",description:""}},validations:{name:{required:n.required,minLength:Object(n.minLength)(2)},slug:{required:n.required}},computed:{slugError:function(){return this.$v.slug.$error?this.$t("HELP_CENTER.CATEGORY.ADD.SLUG.ERROR"):""}},mounted:function(){this.updateDataFromStore()},methods:{updateDataFromStore:function(){var t=this.category;this.name=t.name,this.icon=t.icon,this.slug=t.slug,this.description=t.description},changeName:function(t){this.name=t,this.slug=Object(r.b)(this.name)},onClickInsertEmoji:function(t){this.icon=t},onUpdate:function(){this.$emit("update")},onClose:function(){this.$emit("cancel")},editCategory:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var o,a,n,r,l,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.id,a=e.name,n=e.slug,r=e.icon,l=e.description,i={id:o,name:a,icon:r,slug:n,description:l},e.$v.$touch(),!e.$v.$invalid){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,t.next=8,e.$store.dispatch("categories/update",{portalSlug:e.selectedPortalSlug,categoryId:o,categoryObj:i});case 8:e.alertMessage=e.$t("HELP_CENTER.CATEGORY.EDIT.API.SUCCESS_MESSAGE"),e.$track(s.i.EDIT_CATEGORY),e.onClose(),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(5),c=null===t.t0||void 0===t.t0?void 0:t.t0.message,e.alertMessage=c||e.$t("HELP_CENTER.CATEGORY.EDIT.API.ERROR_MESSAGE");case 17:return t.prev=17,e.showAlert(e.alertMessage),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[5,13,17,20]])})),function(){var e=this,o=arguments;return new Promise((function(a,n){var r=t.apply(e,o);function s(t){l(r,a,n,s,i,"next",t)}function i(t){l(r,a,n,s,i,"throw",t)}s(void 0)}))})()}}},c=i,u=(o(2953),o(8)),E=Object(u.a)(c,(function(){var t=this,e=t._self._c;return e("woot-modal",{attrs:{show:t.show,"on-close":t.onClose},on:{"update:show":function(e){t.show=e}}},[e("woot-modal-header",{attrs:{"header-title":t.$t("HELP_CENTER.CATEGORY.EDIT.TITLE"),"header-content":t.$t("HELP_CENTER.CATEGORY.EDIT.SUB_TITLE")}}),t._v(" "),e("form",{staticClass:"w-full",on:{submit:function(e){return e.preventDefault(),t.onUpdate.apply(null,arguments)}}},[e("div",{staticClass:"w-full"},[e("div",{staticClass:"flex flex-row w-full mt-0 mx-0 mb-4"},[e("div",{staticClass:"w-[50%]"},[e("label",[e("span",[t._v(t._s(t.$t("HELP_CENTER.CATEGORY.EDIT.PORTAL")))]),t._v(" "),e("p",{staticClass:"text-slate-600 dark:text-slate-400"},[t._v(t._s(t.portalName))])])]),t._v(" "),e("div",{staticClass:"w-[50%]"},[e("label",[e("span",[t._v(t._s(t.$t("HELP_CENTER.CATEGORY.EDIT.LOCALE")))]),t._v(" "),e("p",{staticClass:"text-slate-600 dark:text-slate-400"},[t._v(t._s(t.locale))])])])]),t._v(" "),e("category-name-icon-input",{attrs:{label:t.$t("HELP_CENTER.CATEGORY.EDIT.NAME.LABEL"),placeholder:t.$t("HELP_CENTER.CATEGORY.EDIT.NAME.PLACEHOLDER"),"help-text":t.$t("HELP_CENTER.CATEGORY.EDIT.NAME.HELP_TEXT"),"has-error":t.$v.name.$error,"error-message":t.$t("HELP_CENTER.CATEGORY.ADD.NAME.ERROR"),"existing-name":t.category.name,"saved-icon":t.category.icon},on:{"name-change":t.changeName,"icon-change":t.onClickInsertEmoji}}),t._v(" "),e("woot-input",{staticClass:"w-full",class:{error:t.$v.slug.$error},attrs:{error:t.slugError,label:t.$t("HELP_CENTER.CATEGORY.EDIT.SLUG.LABEL"),placeholder:t.$t("HELP_CENTER.CATEGORY.EDIT.SLUG.PLACEHOLDER"),"help-text":t.$t("HELP_CENTER.CATEGORY.EDIT.SLUG.HELP_TEXT")},on:{input:t.$v.slug.$touch},model:{value:t.slug,callback:function(e){t.slug="string"===typeof e?e.trim():e},expression:"slug"}}),t._v(" "),e("label",[t._v("\n        "+t._s(t.$t("HELP_CENTER.CATEGORY.EDIT.DESCRIPTION.LABEL"))+"\n        "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{rows:"3",type:"text",placeholder:t.$t("HELP_CENTER.CATEGORY.EDIT.DESCRIPTION.PLACEHOLDER")},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"w-full"},[e("div",{staticClass:"flex flex-row justify-end gap-2 py-2 px-0 w-full"},[e("woot-button",{staticClass:"button clear",on:{click:function(e){return e.preventDefault(),t.onClose.apply(null,arguments)}}},[t._v("\n            "+t._s(t.$t("HELP_CENTER.CATEGORY.EDIT.BUTTONS.CANCEL"))+"\n          ")]),t._v(" "),e("woot-button",{on:{click:t.editCategory}},[t._v("\n            "+t._s(t.$t("HELP_CENTER.CATEGORY.EDIT.BUTTONS.CREATE"))+"\n          ")])],1)])],1)])],1)}),[],!1,null,"164550a9",null);e.default=E.exports},3285:function(t,e,o){"use strict";o(3075)},3368:function(t,e,o){"use strict";o.r(e);o(35),o(43),o(88),o(10),o(27);var a=o(1931),n=o(1780),r=o(1778),s=o(369),l=o(96),i=o(6),c={props:{categories:{type:Array,default:function(){return[]}}},methods:{editCategory:function(t){this.$emit("edit",t)},deleteCategory:function(t){this.$emit("delete",t)}}},u=(o(3285),o(8)),E=Object(u.a)(c,(function(){var t=this,e=t._self._c;return e("div",[e("table",[e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("\n          "+t._s(t.$t("HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.NAME"))+"\n        ")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("\n          "+t._s(t.$t("HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.DESCRIPTION"))+"\n        ")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("\n          "+t._s(t.$t("HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.LOCALE"))+"\n        ")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("\n          "+t._s(t.$t("HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.ARTICLE_COUNT"))+"\n        ")]),t._v(" "),e("th",{attrs:{scope:"col"}})])]),t._v(" "),t._m(0),t._v(" "),e("tbody",t._l(t.categories,(function(o){return e("tr",{key:o.id},[e("td",[e("span",[t._v(t._s(o.icon)+" "+t._s(o.name))])]),t._v(" "),e("td",[e("span",[t._v(t._s(o.description))])]),t._v(" "),e("td",[e("span",[t._v(t._s(o.locale))])]),t._v(" "),e("td",[e("span",[t._v(t._s(o.meta.articles_count))])]),t._v(" "),e("td",[e("woot-button",{directives:[{name:"tooltip",rawName:"v-tooltip.top-end",value:t.$t("HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.ACTION_BUTTON.EDIT"),expression:"\n              $t(\n                'HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.ACTION_BUTTON.EDIT'\n              )\n            ",modifiers:{"top-end":!0}}],attrs:{size:"tiny",variant:"smooth",icon:"edit","color-scheme":"secondary"},on:{click:function(e){return t.editCategory(o)}}}),t._v(" "),e("woot-button",{directives:[{name:"tooltip",rawName:"v-tooltip.top-end",value:t.$t("HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.ACTION_BUTTON.DELETE"),expression:"\n              $t(\n                'HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.ACTION_BUTTON.DELETE'\n              )\n            ",modifiers:{"top-end":!0}}],attrs:{size:"tiny",variant:"smooth",icon:"delete","color-scheme":"alert"},on:{click:function(e){return t.deleteCategory(o)}}})],1)])})),0)]),t._v(" "),0===t.categories.length?e("p",{staticClass:"flex justify-center text-slate-500 dark:text-slate-300 text-base mt-8"},[t._v("\n    "+t._s(t.$t("HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.EMPTY_TEXT"))+"\n  ")]):t._e()])}),[function(){var t=this._self._c;return t("tr",[t("td",{staticClass:"horizontal-line",attrs:{colspan:"100%"}})])}],!1,null,"ab335bce",null).exports,d=o(2074),C=o(3116);function T(t,e,o,a,n,r,s){try{var l=t[r](s),i=l.value}catch(c){return void o(c)}l.done?e(i):Promise.resolve(i).then(a,n)}function p(t){return function(){var e=this,o=arguments;return new Promise((function(a,n){var r=t.apply(e,o);function s(t){T(r,a,n,s,l,"next",t)}function l(t){T(r,a,n,s,l,"throw",t)}s(void 0)}))}}var v={__name:"ListAllCategories",setup:function(t){Object(i.defineComponent)({name:"ListAllCategories"});var e=Object(i.ref)({}),o=Object(i.ref)("en"),c=Object(i.ref)(!1),u=Object(i.ref)(!1),T=Object(n.b)(),v=Object(n.a)(),_=Object(a.a)(),f=Object(s.b)(),g=Object(r.a)().t,m=Object(i.computed)((function(){return _.params.portalSlug})),h=Object(i.computed)((function(){return T["categories/categoriesByLocaleCode"].value(o.value)})),R=Object(i.computed)((function(){var t=m.value;return t?T["portals/portalBySlug"].value(t):T["portals/allPortals"].value[0]})),A=Object(i.computed)((function(){return R.value?R.value.name:""})),L=Object(i.computed)((function(){return R.value?R.value.config.allowed_locales:[]})),O=Object(i.computed)((function(){return L.value.map((function(t){return t.code}))}));function y(t){return P.apply(this,arguments)}function P(){return(P=p(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.dispatch("categories/index",{portalSlug:m.value,locale:e});case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function I(){return(I=p(regeneratorRuntime.mark((function t(e){var o,a,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="",t.prev=1,t.next=4,v.dispatch("categories/delete",{portalSlug:m.value,categoryId:e.id});case 4:o=g("HELP_CENTER.CATEGORY.DELETE.API.SUCCESS_MESSAGE"),f(l.i.DELETE_CATEGORY,{hasArticles:0!==(null===e||void 0===e||null===(a=e.meta)||void 0===a?void 0:a.articles_count)}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),n=null===t.t0||void 0===t.t0?void 0:t.t0.message,o=n||g("HELP_CENTER.CATEGORY.DELETE.API.ERROR_MESSAGE");case 12:return t.prev=12,Object(s.a)(o),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,8,12,15]])})))).apply(this,arguments)}return{__sfc:!0,selectedCategory:e,currentLocaleCode:o,showEditCategoryModal:c,showAddCategoryModal:u,getters:T,store:v,route:_,track:f,t:g,currentPortalSlug:m,categoriesByLocaleCode:h,currentPortal:R,currentPortalName:A,allLocales:L,allowedLocaleCodes:O,openAddCategoryModal:function(){u.value=!0},openEditCategoryModal:function(t){e.value=t,c.value=!0},closeAddCategoryModal:function(){u.value=!1},closeEditCategoryModal:function(){c.value=!1},fetchCategoriesByPortalSlugAndLocale:y,deleteCategory:function(t){return I.apply(this,arguments)},changeCurrentCategory:function(t){var e=t.target.value;o.value=e,y(e)},CategoryListItem:E,AddCategory:d.a,EditCategory:C.default}}},_=v,f=Object(u.a)(_,(function(){var t=this,e=t._self._c,o=t._self._setupProxy;return e("div",{staticClass:"w-full max-w-6xl"},[e("header",{staticClass:"flex items-center justify-between mb-4"},[e("div",{staticClass:"flex items-center w-full gap-3"},[e("label",{staticClass:"mb-0 text-base font-normal text-slate-800 dark:text-slate-100"},[t._v("\n        "+t._s(t.$t("HELP_CENTER.PORTAL.EDIT.CATEGORIES.TITLE"))+"\n      ")]),t._v(" "),e("select",{staticClass:"w-[15%] h-8 mb-0 py-0.5",domProps:{value:o.currentLocaleCode},on:{change:o.changeCurrentCategory}},t._l(o.allowedLocaleCodes,(function(o){return e("option",{key:o,domProps:{value:o}},[t._v("\n          "+t._s(o)+"\n        ")])})),0)]),t._v(" "),e("div",{staticClass:"items-center flex-none"},[e("woot-button",{attrs:{size:"small",variant:"smooth","color-scheme":"primary",icon:"add"},on:{click:o.openAddCategoryModal}},[t._v("\n        "+t._s(t.$t("HELP_CENTER.PORTAL.EDIT.CATEGORIES.NEW_CATEGORY"))+"\n      ")])],1)]),t._v(" "),e("div",{staticClass:"category-list"},[e(o.CategoryListItem,{attrs:{categories:o.categoriesByLocaleCode},on:{delete:o.deleteCategory,edit:o.openEditCategoryModal}})],1),t._v(" "),o.showEditCategoryModal?e(o.EditCategory,{attrs:{show:o.showEditCategoryModal,"portal-name":o.currentPortalName,locale:o.selectedCategory.locale,category:o.selectedCategory,"selected-portal-slug":o.currentPortalSlug},on:{"update:show":function(t){o.showEditCategoryModal=t},cancel:o.closeEditCategoryModal}}):t._e(),t._v(" "),o.showAddCategoryModal?e(o.AddCategory,{attrs:{show:o.showAddCategoryModal,"portal-name":o.currentPortalName,locale:o.currentLocaleCode},on:{"update:show":function(t){o.showAddCategoryModal=t},cancel:o.closeAddCategoryModal}}):t._e()],1)}),[],!1,null,null,null);e.default=f.exports}}]);
//# sourceMappingURL=62-7179083af28488884255.chunk.js.map